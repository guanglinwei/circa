(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var Pf={exports:{}},Xo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function ST(){if(Ey)return Xo;Ey=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:h}}return Xo.Fragment=t,Xo.jsx=i,Xo.jsxs=i,Xo}var Ty;function bT(){return Ty||(Ty=1,Pf.exports=ST()),Pf.exports}var De=bT(),zf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function RT(){if(Ay)return vt;Ay=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function B(I){return I===null||typeof I!="object"?null:(I=V&&I[V]||I["@@iterator"],typeof I=="function"?I:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,rt={};function et(I,K,J){this.props=I,this.context=K,this.refs=rt,this.updater=J||Y}et.prototype.isReactComponent={},et.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function kt(){}kt.prototype=et.prototype;function wt(I,K,J){this.props=I,this.context=K,this.refs=rt,this.updater=J||Y}var gt=wt.prototype=new kt;gt.constructor=wt,tt(gt,et.prototype),gt.isPureReactComponent=!0;var Ut=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function O(I,K,J,X,ot,Tt){return J=Tt.ref,{$$typeof:a,type:I,key:K,ref:J!==void 0?J:null,props:Tt}}function S(I,K){return O(I.type,K,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function D(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(J){return K[J]})}var N=/\/+/g;function U(I,K){return typeof I=="object"&&I!==null&&I.key!=null?D(""+I.key):K.toString(36)}function w(){}function Ne(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,K,J,X,ot){var Tt=typeof I;(Tt==="undefined"||Tt==="boolean")&&(I=null);var mt=!1;if(I===null)mt=!0;else switch(Tt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(I.$$typeof){case a:case t:mt=!0;break;case A:return mt=I._init,ee(mt(I._payload),K,J,X,ot)}}if(mt)return ot=ot(I),mt=X===""?"."+U(I,0):X,Ut(ot)?(J="",mt!=null&&(J=mt.replace(N,"$&/")+"/"),ee(ot,K,J,"",function(Mn){return Mn})):ot!=null&&(R(ot)&&(ot=S(ot,J+(ot.key==null||I&&I.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+mt)),K.push(ot)),1;mt=0;var Se=X===""?".":X+":";if(Ut(I))for(var Xt=0;Xt<I.length;Xt++)X=I[Xt],Tt=Se+U(X,Xt),mt+=ee(X,K,J,Tt,ot);else if(Xt=B(I),typeof Xt=="function")for(I=Xt.call(I),Xt=0;!(X=I.next()).done;)X=X.value,Tt=Se+U(X,Xt++),mt+=ee(X,K,J,Tt,ot);else if(Tt==="object"){if(typeof I.then=="function")return ee(Ne(I),K,J,X,ot);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(I,K,J){if(I==null)return I;var X=[],ot=0;return ee(I,X,"","",function(Tt){return K.call(J,Tt,ot++)}),X}function $(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(J){(I._status===0||I._status===-1)&&(I._status=1,I._result=J)},function(J){(I._status===0||I._status===-1)&&(I._status=2,I._result=J)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var at=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Pt(){}return vt.Children={map:H,forEach:function(I,K,J){H(I,function(){K.apply(this,arguments)},J)},count:function(I){var K=0;return H(I,function(){K++}),K},toArray:function(I){return H(I,function(K){return K})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},vt.Component=et,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=wt,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,vt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return pt.H.useMemoCache(I)}},vt.cache=function(I){return function(){return I.apply(null,arguments)}},vt.cloneElement=function(I,K,J){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var X=tt({},I.props),ot=I.key,Tt=void 0;if(K!=null)for(mt in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(ot=""+K.key),K)!Ct.call(K,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&K.ref===void 0||(X[mt]=K[mt]);var mt=arguments.length-2;if(mt===1)X.children=J;else if(1<mt){for(var Se=Array(mt),Xt=0;Xt<mt;Xt++)Se[Xt]=arguments[Xt+2];X.children=Se}return O(I.type,ot,void 0,void 0,Tt,X)},vt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},vt.createElement=function(I,K,J){var X,ot={},Tt=null;if(K!=null)for(X in K.key!==void 0&&(Tt=""+K.key),K)Ct.call(K,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ot[X]=K[X]);var mt=arguments.length-2;if(mt===1)ot.children=J;else if(1<mt){for(var Se=Array(mt),Xt=0;Xt<mt;Xt++)Se[Xt]=arguments[Xt+2];ot.children=Se}if(I&&I.defaultProps)for(X in mt=I.defaultProps,mt)ot[X]===void 0&&(ot[X]=mt[X]);return O(I,Tt,void 0,void 0,null,ot)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(I){return{$$typeof:g,render:I}},vt.isValidElement=R,vt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:$}},vt.memo=function(I,K){return{$$typeof:v,type:I,compare:K===void 0?null:K}},vt.startTransition=function(I){var K=pt.T,J={};pt.T=J;try{var X=I(),ot=pt.S;ot!==null&&ot(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Pt,at)}catch(Tt){at(Tt)}finally{pt.T=K}},vt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},vt.use=function(I){return pt.H.use(I)},vt.useActionState=function(I,K,J){return pt.H.useActionState(I,K,J)},vt.useCallback=function(I,K){return pt.H.useCallback(I,K)},vt.useContext=function(I){return pt.H.useContext(I)},vt.useDebugValue=function(){},vt.useDeferredValue=function(I,K){return pt.H.useDeferredValue(I,K)},vt.useEffect=function(I,K,J){var X=pt.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(I,K)},vt.useId=function(){return pt.H.useId()},vt.useImperativeHandle=function(I,K,J){return pt.H.useImperativeHandle(I,K,J)},vt.useInsertionEffect=function(I,K){return pt.H.useInsertionEffect(I,K)},vt.useLayoutEffect=function(I,K){return pt.H.useLayoutEffect(I,K)},vt.useMemo=function(I,K){return pt.H.useMemo(I,K)},vt.useOptimistic=function(I,K){return pt.H.useOptimistic(I,K)},vt.useReducer=function(I,K,J){return pt.H.useReducer(I,K,J)},vt.useRef=function(I){return pt.H.useRef(I)},vt.useState=function(I){return pt.H.useState(I)},vt.useSyncExternalStore=function(I,K,J){return pt.H.useSyncExternalStore(I,K,J)},vt.useTransition=function(){return pt.H.useTransition()},vt.version="19.1.0",vt}var Sy;function Dd(){return Sy||(Sy=1,zf.exports=RT()),zf.exports}var tv=Dd(),Bf={exports:{}},Zo={},qf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function wT(){return by||(by=1,function(a){function t(H,$){var at=H.length;H.push($);t:for(;0<at;){var Pt=at-1>>>1,I=H[Pt];if(0<l(I,$))H[Pt]=$,H[at]=I,at=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var $=H[0],at=H.pop();if(at!==$){H[0]=at;t:for(var Pt=0,I=H.length,K=I>>>1;Pt<K;){var J=2*(Pt+1)-1,X=H[J],ot=J+1,Tt=H[ot];if(0>l(X,at))ot<I&&0>l(Tt,X)?(H[Pt]=Tt,H[ot]=at,Pt=ot):(H[Pt]=X,H[J]=at,Pt=J);else if(ot<I&&0>l(Tt,at))H[Pt]=Tt,H[ot]=at,Pt=ot;else break t}}return $}function l(H,$){var at=H.sortIndex-$.sortIndex;return at!==0?at:H.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,V=null,B=3,Y=!1,tt=!1,rt=!1,et=!1,kt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var $=i(v);$!==null;){if($.callback===null)s(v);else if($.startTime<=H)s(v),$.sortIndex=$.expirationTime,t(_,$);else break;$=i(v)}}function pt(H){if(rt=!1,Ut(H),!tt)if(i(_)!==null)tt=!0,Ct||(Ct=!0,U());else{var $=i(v);$!==null&&ee(pt,$.startTime-H)}}var Ct=!1,O=-1,S=5,R=-1;function D(){return et?!0:!(a.unstable_now()-R<S)}function N(){if(et=!1,Ct){var H=a.unstable_now();R=H;var $=!0;try{t:{tt=!1,rt&&(rt=!1,wt(O),O=-1),Y=!0;var at=B;try{e:{for(Ut(H),V=i(_);V!==null&&!(V.expirationTime>H&&D());){var Pt=V.callback;if(typeof Pt=="function"){V.callback=null,B=V.priorityLevel;var I=Pt(V.expirationTime<=H);if(H=a.unstable_now(),typeof I=="function"){V.callback=I,Ut(H),$=!0;break e}V===i(_)&&s(_),Ut(H)}else s(_);V=i(_)}if(V!==null)$=!0;else{var K=i(v);K!==null&&ee(pt,K.startTime-H),$=!1}}break t}finally{V=null,B=at,Y=!1}$=void 0}}finally{$?U():Ct=!1}}}var U;if(typeof gt=="function")U=function(){gt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ne=w.port2;w.port1.onmessage=N,U=function(){Ne.postMessage(null)}}else U=function(){kt(N,0)};function ee(H,$){O=kt(function(){H(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return B},a.unstable_next=function(H){switch(B){case 1:case 2:case 3:var $=3;break;default:$=B}var at=B;B=$;try{return H()}finally{B=at}},a.unstable_requestPaint=function(){et=!0},a.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=B;B=H;try{return $()}finally{B=at}},a.unstable_scheduleCallback=function(H,$,at){var Pt=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Pt+at:Pt):at=Pt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=at+I,H={id:A++,callback:$,priorityLevel:H,startTime:at,expirationTime:I,sortIndex:-1},at>Pt?(H.sortIndex=at,t(v,H),i(_)===null&&H===i(v)&&(rt?(wt(O),O=-1):rt=!0,ee(pt,at-Pt))):(H.sortIndex=I,t(_,H),tt||Y||(tt=!0,Ct||(Ct=!0,U()))),H},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(H){var $=B;return function(){var at=B;B=$;try{return H.apply(this,arguments)}finally{B=at}}}}(Hf)),Hf}var Ry;function IT(){return Ry||(Ry=1,qf.exports=wT()),qf.exports}var jf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function CT(){if(wy)return qe;wy=1;var a=Dd();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:V==null?null:""+V,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,A)},qe.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:B,fetchPriority:Y}):A==="script"&&s.d.X(_,{crossOrigin:V,integrity:B,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,V=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},qe.requestFormReset=function(_){s.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.1.0",qe}var Iy;function DT(){if(Iy)return jf.exports;Iy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),jf.exports=CT(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function OT(){if(Cy)return Zo;Cy=1;var a=IT(),t=Dd(),i=DT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,o=f;break}if(E===o){y=!0,o=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=c;break}if(E===o){y=!0,o=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),wt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case et:return"Profiler";case rt:return"StrictMode";case pt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case gt:return(e.displayName||"Context")+".Provider";case wt:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ne(e(n))}catch{}}return null}var ee=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},Pt=[],I=-1;function K(e){return{current:e}}function J(e){0>I||(e.current=Pt[I],Pt[I]=null,I--)}function X(e,n){I++,Pt[I]=e.current,e.current=n}var ot=K(null),Tt=K(null),mt=K(null),Se=K(null);function Xt(e,n){switch(X(mt,n),X(Tt,e),X(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yp(n),e=Xp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ot),X(ot,e)}function Mn(){J(ot),J(Tt),J(mt)}function ki(e){e.memoizedState!==null&&X(Se,e);var n=ot.current,r=Xp(n,e.type);n!==r&&(X(Tt,e),X(ot,r))}function ii(e){Tt.current===e&&(J(ot),J(Tt)),Se.current===e&&(J(Se),Go._currentValue=at)}var Cr=Object.prototype.hasOwnProperty,Dr=a.unstable_scheduleCallback,Or=a.unstable_cancelCallback,Ba=a.unstable_shouldYield,El=a.unstable_requestPaint,fn=a.unstable_now,xc=a.unstable_getCurrentPriorityLevel,qa=a.unstable_ImmediatePriority,As=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,Pc=a.unstable_LowPriority,Ss=a.unstable_IdlePriority,Ha=a.log,Tl=a.unstable_setDisableYieldValue,ne=null,qt=null;function nn(e){if(typeof Ha=="function"&&Tl(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ne,e)}catch{}}var ze=Math.clz32?Math.clz32:Mr,Al=Math.log,zc=Math.LN2;function Mr(e){return e>>>=0,e===0?32:31-(Al(e)/zc|0)|0}var Vr=256,Ur=4194304;function Rn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bs(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Rn(o):(y&=E,y!==0?c=Rn(y):r||(r=E&~e,r!==0&&(c=Rn(r))))):(E=o&~f,E!==0?c=Rn(E):y!==0?c=Rn(y):r||(r=o&~e,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Lr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ja(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ga(){var e=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),e}function Fa(){var e=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),e}function ri(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function si(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qa(e,n,r,o,c,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,x=e.hiddenUpdates;for(r=y&~r;0<r;){var j=31-ze(r),F=1<<j;E[j]=0,b[j]=-1;var P=x[j];if(P!==null)for(x[j]=null,j=0;j<P.length;j++){var z=P[j];z!==null&&(z.lane&=-536870913)}r&=~F}o!==0&&Vn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Vn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ze(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Ka(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ze(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pi(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:my(e.type))}function Sl(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var $t=Math.random().toString(36).slice(2),pe="__reactFiber$"+$t,he="__reactProps$"+$t,dn="__reactContainer$"+$t,Ya="__reactEvents$"+$t,Bc="__reactListeners$"+$t,zi="__reactHandles$"+$t,bl="__reactResources$"+$t,kr="__reactMarker$"+$t;function Bi(e){delete e[pe],delete e[he],delete e[Ya],delete e[Bc],delete e[zi]}function ai(e){var n=e[pe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[dn]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Wp(e);e!==null;){if(r=e[pe])return r;e=Wp(e)}return n}e=r,r=e.parentNode}return null}function Un(e){if(e=e[pe]||e[dn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Qe(e){var n=e[bl];return n||(n=e[bl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ae(e){e[kr]=!0}var Xa=new Set,ws={};function wn(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(ws[e]=n,e=0;e<n.length;e++)Xa.add(n[e])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},xr={};function Il(e){return Cr.call(xr,e)?!0:Cr.call(wl,e)?!1:Rl.test(e)?xr[e]=!0:(wl[e]=!0,!1)}function qi(e,n,r){if(Il(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function kn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Me(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Pr,Cl;function li(e){if(Pr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Pr=n&&n[1]||"",Cl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+e+Cl}var Is=!1;function Cs(e,n){if(!e||Is)return"";Is=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(z){var P=z}Reflect.construct(e,[],F)}else{try{F.call()}catch(z){P=z}e.call(F.prototype)}}else{try{throw Error()}catch(z){P=z}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(z){if(z&&P&&typeof z.stack=="string")return[z.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),x=E.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===x.length)for(o=b.length-1,c=x.length-1;1<=o&&0<=c&&b[o]!==x[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==x[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==x[c]){var j=`
`+b[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=c);break}}}finally{Is=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?li(r):""}function Za(e){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Cs(e.type,!1);case 11:return Cs(e.type.render,!1);case 1:return Cs(e.type,!0);case 31:return li("Activity");default:return""}}function Ds(e){try{var n="";do n+=Za(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $a(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qc(e){var n=$a(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Os(e){e._valueTracker||(e._valueTracker=qc(e))}function Ja(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=$a(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hc=/[\n"\\]/g;function fe(e){return e.replace(Hc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,r,o,c,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Hi(e,y,Ke(n)):r!=null?Hi(e,y,Ke(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ke(E):e.removeAttribute("name")}function Br(e,n,r,o,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Hi(e,n,r){n==="number"&&zr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ui(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Gt(e,n,r){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ke(r):""}function qr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(ee(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function mn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Hr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Wa(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&Dl(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Dl(e,f,n[f])}function to(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(e){return Gc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ci=null;function gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hi=null,fi=null;function eo(e){var n=Un(e);if(n&&(e=n.stateNode)){var r=e[he]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[he]||null;if(!c)throw Error(s(90));rn(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ja(o)}break t;case"textarea":Gt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(e,!!r.multiple,n,!1)}}}var xn=!1;function Ol(e,n,r){if(xn)return e(n,r);xn=!0;try{var o=e(n);return o}finally{if(xn=!1,(hi!==null||fi!==null)&&(Su(),hi&&(n=hi,e=fi,fi=hi=null,eo(n),e)))for(n=0;n<e.length;n++)eo(e[n])}}function jr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[he]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(In)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{pn=!1}var Pn=null,ji=null,di=null;function no(){if(di)return di;var e,n=ji,r=n.length,o,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===c[f-o];o++);return di=c.slice(e,1<o?1-o:void 0)}function zn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bn(){return!0}function io(){return!1}function be(e){function n(r,o,c,f,y){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bn:io,this.isPropagationStopped=io,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=be(Bt),Fr=A({},Bt,{view:0,detail:0}),Nl=be(Fr),Vs,Us,qn,Qr=A({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(Vs=e.screenX-qn.screenX,Us=e.screenY-qn.screenY):Us=Vs=0,qn=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Us}}),yn=be(Qr),Ml=A({},Qr,{dataTransfer:0}),Fc=be(Ml),Kr=A({},Fr,{relatedTarget:0}),Ls=be(Kr),ro=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=be(ro),Vl=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xs=be(Vl),Qc=A({},Bt,{data:0}),so=be(Qc),Yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ul={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ao(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ll[e])?!!n[e]:!1}function Xr(){return ao}var kl=A({},Fr,{key:function(e){if(e.key){var n=Yr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ul[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(e){return e.type==="keypress"?zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ps=be(kl),xl=A({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oo=be(xl),mi=A({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),Pl=be(mi),zl=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bl=be(zl),ql=A({},Qr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=be(ql),Ye=A({},Bt,{newState:0,oldState:0}),Hl=be(Ye),jl=[9,13,27,32],Hn=In&&"CompositionEvent"in window,u=null;In&&"documentMode"in document&&(u=document.documentMode);var m=In&&"TextEvent"in window&&!u,p=In&&(!Hn||u&&8<u&&11>=u),T=" ",L=!1;function q(e,n){switch(e){case"keyup":return jl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dt=!1;function ye(e,n){switch(e){case"compositionend":return Z(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return e=n.data,e===T&&L?null:e;default:return null}}function Ot(e,n){if(Dt)return e==="compositionend"||!Hn&&q(e,n)?(e=no(),di=ji=Pn=null,Dt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Re[e.type]:n==="textarea"}function gi(e,n,r,o){hi?fi?fi.push(o):fi=[o]:hi=o,n=Du(n,"onChange"),0<n.length&&(r=new Ms("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ve=null,jn=null;function lo(e){jp(e,0)}function Gl(e){var n=Ln(e);if(Ja(n))return e}function cm(e,n){if(e==="change")return n}var hm=!1;if(In){var Kc;if(In){var Yc="oninput"in document;if(!Yc){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),Yc=typeof fm.oninput=="function"}Kc=Yc}else Kc=!1;hm=Kc&&(!document.documentMode||9<document.documentMode)}function dm(){Ve&&(Ve.detachEvent("onpropertychange",mm),jn=Ve=null)}function mm(e){if(e.propertyName==="value"&&Gl(jn)){var n=[];gi(n,jn,e,gn(e)),Ol(lo,n)}}function W0(e,n,r){e==="focusin"?(dm(),Ve=n,jn=r,Ve.attachEvent("onpropertychange",mm)):e==="focusout"&&dm()}function tE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(jn)}function eE(e,n){if(e==="click")return Gl(n)}function nE(e,n){if(e==="input"||e==="change")return Gl(n)}function iE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:iE;function uo(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!Cr.call(n,c)||!sn(e[c],n[c]))return!1}return!0}function gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pm(e,n){var r=gm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=gm(r)}}function ym(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ym(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=zr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=zr(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var rE=In&&"documentMode"in document&&11>=document.documentMode,Bs=null,Zc=null,co=null,$c=!1;function vm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$c||Bs==null||Bs!==zr(o)||(o=Bs,"selectionStart"in o&&Xc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),co&&uo(co,o)||(co=o,o=Du(Zc,"onSelect"),0<o.length&&(n=new Ms("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Bs)))}function Zr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var qs={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionrun:Zr("Transition","TransitionRun"),transitionstart:Zr("Transition","TransitionStart"),transitioncancel:Zr("Transition","TransitionCancel"),transitionend:Zr("Transition","TransitionEnd")},Jc={},Em={};In&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function $r(e){if(Jc[e])return Jc[e];if(!qs[e])return e;var n=qs[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Em)return Jc[e]=n[r];return e}var Tm=$r("animationend"),Am=$r("animationiteration"),Sm=$r("animationstart"),sE=$r("transitionrun"),aE=$r("transitionstart"),oE=$r("transitioncancel"),bm=$r("transitionend"),Rm=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function Cn(e,n){Rm.set(e,n),wn(n,[e])}var wm=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var r=wm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ds(n)},wm.set(e,n),n)}return{value:e,source:n,stack:Ds(n)}}var vn=[],Hs=0,th=0;function Fl(){for(var e=Hs,n=th=Hs=0;n<e;){var r=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}f!==0&&Im(r,c,f)}}function Ql(e,n,r,o){vn[Hs++]=e,vn[Hs++]=n,vn[Hs++]=r,vn[Hs++]=o,th|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function eh(e,n,r,o){return Ql(e,n,r,o),Kl(e)}function js(e,n){return Ql(e,null,null,n),Kl(e)}function Im(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ze(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function Kl(e){if(50<ko)throw ko=0,lf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Gs={};function lE(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,r,o){return new lE(e,n,r,o)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,n){var r=e.alternate;return r===null?(r=an(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Yl(e,n,r,o,c,f){var y=0;if(o=e,typeof e=="function")nh(e)&&(y=1);else if(typeof e=="string")y=cT(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=an(31,r,n,c),e.elementType=R,e.lanes=f,e;case tt:return Jr(r.children,c,f,n);case rt:y=8,c|=24;break;case et:return e=an(12,r,n,c|2),e.elementType=et,e.lanes=f,e;case pt:return e=an(13,r,n,c),e.elementType=pt,e.lanes=f,e;case Ct:return e=an(19,r,n,c),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kt:case gt:y=10;break t;case wt:y=9;break t;case Ut:y=11;break t;case O:y=14;break t;case S:y=16,o=null;break t}y=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=an(y,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function Jr(e,n,r,o){return e=an(7,e,o,n),e.lanes=r,e}function ih(e,n,r){return e=an(6,e,null,n),e.lanes=r,e}function rh(e,n,r){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fs=[],Qs=0,Xl=null,Zl=0,En=[],Tn=0,Wr=null,yi=1,_i="";function ts(e,n){Fs[Qs++]=Zl,Fs[Qs++]=Xl,Xl=e,Zl=n}function Dm(e,n,r){En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Wr,Wr=e;var o=yi;e=_i;var c=32-ze(o)-1;o&=~(1<<c),r+=1;var f=32-ze(n)+c;if(30<f){var y=c-c%5;f=(o&(1<<y)-1).toString(32),o>>=y,c-=y,yi=1<<32-ze(n)+c|r<<c|o,_i=f+e}else yi=1<<f|r<<c|o,_i=e}function sh(e){e.return!==null&&(ts(e,1),Dm(e,1,0))}function ah(e){for(;e===Xl;)Xl=Fs[--Qs],Fs[Qs]=null,Zl=Fs[--Qs],Fs[Qs]=null;for(;e===Wr;)Wr=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null}var Xe=null,ie=null,zt=!1,es=null,Gn=!1,oh=Error(s(519));function ns(e){var n=Error(s(418,""));throw mo(_n(n,e)),oh}function Om(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[pe]=e,n[he]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<Po.length;r++)Rt(Po[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Br(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Os(n);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),qr(n,o.value,o.defaultValue,o.children),Os(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Kp(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Ou),n=!0):n=!1,n||ns(e)}function Nm(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function ho(e){if(e!==Xe)return!1;if(!zt)return Nm(e),zt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||bf(e.type,e.memoizedProps)),r=!r),r&&ie&&ns(e),Nm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ie=On(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ie=null}}else n===27?(n=ie,sr(e.type)?(e=Cf,Cf=null,ie=e):ie=n):ie=Xe?On(e.stateNode.nextSibling):null;return!0}function fo(){ie=Xe=null,zt=!1}function Mm(){var e=es;return e!==null&&(We===null?We=e:We.push.apply(We,e),es=null),e}function mo(e){es===null?es=[e]:es.push(e)}var lh=K(null),is=null,vi=null;function Gi(e,n,r){X(lh,n._currentValue),n._currentValue=r}function Ei(e){e._currentValue=lh.current,J(lh)}function uh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function ch(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),uh(f.return,r,e),o||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),uh(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function go(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(c===Se.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Go):e=[Go])}c=c.return}e!==null&&ch(n,e,r,o),n.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rs(e){is=e,vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Vm(is,e)}function Jl(e,n){return is===null&&rs(e),Vm(e,n)}function Vm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vi===null){if(e===null)throw Error(s(308));vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vi=vi.next=n;return r}var uE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},cE=a.unstable_scheduleCallback,hE=a.unstable_NormalPriority,ve={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new uE,data:new Map,refCount:0}}function po(e){e.refCount--,e.refCount===0&&cE(hE,function(){e.controller.abort()})}var yo=null,fh=0,Ks=0,Ys=null;function fE(e,n){if(yo===null){var r=yo=[];fh=0,Ks=gf(),Ys={status:"pending",value:void 0,then:function(o){r.push(o)}}}return fh++,n.then(Um,Um),n}function Um(){if(--fh===0&&yo!==null){Ys!==null&&(Ys.status="fulfilled");var e=yo;yo=null,Ks=0,Ys=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dE(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Lm=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&fE(e,n),Lm!==null&&Lm(e,n)};var ss=K(null);function dh(){var e=ss.current;return e!==null?e:Zt.pooledCache}function Wl(e,n){n===null?X(ss,ss.current):X(ss,n.pool)}function km(){var e=dh();return e===null?null:{parent:ve._currentValue,pool:e}}var _o=Error(s(460)),xm=Error(s(474)),tu=Error(s(542)),mh={then:function(){}};function Pm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eu(){}function zm(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(eu,eu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qm(e),e;default:if(typeof n.status=="string")n.then(eu,eu);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qm(e),e}throw vo=n,_o}}var vo=null;function Bm(){if(vo===null)throw Error(s(459));var e=vo;return vo=null,e}function qm(e){if(e===_o||e===tu)throw Error(s(483))}var Fi=!1;function gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ph(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Kl(e),Im(e,null,r),n}return Ql(e,o,n,r),Kl(e)}function Eo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ka(e,r)}}function yh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var _h=!1;function To(){if(_h){var e=Ys;if(e!==null)throw e}}function Ao(e,n,r,o){_h=!1;var c=e.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,x=b.next;b.next=null,y===null?f=x:y.next=x,y=b;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=x:E.next=x,j.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,j=x=b=null,E=f;do{var P=E.lane&-536870913,z=P!==E.lane;if(z?(Nt&P)===P:(o&P)===P){P!==0&&P===Ks&&(_h=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,lt=E;P=n;var Kt=r;switch(lt.tag){case 1:if(ht=lt.payload,typeof ht=="function"){F=ht.call(Kt,F,P);break t}F=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=lt.payload,P=typeof ht=="function"?ht.call(Kt,F,P):ht,P==null)break t;F=A({},F,P);break t;case 2:Fi=!0}}P=E.callback,P!==null&&(e.flags|=64,z&&(e.flags|=8192),z=c.callbacks,z===null?c.callbacks=[P]:z.push(P))}else z={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(x=j=z,b=F):j=j.next=z,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;z=E,E=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);j===null&&(b=F),c.baseState=b,c.firstBaseUpdate=x,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),er|=y,e.lanes=y,e.memoizedState=F}}function Hm(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function jm(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hm(r[e],n)}var Xs=K(null),nu=K(0);function Gm(e,n){e=Ii,X(nu,e),X(Xs,n),Ii=e|n.baseLanes}function vh(){X(nu,Ii),X(Xs,Xs.current)}function Eh(){Ii=nu.current,J(Xs),J(nu)}var Yi=0,Et=null,Ft=null,de=null,iu=!1,Zs=!1,as=!1,ru=0,So=0,$s=null,mE=0;function oe(){throw Error(s(321))}function Th(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!sn(e[r],n[r]))return!1;return!0}function Ah(e,n,r,o,c,f){return Yi=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ig:Cg,as=!1,f=r(o,c),as=!1,Zs&&(f=Qm(n,r,o,c)),Fm(e),f}function Fm(e){H.H=cu;var n=Ft!==null&&Ft.next!==null;if(Yi=0,de=Ft=Et=null,iu=!1,So=0,$s=null,n)throw Error(s(300));e===null||we||(e=e.dependencies,e!==null&&$l(e)&&(we=!0))}function Qm(e,n,r,o){Et=e;var c=0;do{if(Zs&&($s=null),So=0,Zs=!1,25<=c)throw Error(s(301));if(c+=1,de=Ft=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=TE,f=n(r,o)}while(Zs);return f}function gE(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?bo(n):n,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(Et.flags|=1024),n}function Sh(){var e=ru!==0;return ru=0,e}function bh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Rh(e){if(iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}iu=!1}Yi=0,de=Ft=Et=null,Zs=!1,So=ru=0,$s=null}function $e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Et.memoizedState=de=e:de=de.next=e,de}function me(){if(Ft===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var n=de===null?Et.memoizedState:de.next;if(n!==null)de=n,Ft=e;else{if(e===null)throw Et.alternate===null?Error(s(467)):Error(s(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?Et.memoizedState=de=e:de=de.next=e}return de}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(e){var n=So;return So+=1,$s===null&&($s=[]),e=zm($s,e,n),n=Et,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ig:Cg),e}function su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bo(e);if(e.$$typeof===gt)return Be(e)}throw Error(s(438,String(e)))}function Ih(e){var n=null,r=Et.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Et.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=wh(),Et.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=D;return n.index++,r}function Ti(e,n){return typeof n=="function"?n(e):n}function au(e){var n=me();return Ch(n,Ft,e)}function Ch(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=y=null,b=null,x=n,j=!1;do{var F=x.lane&-536870913;if(F!==x.lane?(Nt&F)===F:(Yi&F)===F){var P=x.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),F===Ks&&(j=!0);else if((Yi&P)===P){x=x.next,P===Ks&&(j=!0);continue}else F={lane:0,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,Et.lanes|=P,er|=P;F=x.action,as&&r(f,F),f=x.hasEagerState?x.eagerState:r(f,F)}else P={lane:F,revertLane:x.revertLane,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,Et.lanes|=F,er|=F;x=x.next}while(x!==null&&x!==n);if(b===null?y=f:b.next=E,!sn(f,e.memoizedState)&&(we=!0,j&&(r=Ys,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Dh(e){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Km(e,n,r){var o=Et,c=me(),f=zt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!sn((Ft||c).memoizedState,r);y&&(c.memoizedState=r,we=!0),c=c.queue;var E=Zm.bind(null,o,c,e);if(Ro(2048,8,E,[e]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(o.flags|=2048,Js(9,ou(),Xm.bind(null,o,c,r,n),null),Zt===null)throw Error(s(349));f||(Yi&124)!==0||Ym(o,n,r)}return r}function Ym(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Et.updateQueue,n===null?(n=wh(),Et.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Xm(e,n,r,o){n.value=r,n.getSnapshot=o,$m(n)&&Jm(e)}function Zm(e,n,r){return r(function(){$m(n)&&Jm(e)})}function $m(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!sn(e,r)}catch{return!0}}function Jm(e){var n=js(e,2);n!==null&&hn(n,e,2)}function Oh(e){var n=$e();if(typeof e=="function"){var r=e;if(e=r(),as){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},n}function Wm(e,n,r,o){return e.baseState=r,Ch(e,Ft,typeof o=="function"?o:Ti)}function pE(e,n,r,o,c){if(uu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,tg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function tg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,o),b=H.S;b!==null&&b(y,E),eg(e,n,E)}catch(x){Nh(e,n,x)}finally{H.T=f}}else try{f=r(c,o),eg(e,n,f)}catch(x){Nh(e,n,x)}}function eg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){ng(e,n,o)},function(o){return Nh(e,n,o)}):ng(e,n,r)}function ng(e,n,r){n.status="fulfilled",n.value=r,ig(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,tg(e,r)))}function Nh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ig(n),n=n.next;while(n!==o)}e.action=null}function ig(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rg(e,n){return n}function sg(e,n){if(zt){var r=Zt.formState;if(r!==null){t:{var o=Et;if(zt){if(ie){e:{for(var c=ie,f=Gn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=On(c.nextSibling),o=c.data==="F!";break t}}ns(o)}o=!1}o&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rg,lastRenderedState:n},r.queue=o,r=bg.bind(null,Et,o),o.dispatch=r,o=Oh(!1),f=kh.bind(null,Et,!1,o.queue),o=$e(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=pE.bind(null,Et,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function ag(e){var n=me();return og(n,Ft,e)}function og(e,n,r){if(n=Ch(e,n,rg)[0],e=au(Ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=bo(n)}catch(y){throw y===_o?tu:y}else o=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Et.flags|=2048,Js(9,ou(),yE.bind(null,c,r),null)),[o,f,e]}function yE(e,n){e.action=n}function lg(e){var n=me(),r=Ft;if(r!==null)return og(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Js(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Et.updateQueue,n===null&&(n=wh(),Et.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function ou(){return{destroy:void 0,resource:void 0}}function ug(){return me().memoizedState}function lu(e,n,r,o){var c=$e();o=o===void 0?null:o,Et.flags|=e,c.memoizedState=Js(1|n,ou(),r,o)}function Ro(e,n,r,o){var c=me();o=o===void 0?null:o;var f=c.memoizedState.inst;Ft!==null&&o!==null&&Th(o,Ft.memoizedState.deps)?c.memoizedState=Js(n,f,r,o):(Et.flags|=e,c.memoizedState=Js(1|n,f,r,o))}function cg(e,n){lu(8390656,8,e,n)}function hg(e,n){Ro(2048,8,e,n)}function fg(e,n){return Ro(4,2,e,n)}function dg(e,n){return Ro(4,4,e,n)}function mg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function gg(e,n,r){r=r!=null?r.concat([e]):null,Ro(4,4,mg.bind(null,n,e),r)}function Mh(){}function pg(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Th(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function yg(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Th(n,o[1]))return o[0];if(o=e(),as){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o}function Vh(e,n,r){return r===void 0||(Yi&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Ep(),Et.lanes|=e,er|=e,r)}function _g(e,n,r,o){return sn(r,n)?r:Xs.current!==null?(e=Vh(e,r,o),sn(e,n)||(we=!0),e):(Yi&42)===0?(we=!0,e.memoizedState=r):(e=Ep(),Et.lanes|=e,er|=e,n)}function vg(e,n,r,o,c){var f=$.p;$.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,kh(e,!1,n,r);try{var b=c(),x=H.S;if(x!==null&&x(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=dE(b,o);wo(e,n,j,cn(e))}else wo(e,n,o,cn(e))}catch(F){wo(e,n,{then:function(){},status:"rejected",reason:F},cn())}finally{$.p=f,H.T=y}}function _E(){}function Uh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var c=Eg(e).queue;vg(e,c,n,at,r===null?_E:function(){return Tg(e),r(o)})}function Eg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tg(e){var n=Eg(e).next.queue;wo(e,n,{},cn())}function Lh(){return Be(Go)}function Ag(){return me().memoizedState}function Sg(){return me().memoizedState}function vE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();e=Qi(r);var o=Ki(n,e,r);o!==null&&(hn(o,n,r),Eo(o,n,r)),n={cache:hh()},e.payload=n;return}n=n.return}}function EE(e,n,r){var o=cn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},uu(e)?Rg(n,r):(r=eh(e,n,r,o),r!==null&&(hn(r,e,o),wg(r,n,o)))}function bg(e,n,r){var o=cn();wo(e,n,r,o)}function wo(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(uu(e))Rg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Ql(e,n,c,0),Zt===null&&Fl(),!1}catch{}finally{}if(r=eh(e,n,c,o),r!==null)return hn(r,e,o),wg(r,n,o),!0}return!1}function kh(e,n,r,o){if(o={lane:2,revertLane:gf(),action:o,hasEagerState:!1,eagerState:null,next:null},uu(e)){if(n)throw Error(s(479))}else n=eh(e,r,o,2),n!==null&&hn(n,e,2)}function uu(e){var n=e.alternate;return e===Et||n!==null&&n===Et}function Rg(e,n){Zs=iu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function wg(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ka(e,r)}}var cu={readContext:Be,use:su,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Ig={readContext:Be,use:su,useCallback:function(e,n){return $e().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:cg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,lu(4194308,4,mg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return lu(4194308,4,e,n)},useInsertionEffect:function(e,n){lu(4,2,e,n)},useMemo:function(e,n){var r=$e();n=n===void 0?null:n;var o=e();if(as){nn(!0);try{e()}finally{nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=$e();if(r!==void 0){var c=r(n);if(as){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=EE.bind(null,Et,e),[o.memoizedState,e]},useRef:function(e){var n=$e();return e={current:e},n.memoizedState=e},useState:function(e){e=Oh(e);var n=e.queue,r=bg.bind(null,Et,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Mh,useDeferredValue:function(e,n){var r=$e();return Vh(r,e,n)},useTransition:function(){var e=Oh(!1);return e=vg.bind(null,Et,e.queue,!0,!1),$e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Et,c=$e();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Zt===null)throw Error(s(349));(Nt&124)!==0||Ym(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,cg(Zm.bind(null,o,f,e),[e]),o.flags|=2048,Js(9,ou(),Xm.bind(null,o,f,r,n),null),r},useId:function(){var e=$e(),n=Zt.identifierPrefix;if(zt){var r=_i,o=yi;r=(o&~(1<<32-ze(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=ru++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=mE++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Lh,useFormState:sg,useActionState:sg,useOptimistic:function(e){var n=$e();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=kh.bind(null,Et,!0,r),r.dispatch=n,[e,n]},useMemoCache:Ih,useCacheRefresh:function(){return $e().memoizedState=vE.bind(null,Et)}},Cg={readContext:Be,use:su,useCallback:pg,useContext:Be,useEffect:hg,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:au,useRef:ug,useState:function(){return au(Ti)},useDebugValue:Mh,useDeferredValue:function(e,n){var r=me();return _g(r,Ft.memoizedState,e,n)},useTransition:function(){var e=au(Ti)[0],n=me().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:Km,useId:Ag,useHostTransitionStatus:Lh,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var r=me();return Wm(r,Ft,e,n)},useMemoCache:Ih,useCacheRefresh:Sg},TE={readContext:Be,use:su,useCallback:pg,useContext:Be,useEffect:hg,useImperativeHandle:gg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:Dh,useRef:ug,useState:function(){return Dh(Ti)},useDebugValue:Mh,useDeferredValue:function(e,n){var r=me();return Ft===null?Vh(r,e,n):_g(r,Ft.memoizedState,e,n)},useTransition:function(){var e=Dh(Ti)[0],n=me().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:Km,useId:Ag,useHostTransitionStatus:Lh,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var r=me();return Ft!==null?Wm(r,Ft,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:Sg},Ws=null,Io=0;function hu(e){var n=Io;return Io+=1,Ws===null&&(Ws=[]),zm(Ws,e,n)}function Co(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function fu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Dg(e){var n=e._init;return n(e._payload)}function Og(e){function n(M,C){if(e){var k=M.deletions;k===null?(M.deletions=[C],M.flags|=16):k.push(C)}}function r(M,C){if(!e)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function o(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=pi(M,C),M.index=0,M.sibling=null,M}function f(M,C,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<C?(M.flags|=67108866,C):k):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,k,G){return C===null||C.tag!==6?(C=ih(k,M.mode,G),C.return=M,C):(C=c(C,k),C.return=M,C)}function b(M,C,k,G){var it=k.type;return it===tt?j(M,C,k.props.children,G,k.key):C!==null&&(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===S&&Dg(it)===C.type)?(C=c(C,k.props),Co(C,k),C.return=M,C):(C=Yl(k.type,k.key,k.props,null,M.mode,G),Co(C,k),C.return=M,C)}function x(M,C,k,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=rh(k,M.mode,G),C.return=M,C):(C=c(C,k.children||[]),C.return=M,C)}function j(M,C,k,G,it){return C===null||C.tag!==7?(C=Jr(k,M.mode,G,it),C.return=M,C):(C=c(C,k),C.return=M,C)}function F(M,C,k){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ih(""+C,M.mode,k),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case B:return k=Yl(C.type,C.key,C.props,null,M.mode,k),Co(k,C),k.return=M,k;case Y:return C=rh(C,M.mode,k),C.return=M,C;case S:var G=C._init;return C=G(C._payload),F(M,C,k)}if(ee(C)||U(C))return C=Jr(C,M.mode,k,null),C.return=M,C;if(typeof C.then=="function")return F(M,hu(C),k);if(C.$$typeof===gt)return F(M,Jl(M,C),k);fu(M,C)}return null}function P(M,C,k,G){var it=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return it!==null?null:E(M,C,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return k.key===it?b(M,C,k,G):null;case Y:return k.key===it?x(M,C,k,G):null;case S:return it=k._init,k=it(k._payload),P(M,C,k,G)}if(ee(k)||U(k))return it!==null?null:j(M,C,k,G,null);if(typeof k.then=="function")return P(M,C,hu(k),G);if(k.$$typeof===gt)return P(M,C,Jl(M,k),G);fu(M,k)}return null}function z(M,C,k,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(k)||null,E(C,M,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case B:return M=M.get(G.key===null?k:G.key)||null,b(C,M,G,it);case Y:return M=M.get(G.key===null?k:G.key)||null,x(C,M,G,it);case S:var At=G._init;return G=At(G._payload),z(M,C,k,G,it)}if(ee(G)||U(G))return M=M.get(k)||null,j(C,M,G,it,null);if(typeof G.then=="function")return z(M,C,k,hu(G),it);if(G.$$typeof===gt)return z(M,C,k,Jl(C,G),it);fu(C,G)}return null}function ht(M,C,k,G){for(var it=null,At=null,st=C,ut=C=0,Ce=null;st!==null&&ut<k.length;ut++){st.index>ut?(Ce=st,st=null):Ce=st.sibling;var xt=P(M,st,k[ut],G);if(xt===null){st===null&&(st=Ce);break}e&&st&&xt.alternate===null&&n(M,st),C=f(xt,C,ut),At===null?it=xt:At.sibling=xt,At=xt,st=Ce}if(ut===k.length)return r(M,st),zt&&ts(M,ut),it;if(st===null){for(;ut<k.length;ut++)st=F(M,k[ut],G),st!==null&&(C=f(st,C,ut),At===null?it=st:At.sibling=st,At=st);return zt&&ts(M,ut),it}for(st=o(st);ut<k.length;ut++)Ce=z(st,M,ut,k[ut],G),Ce!==null&&(e&&Ce.alternate!==null&&st.delete(Ce.key===null?ut:Ce.key),C=f(Ce,C,ut),At===null?it=Ce:At.sibling=Ce,At=Ce);return e&&st.forEach(function(cr){return n(M,cr)}),zt&&ts(M,ut),it}function lt(M,C,k,G){if(k==null)throw Error(s(151));for(var it=null,At=null,st=C,ut=C=0,Ce=null,xt=k.next();st!==null&&!xt.done;ut++,xt=k.next()){st.index>ut?(Ce=st,st=null):Ce=st.sibling;var cr=P(M,st,xt.value,G);if(cr===null){st===null&&(st=Ce);break}e&&st&&cr.alternate===null&&n(M,st),C=f(cr,C,ut),At===null?it=cr:At.sibling=cr,At=cr,st=Ce}if(xt.done)return r(M,st),zt&&ts(M,ut),it;if(st===null){for(;!xt.done;ut++,xt=k.next())xt=F(M,xt.value,G),xt!==null&&(C=f(xt,C,ut),At===null?it=xt:At.sibling=xt,At=xt);return zt&&ts(M,ut),it}for(st=o(st);!xt.done;ut++,xt=k.next())xt=z(st,M,ut,xt.value,G),xt!==null&&(e&&xt.alternate!==null&&st.delete(xt.key===null?ut:xt.key),C=f(xt,C,ut),At===null?it=xt:At.sibling=xt,At=xt);return e&&st.forEach(function(AT){return n(M,AT)}),zt&&ts(M,ut),it}function Kt(M,C,k,G){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case B:t:{for(var it=k.key;C!==null;){if(C.key===it){if(it=k.type,it===tt){if(C.tag===7){r(M,C.sibling),G=c(C,k.props.children),G.return=M,M=G;break t}}else if(C.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===S&&Dg(it)===C.type){r(M,C.sibling),G=c(C,k.props),Co(G,k),G.return=M,M=G;break t}r(M,C);break}else n(M,C);C=C.sibling}k.type===tt?(G=Jr(k.props.children,M.mode,G,k.key),G.return=M,M=G):(G=Yl(k.type,k.key,k.props,null,M.mode,G),Co(G,k),G.return=M,M=G)}return y(M);case Y:t:{for(it=k.key;C!==null;){if(C.key===it)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){r(M,C.sibling),G=c(C,k.children||[]),G.return=M,M=G;break t}else{r(M,C);break}else n(M,C);C=C.sibling}G=rh(k,M.mode,G),G.return=M,M=G}return y(M);case S:return it=k._init,k=it(k._payload),Kt(M,C,k,G)}if(ee(k))return ht(M,C,k,G);if(U(k)){if(it=U(k),typeof it!="function")throw Error(s(150));return k=it.call(k),lt(M,C,k,G)}if(typeof k.then=="function")return Kt(M,C,hu(k),G);if(k.$$typeof===gt)return Kt(M,C,Jl(M,k),G);fu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,C!==null&&C.tag===6?(r(M,C.sibling),G=c(C,k),G.return=M,M=G):(r(M,C),G=ih(k,M.mode,G),G.return=M,M=G),y(M)):r(M,C)}return function(M,C,k,G){try{Io=0;var it=Kt(M,C,k,G);return Ws=null,it}catch(st){if(st===_o||st===tu)throw st;var At=an(29,st,null,M.mode);return At.lanes=G,At.return=M,At}finally{}}}var ta=Og(!0),Ng=Og(!1),An=K(null),Fn=null;function Xi(e){var n=e.alternate;X(Ee,Ee.current&1),X(An,e),Fn===null&&(n===null||Xs.current!==null||n.memoizedState!==null)&&(Fn=e)}function Mg(e){if(e.tag===22){if(X(Ee,Ee.current),X(An,e),Fn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Fn=e)}}else Zi()}function Zi(){X(Ee,Ee.current),X(An,An.current)}function Ai(e){J(An),Fn===e&&(Fn=null),J(Ee)}var Ee=K(0);function du(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||If(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function xh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ph={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=cn(),c=Qi(o);c.payload=n,r!=null&&(c.callback=r),n=Ki(e,c,o),n!==null&&(hn(n,e,o),Eo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=cn(),c=Qi(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Ki(e,c,o),n!==null&&(hn(n,e,o),Eo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=cn(),o=Qi(r);o.tag=2,n!=null&&(o.callback=n),n=Ki(e,o,r),n!==null&&(hn(n,e,r),Eo(n,e,r))}};function Vg(e,n,r,o,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!uo(r,o)||!uo(c,f):!0}function Ug(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Ph.enqueueReplaceState(n,n.state,null)}function os(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lg(e){mu(e)}function kg(e){console.error(e)}function xg(e){mu(e)}function gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function zh(e,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){gu(e,n)},r}function zg(e){return e=Qi(e),e.tag=3,e}function Bg(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Pg(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Pg(n,r,o),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function AE(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&go(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return Fn===null?cf():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===mh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ff(e,o,c)),!1;case 22:return r.flags|=65536,o===mh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ff(e,o,c)),!1}throw Error(s(435,r.tag))}return ff(e,o,c),cf(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==oh&&(e=Error(s(422),{cause:o}),mo(_n(e,r)))):(o!==oh&&(n=Error(s(423),{cause:o}),mo(_n(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=_n(o,r),c=zh(e.stateNode,o,c),yh(e,c),re!==4&&(re=2)),!1;var f=Error(s(520),{cause:o});if(f=_n(f,r),Lo===null?Lo=[f]:Lo.push(f),re!==4&&(re=2),n===null)return!0;o=_n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=zh(r.stateNode,o,e),yh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=zg(c),Bg(c,e,r,o),yh(r,c),!1}r=r.return}while(r!==null);return!1}var qg=Error(s(461)),we=!1;function Ue(e,n,r,o){n.child=e===null?Ng(n,null,r,o):ta(n,e.child,r,o)}function Hg(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return rs(n),o=Ah(e,n,r,y,f,c),E=Sh(),e!==null&&!we?(bh(e,n,c),Si(e,n,c)):(zt&&E&&sh(n),n.flags|=1,Ue(e,n,o,c),n.child)}function jg(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!nh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Gg(e,n,f,o,c)):(e=Yl(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kh(e,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:uo,r(y,o)&&e.ref===n.ref)return Si(e,n,c)}return n.flags|=1,e=pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Gg(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(uo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Kh(e,c))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Si(e,n,c)}return Bh(e,n,r,o,c)}function Fg(e,n,r){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Qg(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wl(n,f!==null?f.cachePool:null),f!==null?Gm(n,f):vh(),Mg(n);else return n.lanes=n.childLanes=536870912,Qg(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Wl(n,f.cachePool),Gm(n,f),Zi(),n.memoizedState=null):(e!==null&&Wl(n,null),vh(),Zi());return Ue(e,n,c,r),n.child}function Qg(e,n,r,o){var c=dh();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&Wl(n,null),vh(),Mg(n),e!==null&&go(e,n,o,!0),null}function pu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Bh(e,n,r,o,c){return rs(n),r=Ah(e,n,r,o,void 0,c),o=Sh(),e!==null&&!we?(bh(e,n,c),Si(e,n,c)):(zt&&o&&sh(n),n.flags|=1,Ue(e,n,r,c),n.child)}function Kg(e,n,r,o,c,f){return rs(n),n.updateQueue=null,r=Qm(n,o,r,c),Fm(e),o=Sh(),e!==null&&!we?(bh(e,n,f),Si(e,n,f)):(zt&&o&&sh(n),n.flags|=1,Ue(e,n,r,f),n.child)}function Yg(e,n,r,o,c){if(rs(n),n.stateNode===null){var f=Gs,y=r.contextType;typeof y=="object"&&y!==null&&(f=Be(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ph,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},gh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Be(y):Gs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(xh(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ph.enqueueReplaceState(f,f.state,null),Ao(n,o,f,c),To(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=os(r,E);f.props=b;var x=f.context,j=r.contextType;y=Gs,typeof j=="object"&&j!==null&&(y=Be(j));var F=r.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==y)&&Ug(n,f,o,y),Fi=!1;var P=n.memoizedState;f.state=P,Ao(n,o,f,c),To(),x=n.memoizedState,E||P!==x||Fi?(typeof F=="function"&&(xh(n,r,F,o),x=n.memoizedState),(b=Fi||Vg(n,r,b,o,P,x,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=x),f.props=o,f.state=x,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ph(e,n),y=n.memoizedProps,j=os(r,y),f.props=j,F=n.pendingProps,P=f.context,x=r.contextType,b=Gs,typeof x=="object"&&x!==null&&(b=Be(x)),E=r.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==b)&&Ug(n,f,o,b),Fi=!1,P=n.memoizedState,f.state=P,Ao(n,o,f,c),To();var z=n.memoizedState;y!==F||P!==z||Fi||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof E=="function"&&(xh(n,r,E,o),z=n.memoizedState),(j=Fi||Vg(n,r,j,o,P,z,b)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,z,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,z,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=b,o=j):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ta(n,e.child,null,c),n.child=ta(n,null,r,c)):Ue(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Si(e,n,c),e}function Xg(e,n,r,o){return fo(),n.flags|=256,Ue(e,n,r,o),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(e){return{baseLanes:e,cachePool:km()}}function jh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Sn),e}function Zg(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(c?Xi(n):Zi(),zt){var E=ie,b;if(b=E){t:{for(b=E,E=Gn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Wr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ie=null,b=!0):b=!1}b||ns(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return If(E)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return E=o.children,o=o.fallback,c?(Zi(),c=n.mode,E=yu({mode:"hidden",children:E},c),o=Jr(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Hh(r),c.childLanes=jh(e,y,r),n.memoizedState=qh,o):(Xi(n),Gh(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Xi(n),n.flags&=-257,n=Fh(e,n,r)):n.memoizedState!==null?(Zi(),n.child=e.child,n.flags|=128,n=null):(Zi(),c=o.fallback,E=n.mode,o=yu({mode:"visible",children:o.children},E),c=Jr(c,E,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,ta(n,e.child,null,r),o=n.child,o.memoizedState=Hh(r),o.childLanes=jh(e,y,r),n.memoizedState=qh,n=c);else if(Xi(n),If(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var x=y.dgst;y=x,o=Error(s(419)),o.stack="",o.digest=y,mo({value:o,source:null,stack:null}),n=Fh(e,n,r)}else if(we||go(e,n,r,!1),y=(r&e.childLanes)!==0,we||y){if(y=Zt,y!==null&&(o=r&-r,o=(o&42)!==0?1:xi(o),o=(o&(y.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,js(e,o),hn(y,e,o),qg;E.data==="$?"||cf(),n=Fh(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ie=On(E.nextSibling),Xe=n,zt=!0,es=null,Gn=!1,e!==null&&(En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Wr,yi=e.id,_i=e.overflow,Wr=n),n=Gh(n,o.children),n.flags|=4096);return n}return c?(Zi(),c=o.fallback,E=n.mode,b=e.child,x=b.sibling,o=pi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,x!==null?c=pi(x,c):(c=Jr(c,E,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=Hh(r):(b=E.cachePool,b!==null?(x=ve._currentValue,b=b.parent!==x?{parent:x,pool:x}:b):b=km(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=jh(e,y,r),n.memoizedState=qh,o):(Xi(n),r=e.child,e=r.sibling,r=pi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function Gh(e,n){return n=yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yu(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Fh(e,n,r){return ta(n,e.child,null,r),e=Gh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $g(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),uh(e.return,n,r)}function Qh(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function Jg(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,r),o=Ee.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,r,n);else if(e.tag===19)$g(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(X(Ee,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&du(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Qh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&du(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Qh(n,!0,r,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Si(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(go(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=pi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=pi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Kh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function SE(e,n,r){switch(n.tag){case 3:Xt(n,n.stateNode.containerInfo),Gi(n,ve,e.memoizedState.cache),fo();break;case 27:case 5:ki(n);break;case 4:Xt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Xi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Zg(e,n,r):(Xi(n),e=Si(e,n,r),e!==null?e.sibling:null);Xi(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(go(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Jg(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(Ee,Ee.current),o)break;return null;case 22:case 23:return n.lanes=0,Fg(e,n,r);case 24:Gi(n,ve,e.memoizedState.cache)}return Si(e,n,r)}function Wg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Kh(e,r)&&(n.flags&128)===0)return we=!1,SE(e,n,r);we=(e.flags&131072)!==0}else we=!1,zt&&(n.flags&1048576)!==0&&Dm(n,Zl,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")nh(o)?(e=os(o,e),n.tag=1,n=Yg(null,n,o,e,r)):(n.tag=0,n=Bh(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===Ut){n.tag=11,n=Hg(null,n,o,e,r);break t}else if(c===O){n.tag=14,n=jg(null,n,o,e,r);break t}}throw n=Ne(o)||o,Error(s(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=os(o,n.pendingProps),Yg(e,n,o,c,r);case 3:t:{if(Xt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,ph(e,n),Ao(n,o,null,r);var y=n.memoizedState;if(o=y.cache,Gi(n,ve,o),o!==f.cache&&ch(n,[ve],r,!0),To(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,o,r);break t}else if(o!==c){c=_n(Error(s(424)),n),mo(c),n=Xg(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=On(e.firstChild),Xe=n,zt=!0,es=null,Gn=!0,r=Ng(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(fo(),o===c){n=Si(e,n,r);break t}Ue(e,n,o,r)}n=n.child}return n;case 26:return pu(e,n),e===null?(r=iy(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,o=Nu(mt.current).createElement(r),o[pe]=n,o[he]=e,ke(o,r,e),ae(o),n.stateNode=o):n.memoizedState=iy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ki(n),e===null&&zt&&(o=n.stateNode=ty(n.type,n.pendingProps,mt.current),Xe=n,Gn=!0,c=ie,sr(n.type)?(Cf=c,ie=On(o.firstChild)):ie=c),Ue(e,n,n.pendingProps.children,r),pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((c=o=ie)&&(o=$E(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Xe=n,ie=On(o.firstChild),Gn=!1,c=!0):c=!1),c||ns(n)),ki(n),c=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,bf(c,f)?o=null:y!==null&&bf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(e,n,gE,null,null,r),Go._currentValue=c),pu(e,n),Ue(e,n,o,r),n.child;case 6:return e===null&&zt&&((e=r=ie)&&(r=JE(r,n.pendingProps,Gn),r!==null?(n.stateNode=r,Xe=n,ie=null,e=!0):e=!1),e||ns(n)),null;case 13:return Zg(e,n,r);case 4:return Xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ta(n,null,o,r):Ue(e,n,o,r),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,r);case 7:return Ue(e,n,n.pendingProps,r),n.child;case 8:return Ue(e,n,n.pendingProps.children,r),n.child;case 12:return Ue(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Gi(n,n.type,o.value),Ue(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,rs(n),c=Be(c),o=o(c),n.flags|=1,Ue(e,n,o,r),n.child;case 14:return jg(e,n,n.type,n.pendingProps,r);case 15:return Gg(e,n,n.type,n.pendingProps,r);case 19:return Jg(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=yu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=pi(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Fg(e,n,r);case 24:return rs(n),o=Be(ve),e===null?(c=dh(),c===null&&(c=Zt,f=hh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},gh(n),Gi(n,ve,c)):((e.lanes&r)!==0&&(ph(e,n),Ao(n,null,null,r),To()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,ve,o)):(o=f.cache,Gi(n,ve,o),o!==c.cache&&ch(n,[ve],r,!0))),Ue(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function bi(e){e.flags|=4}function tp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ly(n)){if(n=An.current,n!==null&&((Nt&4194048)===Nt?Fn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Fn))throw vo=mh,xm;e.flags|=8192}}function _u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fa():536870912,e.lanes|=n,ra|=n)}function Do(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function bE(e,n,r){var o=n.pendingProps;switch(ah(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ei(ve),Mn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ho(n)?bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mm())),Wt(n),null;case 26:return r=n.memoizedState,e===null?(bi(n),r!==null?(Wt(n),tp(n,r)):(Wt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(bi(n),Wt(n),tp(n,r)):(Wt(n),n.flags&=-16777217):(e.memoizedProps!==o&&bi(n),Wt(n),n.flags&=-16777217),null;case 27:ii(n),r=mt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}e=ot.current,ho(n)?Om(n):(e=ty(c,o,r),n.stateNode=e,bi(n))}return Wt(n),null;case 5:if(ii(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&bi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(e=ot.current,ho(n))Om(n);else{switch(c=Nu(mt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[pe]=n,e[he]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ke(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&bi(n)}}return Wt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=mt.current,ho(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[pe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Kp(e.nodeValue,r)),e||ns(n)}else e=Nu(e).createTextNode(o),e[pe]=n,n.stateNode=e}return Wt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ho(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else fo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Mm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),_u(n,n.updateQueue),Wt(n),null;case 4:return Mn(),e===null&&vf(n.stateNode.containerInfo),Wt(n),null;case 10:return Ei(n.type),Wt(n),null;case 19:if(J(Ee),c=n.memoizedState,c===null)return Wt(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Do(c,!1);else{if(re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=du(e),f!==null){for(n.flags|=128,Do(c,!1),e=f.updateQueue,n.updateQueue=e,_u(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Cm(r,e),r=r.sibling;return X(Ee,Ee.current&1|2),n.child}e=e.sibling}c.tail!==null&&fn()>Tu&&(n.flags|=128,o=!0,Do(c,!1),n.lanes=4194304)}else{if(!o)if(e=du(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,_u(n,e),Do(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return Wt(n),null}else 2*fn()-c.renderingStartTime>Tu&&r!==536870912&&(n.flags|=128,o=!0,Do(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,e=Ee.current,X(Ee,o?e&1|2:e&1),n):(Wt(n),null);case 22:case 23:return Ai(n),Eh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),r=n.updateQueue,r!==null&&_u(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&J(ss),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function RE(e,n){switch(ah(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ei(ve),Mn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ii(n),null;case 13:if(Ai(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(Ee),null;case 4:return Mn(),null;case 10:return Ei(n.type),null;case 22:case 23:return Ai(n),Eh(),e!==null&&J(ss),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ei(ve),null;case 25:return null;default:return null}}function ep(e,n){switch(ah(n),n.tag){case 3:Ei(ve),Mn();break;case 26:case 27:case 5:ii(n);break;case 4:Mn();break;case 13:Ai(n);break;case 19:J(Ee);break;case 10:Ei(n.type);break;case 22:case 23:Ai(n),Eh(),e!==null&&J(ss);break;case 24:Ei(ve)}}function Oo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function $i(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,x=E;try{x()}catch(j){Yt(c,b,j)}}}o=o.next}while(o!==f)}}catch(j){Yt(n,n.return,j)}}function np(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{jm(n,r)}catch(o){Yt(e,e.return,o)}}}function ip(e,n,r){r.props=os(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Yt(e,n,o)}}function No(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Yt(e,n,c)}}function Qn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Yt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(e,n,c)}else r.current=null}function rp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Yt(e,e.return,c)}}function Yh(e,n,r){try{var o=e.stateNode;QE(o,e.type,r,n),o[he]=n}catch(c){Yt(e,e.return,c)}}function sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sr(e.type)||e.tag===4}function Xh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ou));else if(o!==4&&(o===27&&sr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Zh(e,n,r),e=e.sibling;e!==null;)Zh(e,n,r),e=e.sibling}function vu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&sr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(vu(e,n,r),e=e.sibling;e!==null;)vu(e,n,r),e=e.sibling}function ap(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,o,r),n[pe]=e,n[he]=r}catch(f){Yt(e,e.return,f)}}var Ri=!1,le=!1,$h=!1,op=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function wE(e,n){if(e=e.containerInfo,Af=xu,e=_m(e),Xc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,x=0,j=0,F=e,P=null;e:for(;;){for(var z;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||o!==0&&F.nodeType!==3||(b=y+o),F.nodeType===3&&(y+=F.nodeValue.length),(z=F.firstChild)!==null;)P=F,F=z;for(;;){if(F===e)break e;if(P===r&&++x===c&&(E=y),P===f&&++j===o&&(b=y),(z=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=z}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sf={focusedElem:e,selectionRange:r},xu=!1,Ie=n;Ie!==null;)if(n=Ie,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ie=e;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ht=os(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(lt){Yt(r,r.return,lt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)wf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ie=e;break}Ie=n.return}}function lp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(e,r),o&4&&Oo(5,r);break;case 1:if(Ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){Yt(r,r.return,y)}else{var c=os(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Yt(r,r.return,y)}}o&64&&np(r),o&512&&No(r,r.return);break;case 3:if(Ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jm(e,n)}catch(y){Yt(r,r.return,y)}}break;case 27:n===null&&o&4&&ap(r);case 26:case 5:Ji(e,r),n===null&&o&4&&rp(r),o&512&&No(r,r.return);break;case 12:Ji(e,r);break;case 13:Ji(e,r),o&4&&hp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=LE.bind(null,r),WE(e,r))));break;case 22:if(o=r.memoizedState!==null||Ri,!o){n=n!==null&&n.memoizedState!==null||le,c=Ri;var f=le;Ri=o,(le=n)&&!f?Wi(e,r,(r.subtreeFlags&8772)!==0):Ji(e,r),Ri=c,le=f}break;case 30:break;default:Ji(e,r)}}function up(e){var n=e.alternate;n!==null&&(e.alternate=null,up(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Bi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Jt=null,Je=!1;function wi(e,n,r){for(r=r.child;r!==null;)cp(e,n,r),r=r.sibling}function cp(e,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ne,r)}catch{}switch(r.tag){case 26:le||Qn(r,n),wi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:le||Qn(r,n);var o=Jt,c=Je;sr(r.type)&&(Jt=r.stateNode,Je=!1),wi(e,n,r),Bo(r.stateNode),Jt=o,Je=c;break;case 5:le||Qn(r,n);case 6:if(o=Jt,c=Je,Jt=null,wi(e,n,r),Jt=o,Je=c,Jt!==null)if(Je)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(r.stateNode)}catch(f){Yt(r,n,f)}else try{Jt.removeChild(r.stateNode)}catch(f){Yt(r,n,f)}break;case 18:Jt!==null&&(Je?(e=Jt,Jp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Yo(e)):Jp(Jt,r.stateNode));break;case 4:o=Jt,c=Je,Jt=r.stateNode.containerInfo,Je=!0,wi(e,n,r),Jt=o,Je=c;break;case 0:case 11:case 14:case 15:le||$i(2,r,n),le||$i(4,r,n),wi(e,n,r);break;case 1:le||(Qn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ip(r,n,o)),wi(e,n,r);break;case 21:wi(e,n,r);break;case 22:le=(o=le)||r.memoizedState!==null,wi(e,n,r),le=o;break;default:wi(e,n,r)}}function hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yo(e)}catch(r){Yt(n,n.return,r)}}function IE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new op),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new op),n;default:throw Error(s(435,e.tag))}}function Jh(e,n){var r=IE(e);n.forEach(function(o){var c=kE.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(sr(E.type)){Jt=E.stateNode,Je=!1;break t}break;case 5:Jt=E.stateNode,Je=!1;break t;case 3:case 4:Jt=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(Jt===null)throw Error(s(160));cp(f,y,c),Jt=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)fp(n,e),n=n.sibling}var Dn=null;function fp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&($i(3,e,e.return),Oo(3,e),$i(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(le||r===null||Qn(r,r.return)),o&64&&Ri&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Dn;if(on(n,e),ln(e),o&512&&(le||r===null||Qn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[kr]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,o,r),f[pe]=e,ae(f),o=f;break t;case"link":var y=ay("link","href",c).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(o),ke(f,o,r),c.head.appendChild(f);break;case"meta":if(y=ay("meta","content",c).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(o),ke(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[pe]=e,ae(f),o=f}e.stateNode=o}else oy(c,e.type,e.stateNode);else e.stateNode=sy(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?oy(c,e.type,e.stateNode):sy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Yh(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(le||r===null||Qn(r,r.return)),r!==null&&o&4&&Yh(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(le||r===null||Qn(r,r.return)),e.flags&32){c=e.stateNode;try{mn(c,"")}catch(z){Yt(e,e.return,z)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Yh(e,c,r!==null?r.memoizedProps:c)),o&1024&&($h=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(z){Yt(e,e.return,z)}}break;case 3:if(Uu=null,c=Dn,Dn=Mu(n.containerInfo),on(n,e),Dn=c,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Yo(n.containerInfo)}catch(z){Yt(e,e.return,z)}$h&&($h=!1,dp(e));break;case 4:o=Dn,Dn=Mu(e.stateNode.containerInfo),on(n,e),ln(e),Dn=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sf=fn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Jh(e,o)));break;case 22:c=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,x=Ri,j=le;if(Ri=x||c,le=j||b,on(n,e),le=j,Ri=x,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ri||le||ls(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(z){Yt(b,b.return,z)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(z){Yt(b,b.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Jh(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Jh(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(sp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Xh(e);vu(e,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=Xh(e);vu(e,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,x=Xh(e);Zh(e,x,b);break;default:throw Error(s(161))}}catch(j){Yt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lp(e,n.alternate,n),n=n.sibling}function ls(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),ls(n);break;case 1:Qn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ip(n,n.return,r),ls(n);break;case 27:Bo(n.stateNode);case 26:case 5:Qn(n,n.return),ls(n);break;case 22:n.memoizedState===null&&ls(n);break;case 30:ls(n);break;default:ls(n)}e=e.sibling}}function Wi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),Oo(4,f);break;case 1:if(Wi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(x){Yt(o,o.return,x)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Hm(b[c],E)}catch(x){Yt(o,o.return,x)}}r&&y&64&&np(f),No(f,f.return);break;case 27:ap(f);case 26:case 5:Wi(c,f,r),r&&o===null&&y&4&&rp(f),No(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&hp(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),No(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Wh(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&po(r))}function tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&po(e))}function Kn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)mp(e,n,r,o),n=n.sibling}function mp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,r,o),c&2048&&Oo(9,n);break;case 1:Kn(e,n,r,o);break;case 3:Kn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&po(e)));break;case 12:if(c&2048){Kn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else Kn(e,n,r,o);break;case 13:Kn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,r,o):Mo(e,n):f._visibility&2?Kn(e,n,r,o):(f._visibility|=2,ea(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&Wh(y,n);break;case 24:Kn(e,n,r,o),c&2048&&tf(n.alternate,n);break;default:Kn(e,n,r,o)}}function ea(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=r,b=o,x=y.flags;switch(y.tag){case 0:case 11:case 15:ea(f,y,E,b,c),Oo(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?ea(f,y,E,b,c):Mo(f,y):(j._visibility|=2,ea(f,y,E,b,c)),c&&x&2048&&Wh(y.alternate,y);break;case 24:ea(f,y,E,b,c),c&&x&2048&&tf(y.alternate,y);break;default:ea(f,y,E,b,c)}n=n.sibling}}function Mo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Mo(r,o),c&2048&&Wh(o.alternate,o);break;case 24:Mo(r,o),c&2048&&tf(o.alternate,o);break;default:Mo(r,o)}n=n.sibling}}var Vo=8192;function na(e){if(e.subtreeFlags&Vo)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 26:na(e),e.flags&Vo&&e.memoizedState!==null&&fT(Dn,e.memoizedState,e.memoizedProps);break;case 5:na(e);break;case 3:case 4:var n=Dn;Dn=Mu(e.stateNode.containerInfo),na(e),Dn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Vo,Vo=16777216,na(e),Vo=n):na(e));break;default:na(e)}}function pp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Uo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ie=o,_p(o,e)}pp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 0:case 11:case 15:Uo(e),e.flags&2048&&$i(9,e,e.return);break;case 3:Uo(e);break;case 12:Uo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Eu(e)):Uo(e);break;default:Uo(e)}}function Eu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ie=o,_p(o,e)}pp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$i(8,n,n.return),Eu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Eu(n));break;default:Eu(n)}e=e.sibling}}function _p(e,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ie=o;else t:for(r=e;Ie!==null;){o=Ie;var c=o.sibling,f=o.return;if(up(o),o===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var CE={getCacheForType:function(e){var n=Be(ve),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},DE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Zt=null,bt=null,Nt=0,jt=0,un=null,tr=!1,ia=!1,ef=!1,Ii=0,re=0,er=0,us=0,nf=0,Sn=0,ra=0,Lo=null,We=null,rf=!1,sf=0,Tu=1/0,Au=null,nr=null,Le=0,ir=null,sa=null,aa=0,af=0,of=null,vp=null,ko=0,lf=null;function cn(){if((Ht&2)!==0&&Nt!==0)return Nt&-Nt;if(H.T!==null){var e=Ks;return e!==0?e:gf()}return Pi()}function Ep(){Sn===0&&(Sn=(Nt&536870912)===0||zt?Ga():536870912);var e=An.current;return e!==null&&(e.flags|=32),Sn}function hn(e,n,r){(e===Zt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(oa(e,0),rr(e,Nt,Sn,!1)),si(e,r),((Ht&2)===0||e!==Zt)&&(e===Zt&&((Ht&2)===0&&(us|=r),re===4&&rr(e,Nt,Sn,!1)),Yn(e))}function Tp(e,n,r){if((Ht&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||Lr(e,n),c=o?ME(e,n):hf(e,n,!0),f=o;do{if(c===0){ia&&!o&&rr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!OE(r)){c=hf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;c=Lo;var b=E.current.memoizedState.isDehydrated;if(b&&(oa(E,y).flags|=256),y=hf(E,y,!1),y!==2){if(ef&&!b){E.errorRecoveryDisabledLanes|=f,us|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){oa(e,0),rr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:rr(o,n,Sn,!tr);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=sf+300-fn(),10<c)){if(rr(o,n,Sn,!tr),bs(o,0,!0)!==0)break t;o.timeoutHandle=Zp(Ap.bind(null,o,r,We,Au,rf,n,Sn,us,ra,tr,f,2,-0,0),c);break t}Ap(o,r,We,Au,rf,n,Sn,us,ra,tr,f,0,-0,0)}}break}while(!0);Yn(e)}function Ap(e,n,r,o,c,f,y,E,b,x,j,F,P,z){if(e.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(jo={stylesheets:null,count:0,unsuspend:hT},gp(n),F=dT(),F!==null)){e.cancelPendingCommit=F(Dp.bind(null,e,n,f,r,o,c,y,E,b,j,1,P,z)),rr(e,f,y,!x);return}Dp(e,n,f,r,o,c,y,E,b)}function OE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(e,n,r,o){n&=~nf,n&=~us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ze(c),y=1<<f;o[f]=-1,c&=~y}r!==0&&Vn(e,r,n)}function Su(){return(Ht&6)===0?(xo(0),!1):!0}function uf(){if(bt!==null){if(jt===0)var e=bt.return;else e=bt,vi=is=null,Rh(e),Ws=null,Io=0,e=bt;for(;e!==null;)ep(e.alternate,e),e=e.return;bt=null}}function oa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,YE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),uf(),Zt=e,bt=r=pi(e.current,null),Nt=n,jt=0,un=null,tr=!1,ia=Lr(e,n),ef=!1,ra=Sn=nf=us=er=re=0,We=Lo=null,rf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ze(o),f=1<<c;n|=e[c],o&=~f}return Ii=n,Fl(),r}function Sp(e,n){Et=null,H.H=cu,n===_o||n===tu?(n=Bm(),jt=3):n===xm?(n=Bm(),jt=4):jt=n===qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,bt===null&&(re=1,gu(e,_n(n,e.current)))}function bp(){var e=H.H;return H.H=cu,e===null?cu:e}function Rp(){var e=H.A;return H.A=CE,e}function cf(){re=4,tr||(Nt&4194048)!==Nt&&An.current!==null||(ia=!0),(er&134217727)===0&&(us&134217727)===0||Zt===null||rr(Zt,Nt,Sn,!1)}function hf(e,n,r){var o=Ht;Ht|=2;var c=bp(),f=Rp();(Zt!==e||Nt!==n)&&(Au=null,oa(e,n)),n=!1;var y=re;t:do try{if(jt!==0&&bt!==null){var E=bt,b=un;switch(jt){case 8:uf(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var x=jt;if(jt=0,un=null,la(e,E,b,x),r&&ia){y=0;break t}break;default:x=jt,jt=0,un=null,la(e,E,b,x)}}NE(),y=re;break}catch(j){Sp(e,j)}while(!0);return n&&e.shellSuspendCounter++,vi=is=null,Ht=o,H.H=c,H.A=f,bt===null&&(Zt=null,Nt=0,Fl()),y}function NE(){for(;bt!==null;)wp(bt)}function ME(e,n){var r=Ht;Ht|=2;var o=bp(),c=Rp();Zt!==e||Nt!==n?(Au=null,Tu=fn()+500,oa(e,n)):ia=Lr(e,n);t:do try{if(jt!==0&&bt!==null){n=bt;var f=un;e:switch(jt){case 1:jt=0,un=null,la(e,n,f,1);break;case 2:case 9:if(Pm(f)){jt=0,un=null,Ip(n);break}n=function(){jt!==2&&jt!==9||Zt!==e||(jt=7),Yn(e)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:Pm(f)?(jt=0,un=null,Ip(n)):(jt=0,un=null,la(e,n,f,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var E=bt;if(!y||ly(y)){jt=0,un=null;var b=E.sibling;if(b!==null)bt=b;else{var x=E.return;x!==null?(bt=x,bu(x)):bt=null}break e}}jt=0,un=null,la(e,n,f,5);break;case 6:jt=0,un=null,la(e,n,f,6);break;case 8:uf(),re=6;break t;default:throw Error(s(462))}}VE();break}catch(j){Sp(e,j)}while(!0);return vi=is=null,H.H=o,H.A=c,Ht=r,bt!==null?0:(Zt=null,Nt=0,Fl(),re)}function VE(){for(;bt!==null&&!Ba();)wp(bt)}function wp(e){var n=Wg(e.alternate,e,Ii);e.memoizedProps=e.pendingProps,n===null?bu(e):bt=n}function Ip(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Kg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Kg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Rh(n);default:ep(r,n),n=bt=Cm(n,Ii),n=Wg(r,n,Ii)}e.memoizedProps=e.pendingProps,n===null?bu(e):bt=n}function la(e,n,r,o){vi=is=null,Rh(n),Ws=null,Io=0;var c=n.return;try{if(AE(e,c,n,r,Nt)){re=1,gu(e,_n(r,e.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;re=1,gu(e,_n(r,e.current)),bt=null;return}n.flags&32768?(zt||o===1?e=!0:ia||(Nt&536870912)!==0?e=!1:(tr=e=!0,(o===2||o===9||o===3||o===6)&&(o=An.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cp(n,e)):bu(n)}function bu(e){var n=e;do{if((n.flags&32768)!==0){Cp(n,tr);return}e=n.return;var r=bE(n.alternate,n,Ii);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);re===0&&(re=5)}function Cp(e,n){do{var r=RE(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);re=6,bt=null}function Dp(e,n,r,o,c,f,y,E,b){e.cancelPendingCommit=null;do Ru();while(Le!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=th,Qa(e,r,f,y,E,b),e===Zt&&(bt=Zt=null,Nt=0),sa=n,ir=e,aa=r,af=f,of=c,vp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xE(Nr,function(){return Up(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=$.p,$.p=2,y=Ht,Ht|=4;try{wE(e,n,r)}finally{Ht=y,$.p=c,H.T=o}}Le=1,Op(),Np(),Mp()}}function Op(){if(Le===1){Le=0;var e=ir,n=sa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var c=Ht;Ht|=4;try{fp(n,e);var f=Sf,y=_m(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&ym(E.ownerDocument.documentElement,E)){if(b!==null&&Xc(E)){var x=b.start,j=b.end;if(j===void 0&&(j=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var z=P.getSelection(),ht=E.textContent.length,lt=Math.min(b.start,ht),Kt=b.end===void 0?lt:Math.min(b.end,ht);!z.extend&&lt>Kt&&(y=Kt,Kt=lt,lt=y);var M=pm(E,lt),C=pm(E,Kt);if(M&&C&&(z.rangeCount!==1||z.anchorNode!==M.node||z.anchorOffset!==M.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var k=F.createRange();k.setStart(M.node,M.offset),z.removeAllRanges(),lt>Kt?(z.addRange(k),z.extend(C.node,C.offset)):(k.setEnd(C.node,C.offset),z.addRange(k))}}}}for(F=[],z=E;z=z.parentNode;)z.nodeType===1&&F.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}xu=!!Af,Sf=Af=null}finally{Ht=c,$.p=o,H.T=r}}e.current=n,Le=2}}function Np(){if(Le===2){Le=0;var e=ir,n=sa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var c=Ht;Ht|=4;try{lp(e,n.alternate,n)}finally{Ht=c,$.p=o,H.T=r}}Le=3}}function Mp(){if(Le===4||Le===3){Le=0,El();var e=ir,n=sa,r=aa,o=vp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,sa=ir=null,Vp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(nr=null),Rs(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ne,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=$.p,$.p=2,H.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,$.p=c}}(aa&3)!==0&&Ru(),Yn(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===lf?ko++:(ko=0,lf=e):ko=0,xo(0)}}function Vp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,po(n)))}function Ru(e){return Op(),Np(),Mp(),Up()}function Up(){if(Le!==5)return!1;var e=ir,n=af;af=0;var r=Rs(aa),o=H.T,c=$.p;try{$.p=32>r?32:r,H.T=null,r=of,of=null;var f=ir,y=aa;if(Le=0,sa=ir=null,aa=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,yp(f.current),mp(f,f.current,y,r),Ht=E,xo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ne,f)}catch{}return!0}finally{$.p=c,H.T=o,Vp(e,n)}}function Lp(e,n,r){n=_n(r,n),n=zh(e.stateNode,n,2),e=Ki(e,n,2),e!==null&&(si(e,2),Yn(e))}function Yt(e,n,r){if(e.tag===3)Lp(e,e,r);else for(;n!==null;){if(n.tag===3){Lp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nr===null||!nr.has(o))){e=_n(r,e),r=zg(2),o=Ki(n,r,2),o!==null&&(Bg(r,o,n,e),si(o,2),Yn(o));break}}n=n.return}}function ff(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new DE;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(ef=!0,c.add(r),e=UE.bind(null,e,n,r),n.then(e,e))}function UE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Zt===e&&(Nt&r)===r&&(re===4||re===3&&(Nt&62914560)===Nt&&300>fn()-sf?(Ht&2)===0&&oa(e,0):nf|=r,ra===Nt&&(ra=0)),Yn(e)}function kp(e,n){n===0&&(n=Fa()),e=js(e,n),e!==null&&(si(e,n),Yn(e))}function LE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),kp(e,r)}function kE(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),kp(e,r)}function xE(e,n){return Dr(e,n)}var wu=null,ua=null,df=!1,Iu=!1,mf=!1,cs=0;function Yn(e){e!==ua&&e.next===null&&(ua===null?wu=ua=e:ua=ua.next=e),Iu=!0,df||(df=!0,zE())}function xo(e,n){if(!mf&&Iu){mf=!0;do for(var r=!1,o=wu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ze(42|e)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Bp(o,f))}else f=Nt,f=bs(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Lr(o,f)||(r=!0,Bp(o,f));o=o.next}while(r);mf=!1}}function PE(){xp()}function xp(){Iu=df=!1;var e=0;cs!==0&&(KE()&&(e=cs),cs=0);for(var n=fn(),r=null,o=wu;o!==null;){var c=o.next,f=Pp(o,n);f===0?(o.next=null,r===null?wu=c:r.next=c,c===null&&(ua=r)):(r=o,(e!==0||(f&3)!==0)&&(Iu=!0)),o=c}xo(e)}function Pp(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-ze(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&o)!==0)&&(c[y]=ja(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,r=Nt,r=bs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Or(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Lr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Or(o),Rs(r)){case 2:case 8:r=As;break;case 32:r=Nr;break;case 268435456:r=Ss;break;default:r=Nr}return o=zp.bind(null,e),r=Dr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Or(o),e.callbackPriority=2,e.callbackNode=null,2}function zp(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Ru()&&e.callbackNode!==r)return null;var o=Nt;return o=bs(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Tp(e,o,n),Pp(e,fn()),e.callbackNode!=null&&e.callbackNode===r?zp.bind(null,e):null)}function Bp(e,n){if(Ru())return null;Tp(e,n,!0)}function zE(){XE(function(){(Ht&6)!==0?Dr(qa,PE):xp()})}function gf(){return cs===0&&(cs=Ga()),cs}function qp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ns(""+e)}function Hp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function BE(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=qp((c[he]||null).action),y=o.submitter;y&&(n=(n=y[he]||null)?qp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ms("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(cs!==0){var b=y?Hp(c,y):new FormData(c);Uh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Hp(c,y):new FormData(c),Uh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var pf=0;pf<Wc.length;pf++){var yf=Wc[pf],qE=yf.toLowerCase(),HE=yf[0].toUpperCase()+yf.slice(1);Cn(qE,"on"+HE)}Cn(Tm,"onAnimationEnd"),Cn(Am,"onAnimationIteration"),Cn(Sm,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(sE,"onTransitionRun"),Cn(aE,"onTransitionStart"),Cn(oE,"onTransitionCancel"),Cn(bm,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function jp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,x=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=x;try{f(c)}catch(j){mu(j)}c.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,x=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=x;try{f(c)}catch(j){mu(j)}c.currentTarget=null,f=b}}}}function Rt(e,n){var r=n[Ya];r===void 0&&(r=n[Ya]=new Set);var o=e+"__bubble";r.has(o)||(Gp(n,e,2,!1),r.add(o))}function _f(e,n,r){var o=0;n&&(o|=4),Gp(r,e,o,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[Cu]){e[Cu]=!0,Xa.forEach(function(r){r!=="selectionchange"&&(jE.has(r)||_f(r,!1,e),_f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,_f("selectionchange",!1,n))}}function Gp(e,n,r,o){switch(my(n)){case 2:var c=pT;break;case 8:c=yT;break;default:c=Vf}r=c.bind(null,n,r,e),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Ef(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Ol(function(){var x=f,j=gn(r),F=[];t:{var P=Rm.get(e);if(P!==void 0){var z=Ms,ht=e;switch(e){case"keypress":if(zn(r)===0)break t;case"keydown":case"keyup":z=Ps;break;case"focusin":ht="focus",z=Ls;break;case"focusout":ht="blur",z=Ls;break;case"beforeblur":case"afterblur":z=Ls;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Pl;break;case Tm:case Am:case Sm:z=ks;break;case bm:z=Bl;break;case"scroll":case"scrollend":z=Nl;break;case"wheel":z=zs;break;case"copy":case"cut":case"paste":z=xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=oo;break;case"toggle":case"beforetoggle":z=Hl}var lt=(n&4)!==0,Kt=!lt&&(e==="scroll"||e==="scrollend"),M=lt?P!==null?P+"Capture":null:P;lt=[];for(var C=x,k;C!==null;){var G=C;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||M===null||(G=jr(C,M),G!=null&&lt.push(zo(C,G,k))),Kt)break;C=C.return}0<lt.length&&(P=new z(P,ht,null,r,j),F.push({event:P,listeners:lt}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",P&&r!==ci&&(ht=r.relatedTarget||r.fromElement)&&(ai(ht)||ht[dn]))break t;if((z||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,z?(ht=r.relatedTarget||r.toElement,z=x,ht=ht?ai(ht):null,ht!==null&&(Kt=h(ht),lt=ht.tag,ht!==Kt||lt!==5&&lt!==27&&lt!==6)&&(ht=null)):(z=null,ht=x),z!==ht)){if(lt=yn,G="onMouseLeave",M="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(lt=oo,G="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=z==null?P:Ln(z),k=ht==null?P:Ln(ht),P=new lt(G,C+"leave",z,r,j),P.target=Kt,P.relatedTarget=k,G=null,ai(j)===x&&(lt=new lt(M,C+"enter",ht,r,j),lt.target=k,lt.relatedTarget=Kt,G=lt),Kt=G,z&&ht)e:{for(lt=z,M=ht,C=0,k=lt;k;k=ca(k))C++;for(k=0,G=M;G;G=ca(G))k++;for(;0<C-k;)lt=ca(lt),C--;for(;0<k-C;)M=ca(M),k--;for(;C--;){if(lt===M||M!==null&&lt===M.alternate)break e;lt=ca(lt),M=ca(M)}lt=null}else lt=null;z!==null&&Fp(F,P,z,lt,!1),ht!==null&&Kt!==null&&Fp(F,Kt,ht,lt,!0)}}t:{if(P=x?Ln(x):window,z=P.nodeName&&P.nodeName.toLowerCase(),z==="select"||z==="input"&&P.type==="file")var it=cm;else if(_e(P))if(hm)it=nE;else{it=tE;var At=W0}else z=P.nodeName,!z||z.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?x&&to(x.elementType)&&(it=cm):it=eE;if(it&&(it=it(e,x))){gi(F,it,r,j);break t}At&&At(e,P,x),e==="focusout"&&x&&P.type==="number"&&x.memoizedProps.value!=null&&Hi(P,"number",P.value)}switch(At=x?Ln(x):window,e){case"focusin":(_e(At)||At.contentEditable==="true")&&(Bs=At,Zc=x,co=null);break;case"focusout":co=Zc=Bs=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,vm(F,r,j);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":vm(F,r,j)}var st;if(Hn)t:{switch(e){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else Dt?q(e,r)&&(ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ut="onCompositionStart");ut&&(p&&r.locale!=="ko"&&(Dt||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Dt&&(st=no()):(Pn=j,ji="value"in Pn?Pn.value:Pn.textContent,Dt=!0)),At=Du(x,ut),0<At.length&&(ut=new so(ut,e,null,r,j),F.push({event:ut,listeners:At}),st?ut.data=st:(st=Z(r),st!==null&&(ut.data=st)))),(st=m?ye(e,r):Ot(e,r))&&(ut=Du(x,"onBeforeInput"),0<ut.length&&(At=new so("onBeforeInput","beforeinput",null,r,j),F.push({event:At,listeners:ut}),At.data=st)),BE(F,e,x,r,j)}jp(F,n)})}function zo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Du(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(e,r),c!=null&&o.unshift(zo(e,c,f)),c=jr(e,n),c!=null&&o.push(zo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,n,r,o,c){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,b=E.alternate,x=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||x===null||(b=x,c?(x=jr(r,f),x!=null&&y.unshift(zo(r,x,b))):c||(x=jr(r,f),x!=null&&y.push(zo(r,x,b)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var GE=/\r\n?/g,FE=/\u0000|\uFFFD/g;function Qp(e){return(typeof e=="string"?e:""+e).replace(GE,`
`).replace(FE,"")}function Kp(e,n){return n=Qp(n),Qp(e)===n}function Ou(){}function Qt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":kn(e,"class",o);break;case"tabIndex":kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,r,o);break;case"style":Wa(e,o,f);break;case"data":if(n!=="object"){kn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ns(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(e,n,"name",c.name,c,null),Qt(e,n,"formEncType",c.formEncType,c,null),Qt(e,n,"formMethod",c.formMethod,c,null),Qt(e,n,"formTarget",c.formTarget,c,null)):(Qt(e,n,"encType",c.encType,c,null),Qt(e,n,"method",c.method,c,null),Qt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ns(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ou);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ns(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),qi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":qi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jc.get(r)||r,qi(e,r,o))}}function Tf(e,n,r,o,c,f){switch(r){case"style":Wa(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ws.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):qi(e,r,o)}}}function ke(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,f,y,r,null)}}c&&Qt(e,n,"srcSet",r.srcSet,r,null),o&&Qt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=y=c=null,b=null,x=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":x=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Qt(e,n,o,j,r,null)}}Br(e,f,E,b,x,y,c,!1),Os(e);return;case"select":Rt("invalid",e),o=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Qt(e,n,c,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?ui(e,!!o,n,!1):r!=null&&ui(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,n,y,E,r,null)}qr(e,o,c,f),Os(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,b,o,r,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<Po.length;o++)Rt(Po[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,x,o,r,null)}return;default:if(to(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&Tf(e,n,j,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Qt(e,n,E,o,r,null))}function QE(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,x=null,j=null;for(z in r){var F=r[z];if(r.hasOwnProperty(z)&&F!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=F;default:o.hasOwnProperty(z)||Qt(e,n,z,null,o,F)}}for(var P in o){var z=o[P];if(F=r[P],o.hasOwnProperty(P)&&(z!=null||F!=null))switch(P){case"type":f=z;break;case"name":c=z;break;case"checked":x=z;break;case"defaultChecked":j=z;break;case"value":y=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:z!==F&&Qt(e,n,P,z,o,F)}}rn(e,y,E,b,x,j,f,c);return;case"select":z=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":z=b;default:o.hasOwnProperty(f)||Qt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=r[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(e,n,c,f,o,b)}n=E,r=y,o=z,P!=null?ui(e,!!r,P,!1):!!o!=!!r&&(n!=null?ui(e,!!r,n,!0):ui(e,!!r,r?[]:"",!1));return;case"textarea":z=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,n,E,null,o,c)}for(y in o)if(c=o[y],f=r[y],o.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(e,n,y,c,o,f)}Gt(e,P,z);return;case"option":for(var ht in r)if(P=r[ht],r.hasOwnProperty(ht)&&P!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Qt(e,n,ht,null,o,P)}for(b in o)if(P=o[b],z=r[b],o.hasOwnProperty(b)&&P!==z&&(P!=null||z!=null))switch(b){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Qt(e,n,b,P,o,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in r)P=r[lt],r.hasOwnProperty(lt)&&P!=null&&!o.hasOwnProperty(lt)&&Qt(e,n,lt,null,o,P);for(x in o)if(P=o[x],z=r[x],o.hasOwnProperty(x)&&P!==z&&(P!=null||z!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Qt(e,n,x,P,o,z)}return;default:if(to(n)){for(var Kt in r)P=r[Kt],r.hasOwnProperty(Kt)&&P!==void 0&&!o.hasOwnProperty(Kt)&&Tf(e,n,Kt,void 0,o,P);for(j in o)P=o[j],z=r[j],!o.hasOwnProperty(j)||P===z||P===void 0&&z===void 0||Tf(e,n,j,P,o,z);return}}for(var M in r)P=r[M],r.hasOwnProperty(M)&&P!=null&&!o.hasOwnProperty(M)&&Qt(e,n,M,null,o,P);for(F in o)P=o[F],z=r[F],!o.hasOwnProperty(F)||P===z||P==null&&z==null||Qt(e,n,F,P,o,z)}var Af=null,Sf=null;function Nu(e){return e.nodeType===9?e:e.ownerDocument}function Yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function KE(){var e=window.event;return e&&e.type==="popstate"?e===Rf?!1:(Rf=e,!0):(Rf=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(ZE)}:Zp;function ZE(e){setTimeout(function(){throw e})}function sr(e){return e==="head"}function Jp(e,n){var r=n,o=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var y=e.ownerDocument;if(r&1&&Bo(y.documentElement),r&2&&Bo(y.body),r&4)for(r=y.head,Bo(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[kr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){e.removeChild(f),Yo(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);Yo(n)}function wf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wf(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $E(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[kr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function JE(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function If(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function WE(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Cf=null;function Wp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function ty(e,n,r){switch(n=Nu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Bo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Bi(e)}var bn=new Map,ey=new Set;function Mu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ci=$.d;$.d={f:tT,r:eT,D:nT,C:iT,L:rT,m:sT,X:oT,S:aT,M:lT};function tT(){var e=Ci.f(),n=Su();return e||n}function eT(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Ci.r(e)}var ha=typeof document>"u"?null:document;function ny(e,n,r){var o=ha;if(o&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ey.has(c)||(ey.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ke(n,"link",e),ae(n),o.head.appendChild(n)))}}function nT(e){Ci.D(e),ny("dns-prefetch",e,null)}function iT(e,n){Ci.C(e,n),ny("preconnect",e,n)}function rT(e,n,r){Ci.L(e,n,r);var o=ha;if(o&&e&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(e)+'"]';var f=c;switch(n){case"style":f=fa(e);break;case"script":f=da(e)}bn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),bn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(qo(f))||n==="script"&&o.querySelector(Ho(f))||(n=o.createElement("link"),ke(n,"link",e),ae(n),o.head.appendChild(n)))}}function sT(e,n){Ci.m(e,n);var r=ha;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(o)+'"][href="'+fe(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=da(e)}if(!bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),bn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ho(f)))return}o=r.createElement("link"),ke(o,"link",e),ae(o),r.head.appendChild(o)}}}function aT(e,n,r){Ci.S(e,n,r);var o=ha;if(o&&e){var c=Qe(o).hoistableStyles,f=fa(e);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(qo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=bn.get(f))&&Df(e,r);var b=y=o.createElement("link");ae(b),ke(b,"link",e),b._p=new Promise(function(x,j){b.onload=x,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function oT(e,n){Ci.X(e,n);var r=ha;if(r&&e){var o=Qe(r).hoistableScripts,c=da(e),f=o.get(c);f||(f=r.querySelector(Ho(c)),f||(e=A({src:e,async:!0},n),(n=bn.get(c))&&Of(e,n),f=r.createElement("script"),ae(f),ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function lT(e,n){Ci.M(e,n);var r=ha;if(r&&e){var o=Qe(r).hoistableScripts,c=da(e),f=o.get(c);f||(f=r.querySelector(Ho(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=bn.get(c))&&Of(e,n),f=r.createElement("script"),ae(f),ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function iy(e,n,r,o){var c=(c=mt.current)?Mu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fa(r.href),r=Qe(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=fa(r.href);var f=Qe(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(qo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),bn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},bn.set(e,r),f||uT(c,e,r,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=da(r),r=Qe(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function fa(e){return'href="'+fe(e)+'"'}function qo(e){return'link[rel="stylesheet"]['+e+"]"}function ry(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function uT(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ke(n,"link",r),ae(n),e.head.appendChild(n))}function da(e){return'[src="'+fe(e)+'"]'}function Ho(e){return"script[async]"+e}function sy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fe(r.href)+'"]');if(o)return n.instance=o,ae(o),o;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ae(o),ke(o,"style",c),Vu(o,r.precedence,e),n.instance=o;case"stylesheet":c=fa(r.href);var f=e.querySelector(qo(c));if(f)return n.state.loading|=4,n.instance=f,ae(f),f;o=ry(r),(c=bn.get(c))&&Df(o,c),f=(e.ownerDocument||e).createElement("link"),ae(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ke(f,"link",o),n.state.loading|=4,Vu(f,r.precedence,e),n.instance=f;case"script":return f=da(r.src),(c=e.querySelector(Ho(f)))?(n.instance=c,ae(c),c):(o=r,(c=bn.get(f))&&(o=A({},r),Of(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ae(c),ke(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Vu(o,r.precedence,e));return n.instance}function Vu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Of(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Uu=null;function ay(e,n,r){if(Uu===null){var o=new Map,c=Uu=new Map;c.set(r,o)}else c=Uu,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[kr]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function oy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function cT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var jo=null;function hT(){}function fT(e,n,r){if(jo===null)throw Error(s(475));var o=jo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=fa(r.href),f=e.querySelector(qo(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Lu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ae(f);return}f=e.ownerDocument||e,r=ry(r),(c=bn.get(c))&&Df(r,c),f=f.createElement("link"),ae(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ke(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Lu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function dT(){if(jo===null)throw Error(s(475));var e=jo;return e.stylesheets&&e.count===0&&Nf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Nf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Lu(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ku=null;function Nf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ku=new Map,n.forEach(mT,e),ku=null,Lu.call(e))}function mT(e,n){if(!(n.state.loading&4)){var r=ku.get(e);if(r)var o=r.get(null);else{r=new Map,ku.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,c),r.set(y,c),this.count++,o=Lu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Go={$$typeof:gt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function gT(e,n,r,o,c,f,y,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function uy(e,n,r,o,c,f,y,E,b,x,j,F){return e=new gT(e,n,r,y,E,b,x,F),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},gh(f),e}function cy(e){return e?(e=Gs,e):Gs}function hy(e,n,r,o,c,f){c=cy(c),o.context===null?o.context=c:o.pendingContext=c,o=Qi(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ki(e,o,n),r!==null&&(hn(r,e,n),Eo(r,e,n))}function fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Mf(e,n){fy(e,n),(e=e.alternate)&&fy(e,n)}function dy(e){if(e.tag===13){var n=js(e,67108864);n!==null&&hn(n,e,67108864),Mf(e,67108864)}}var xu=!0;function pT(e,n,r,o){var c=H.T;H.T=null;var f=$.p;try{$.p=2,Vf(e,n,r,o)}finally{$.p=f,H.T=c}}function yT(e,n,r,o){var c=H.T;H.T=null;var f=$.p;try{$.p=8,Vf(e,n,r,o)}finally{$.p=f,H.T=c}}function Vf(e,n,r,o){if(xu){var c=Uf(o);if(c===null)Ef(e,n,o,Pu,r),gy(e,o);else if(vT(c,e,n,r,o))o.stopPropagation();else if(gy(e,o),n&4&&-1<_T.indexOf(e)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Rn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ze(y);E.entanglements[1]|=b,y&=~b}Yn(f),(Ht&6)===0&&(Tu=fn()+500,xo(0))}}break;case 13:E=js(f,2),E!==null&&hn(E,f,2),Su(),Mf(f,2)}if(f=Uf(o),f===null&&Ef(e,n,o,Pu,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Ef(e,n,o,null,r)}}function Uf(e){return e=gn(e),Lf(e)}var Pu=null;function Lf(e){if(Pu=null,e=ai(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Pu=e,null}function my(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xc()){case qa:return 2;case As:return 8;case Nr:case Pc:return 32;case Ss:return 268435456;default:return 32}default:return 32}}var kf=!1,ar=null,or=null,lr=null,Fo=new Map,Qo=new Map,ur=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(e,n){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(n.pointerId)}}function Ko(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&dy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function vT(e,n,r,o,c){switch(n){case"focusin":return ar=Ko(ar,e,n,r,o,c),!0;case"dragenter":return or=Ko(or,e,n,r,o,c),!0;case"mouseover":return lr=Ko(lr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return Fo.set(f,Ko(Fo.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Qo.set(f,Ko(Qo.get(f)||null,e,n,r,o,c)),!0}return!1}function py(e){var n=ai(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Sl(e.priority,function(){if(r.tag===13){var o=cn();o=xi(o);var c=js(r,o);c!==null&&hn(c,r,o),Mf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Uf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);ci=o,r.target.dispatchEvent(o),ci=null}else return n=Un(r),n!==null&&dy(n),e.blockedOn=r,!1;n.shift()}return!0}function yy(e,n,r){zu(e)&&r.delete(n)}function ET(){kf=!1,ar!==null&&zu(ar)&&(ar=null),or!==null&&zu(or)&&(or=null),lr!==null&&zu(lr)&&(lr=null),Fo.forEach(yy),Qo.forEach(yy)}function Bu(e,n){e.blockedOn===n&&(e.blockedOn=null,kf||(kf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ET)))}var qu=null;function _y(e){qu!==e&&(qu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qu===e&&(qu=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(Lf(o||r)===null)continue;break}var f=Un(r);f!==null&&(e.splice(n,3),n-=3,Uh(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Yo(e){function n(b){return Bu(b,e)}ar!==null&&Bu(ar,e),or!==null&&Bu(or,e),lr!==null&&Bu(lr,e),Fo.forEach(n),Qo.forEach(n);for(var r=0;r<ur.length;r++){var o=ur[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)py(r),r.blockedOn===null&&ur.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=c[he]||null;if(typeof f=="function")y||_y(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(Lf(c)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),_y(r)}}}function xf(e){this._internalRoot=e}Hu.prototype.render=xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=cn();hy(r,o,e,n,null,null)},Hu.prototype.unmount=xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;hy(e.current,2,null,e,null,null),Su(),n[dn]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,e),r===0&&py(e)}};var vy=t.version;if(vy!=="19.1.0")throw Error(s(527,vy,"19.1.0"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var TT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{ne=ju.inject(TT),qt=ju}catch{}}return Zo.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",c=Lg,f=kg,y=xg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=uy(e,1,!1,null,null,r,o,c,f,y,E,null),e[dn]=n.current,vf(e),new xf(n)},Zo.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=Lg,y=kg,E=xg,b=null,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(x=r.formState)),n=uy(e,1,!0,n,r??null,o,c,f,y,E,b,x),n.context=cy(null),r=n.current,o=cn(),o=xi(o),c=Qi(o),c.callback=null,Ki(r,c,o),r=o,n.current.lanes=r,si(n,r),Yn(n),e[dn]=n.current,vf(e),new Hu(n)},Zo.version="19.1.0",Zo}var Dy;function NT(){if(Dy)return Bf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Bf.exports=OT(),Bf.exports}var MT=NT();const VT="/circa/assets/react-CHdo91hT.svg",UT="/circa/vite.svg",LT=()=>{};var Oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kT=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],g=a[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,g=d?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let B=(g&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(B=64)),s.push(i[A],i[V],i[B],i[Y])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(ev(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):kT(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const V=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||g==null||v==null||V==null)throw new xT;const B=h<<2|g>>4;if(s.push(B),v!==64){const Y=g<<4&240|v>>2;if(s.push(Y),V!==64){const tt=v<<6&192|V;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class xT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PT=function(a){const t=ev(a);return nv.encodeByteArray(t,!0)},ac=function(a){return PT(a).replace(/\./g,"")},iv=function(a){try{return nv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=()=>zT().__FIREBASE_DEFAULTS__,qT=()=>{if(typeof process>"u"||typeof Oy>"u")return;const a=Oy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},HT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&iv(a[1]);return t&&JSON.parse(t)},Ac=()=>{try{return LT()||BT()||qT()||HT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},rv=a=>{var t,i;return(i=(t=Ac())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},jT=a=>{const t=rv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},sv=()=>{var a;return(a=Ac())===null||a===void 0?void 0:a.config},av=a=>{var t;return(t=Ac())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function KT(){var a;const t=(a=Ac())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XT(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function ZT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $T(){const a=Fe();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function JT(){return!KT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WT(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirebaseError";class Li extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=eA,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?nA(h,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Li(l,g,s)}}function nA(a,t){return a.replace(iA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const iA=/\{\$([^}]+)}/g;function rA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function ps(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const h=a[l],d=t[l];if(Ny(h)&&Ny(d)){if(!ps(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Ny(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function sA(a,t){const i=new aA(a,t);return i.subscribe.bind(i)}class aA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");oA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Gf),l.error===void 0&&(l.error=Gf),l.complete===void 0&&(l.complete=Gf);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(a){return a&&a._delegate?a._delegate:a}class ys{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new GT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cA(t))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hs){return this.instances.has(t)}getOptions(t=hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(l,h);const d=this.instances.get(l);return d&&t(d,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=hs){return this.component?this.component.multipleInstances?t:hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(a){return a===hs?void 0:a}function cA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(It||(It={}));const fA={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},dA=It.INFO,mA={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},gA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=mA[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Od{constructor(t){this.name=t,this._logLevel=dA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in It))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...t),this._logHandler(this,It.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...t),this._logHandler(this,It.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,It.INFO,...t),this._logHandler(this,It.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,It.WARN,...t),this._logHandler(this,It.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...t),this._logHandler(this,It.ERROR,...t)}}const pA=(a,t)=>t.some(i=>a instanceof i);let My,Vy;function yA(){return My||(My=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,nd=new WeakMap,lv=new WeakMap,Ff=new WeakMap,Nd=new WeakMap;function vA(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(_r(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&ov.set(i,a)}).catch(()=>{}),Nd.set(t,a),t}function EA(a){if(nd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});nd.set(a,t)}let id={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return nd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||lv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function TA(a){id=a(id)}function AA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Qf(this),t,...i);return lv.set(s,t.sort?t.sort():[t]),_r(s)}:_A().includes(a)?function(...t){return a.apply(Qf(this),t),_r(ov.get(this))}:function(...t){return _r(a.apply(Qf(this),t))}}function SA(a){return typeof a=="function"?AA(a):(a instanceof IDBTransaction&&EA(a),pA(a,yA())?new Proxy(a,id):a)}function _r(a){if(a instanceof IDBRequest)return vA(a);if(Ff.has(a))return Ff.get(a);const t=SA(a);return t!==a&&(Ff.set(a,t),Nd.set(t,a)),t}const Qf=a=>Nd.get(a);function bA(a,t,{blocked:i,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),g=_r(d);return s&&d.addEventListener("upgradeneeded",_=>{s(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const RA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],Kf=new Map;function Uy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Kf.get(t))return Kf.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=wA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||RA.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&_.done]))[0]};return Kf.set(t,h),h}TA(a=>({...a,get:(t,i,s)=>Uy(t,i)||a.get(t,i,s),has:(t,i)=>!!Uy(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function CA(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rd="@firebase/app",Ly="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Od("@firebase/app"),DA="@firebase/app-compat",OA="@firebase/analytics-compat",NA="@firebase/analytics",MA="@firebase/app-check-compat",VA="@firebase/app-check",UA="@firebase/auth",LA="@firebase/auth-compat",kA="@firebase/database",xA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",BA="@firebase/functions-compat",qA="@firebase/installations",HA="@firebase/installations-compat",jA="@firebase/messaging",GA="@firebase/messaging-compat",FA="@firebase/performance",QA="@firebase/performance-compat",KA="@firebase/remote-config",YA="@firebase/remote-config-compat",XA="@firebase/storage",ZA="@firebase/storage-compat",$A="@firebase/firestore",JA="@firebase/vertexai",WA="@firebase/firestore-compat",tS="firebase",eS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="[DEFAULT]",nS={[rd]:"fire-core",[DA]:"fire-core-compat",[NA]:"fire-analytics",[OA]:"fire-analytics-compat",[VA]:"fire-app-check",[MA]:"fire-app-check-compat",[UA]:"fire-auth",[LA]:"fire-auth-compat",[kA]:"fire-rtdb",[xA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[BA]:"fire-fn-compat",[qA]:"fire-iid",[HA]:"fire-iid-compat",[jA]:"fire-fcm",[GA]:"fire-fcm-compat",[FA]:"fire-perf",[QA]:"fire-perf-compat",[KA]:"fire-rc",[YA]:"fire-rc-compat",[XA]:"fire-gcs",[ZA]:"fire-gcs-compat",[$A]:"fire-fst",[WA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[tS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,iS=new Map,ad=new Map;function ky(a,t){try{a.container.addComponent(t)}catch(i){Ni.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ra(a){const t=a.name;if(ad.has(t))return Ni.debug(`There were multiple attempts to register component ${t}.`),!1;ad.set(t,a);for(const i of oc.values())ky(i,a);for(const i of iS.values())ky(i,a);return!0}function Md(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Zn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new hl("app","Firebase",rS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=eS;function uv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:sd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw vr.create("bad-app-name",{appName:String(l)});if(i||(i=sv()),!i)throw vr.create("no-options");const h=oc.get(l);if(h){if(ps(i,h.options)&&ps(s,h.config))return h;throw vr.create("duplicate-app",{appName:l})}const d=new hA(l);for(const _ of ad.values())d.addComponent(_);const g=new sS(i,s,d);return oc.set(l,g),g}function cv(a=sd){const t=oc.get(a);if(!t&&a===sd&&sv())return uv();if(!t)throw vr.create("no-app",{appName:a});return t}function Er(a,t,i){var s;let l=(s=nS[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const h=l.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const g=[`Unable to register library "${l}" with version "${t}":`];h&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}Ra(new ys(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebase-heartbeat-database",oS=1,sl="firebase-heartbeat-store";let Yf=null;function hv(){return Yf||(Yf=bA(aS,oS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(sl)}catch(i){console.warn(i)}}}}).catch(a=>{throw vr.create("idb-open",{originalErrorMessage:a.message})})),Yf}async function lS(a){try{const i=(await hv()).transaction(sl),s=await i.objectStore(sl).get(fv(a));return await i.done,s}catch(t){if(t instanceof Li)Ni.warn(t.message);else{const i=vr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ni.warn(i.message)}}}async function xy(a,t){try{const s=(await hv()).transaction(sl,"readwrite");await s.objectStore(sl).put(t,fv(a)),await s.done}catch(i){if(i instanceof Li)Ni.warn(i.message);else{const s=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(s.message)}}}function fv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=1024,cS=30;class hS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Py();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>cS){const d=mS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ni.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Py(),{heartbeatsToSend:s,unsentEntries:l}=fS(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function Py(){return new Date().toISOString().substring(0,10)}function fS(a,t=uS){const i=[];let s=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),zy(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),zy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class dS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return xy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return xy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function zy(a){return ac(JSON.stringify({version:2,heartbeats:a})).length}function mS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(a){Ra(new ys("platform-logger",t=>new IA(t),"PRIVATE")),Ra(new ys("heartbeat",t=>new hS(t),"PRIVATE")),Er(rd,Ly,a),Er(rd,Ly,"esm2017"),Er("fire-js","")}gS("");var pS="firebase",yS="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(pS,yS,"app");function Vd(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _S=dv,mv=new hl("auth","Firebase",dv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Od("@firebase/auth");function vS(a,...t){lc.logLevel<=It.WARN&&lc.warn(`Auth (${Ua}): ${a}`,...t)}function $u(a,...t){lc.logLevel<=It.ERROR&&lc.error(`Auth (${Ua}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(a,...t){throw Ud(a,...t)}function Jn(a,...t){return Ud(a,...t)}function gv(a,t,i){const s=Object.assign(Object.assign({},_S()),{[t]:i});return new hl("auth","Firebase",s).create(t,{appName:a.name})}function ds(a){return gv(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ud(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return mv.create(a,...t)}function dt(a,t,...i){if(!a)throw Ud(t,...i)}function Di(a){const t="INTERNAL ASSERTION FAILED: "+a;throw $u(t),new Error(t)}function Vi(a,t){a||Di(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function ES(){return By()==="http:"||By()==="https:"}function By(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ES()||XT()||"connection"in navigator)?navigator.onLine:!0}function AS(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Vi(i>t,"Short delay should be less than long delay!"),this.isMobile=QT()||ZT()}get(){return TS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(a,t){Vi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RS=new dl(3e4,6e4);function kd(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function La(a,t,i,s,l={}){return yv(a,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const g=fl(Object.assign({key:a.config.apiKey},d)).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:_},h);return YT()||(v.referrerPolicy="no-referrer"),pv.fetch()(await _v(a,a.config.apiHost,i,g),v)})}async function yv(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},SS),t);try{const l=new IS(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Gu(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Gu(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Gu(a,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw gv(a,A,v);Mi(a,A)}}catch(l){if(l instanceof Li)throw l;Mi(a,"network-request-failed",{message:String(l)})}}async function wS(a,t,i,s,l={}){const h=await La(a,t,i,s,l);return"mfaPendingCredential"in h&&Mi(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function _v(a,t,i,s){const l=`${t}${i}?${s}`,h=a,d=h.config.emulator?Ld(a.config,l):`${a.config.apiScheme}://${l}`;return bS.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class IS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),RS.get())})}}function Gu(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Jn(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(a,t){return La(a,"POST","/v1/accounts:delete",t)}async function uc(a,t){return La(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DS(a,t=!1){const i=Es(a),s=await i.getIdToken(t),l=xd(s);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:l,token:s,authTime:tl(Xf(l.auth_time)),issuedAtTime:tl(Xf(l.iat)),expirationTime:tl(Xf(l.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Xf(a){return Number(a)*1e3}function xd(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return $u("JWT malformed, contained fewer than 3 sections"),null;try{const l=iv(i);return l?JSON.parse(l):($u("Failed to decode base64 JWT payload"),null)}catch(l){return $u("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function qy(a){const t=xd(a);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Li&&OS(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function OS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(a){var t;const i=a.auth,s=await a.getIdToken(),l=await al(a,uc(i,{idToken:s}));dt(l==null?void 0:l.users.length,i,"internal-error");const h=l.users[0];a._notifyReloadListener(h);const d=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?vv(h.providerUserInfo):[],g=VS(a.providerData,d),_=a.isAnonymous,v=!(a.email&&h.passwordHash)&&!(g!=null&&g.length),A=_?v:!1,V={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new ld(h.createdAt,h.lastLoginAt),isAnonymous:A};Object.assign(a,V)}async function MS(a){const t=Es(a);await cc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VS(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function vv(a){return a.map(t=>{var{providerId:i}=t,s=Vd(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(a,t){const i=await yv(a,{},async()=>{const s=fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=await _v(a,l,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",pv.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LS(a,t){return La(a,"POST","/v2/accounts:revokeToken",kd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):qy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=qy(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:h}=await US(t,i);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:h}=i,d=new va;return s&&(dt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(dt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(a,t){dt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Nn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,h=Vd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new ld(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const i=await al(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DS(this,t)}reload(){return MS(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Nn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await cc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await al(this,CS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,h,d,g,_,v,A;const V=(s=i.displayName)!==null&&s!==void 0?s:void 0,B=(l=i.email)!==null&&l!==void 0?l:void 0,Y=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,tt=(d=i.photoURL)!==null&&d!==void 0?d:void 0,rt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,et=(_=i._redirectEventId)!==null&&_!==void 0?_:void 0,kt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,wt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:gt,emailVerified:Ut,isAnonymous:pt,providerData:Ct,stsTokenManager:O}=i;dt(gt&&O,t,"internal-error");const S=va.fromJSON(this.name,O);dt(typeof gt=="string",t,"internal-error"),hr(V,t.name),hr(B,t.name),dt(typeof Ut=="boolean",t,"internal-error"),dt(typeof pt=="boolean",t,"internal-error"),hr(Y,t.name),hr(tt,t.name),hr(rt,t.name),hr(et,t.name),hr(kt,t.name),hr(wt,t.name);const R=new Nn({uid:gt,auth:t,email:B,emailVerified:Ut,displayName:V,isAnonymous:pt,photoURL:tt,phoneNumber:Y,tenantId:rt,stsTokenManager:S,createdAt:kt,lastLoginAt:wt});return Ct&&Array.isArray(Ct)&&(R.providerData=Ct.map(D=>Object.assign({},D))),et&&(R._redirectEventId=et),R}static async _fromIdTokenResponse(t,i,s=!1){const l=new va;l.updateFromServerResponse(i);const h=new Nn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await cc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?vv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),g=new va;g.updateFromIdToken(s);const _=new Nn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new ld(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;function Oi(a){Vi(a instanceof Function,"Expected a class definition");let t=Hy.get(a);return t?(Vi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Hy.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Ev.type="NONE";const jy=Ev;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(a,t,i){return`firebase:${a}:${t}:${i}`}class Ea{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Ju(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ju("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await uc(this.auth,{idToken:t}).catch(()=>{});return i?Nn._fromGetAccountInfoResponse(this.auth,i,t):null}return Nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ea(Oi(jy),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||Oi(jy);const d=Ju(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let V;if(typeof A=="string"){const B=await uc(t,{idToken:A}).catch(()=>{});if(!B)break;V=await Nn._fromGetAccountInfoResponse(t,B,A)}else V=Nn._fromJSON(t,A);v!==h&&(g=V),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new Ea(h,t,s):(h=_[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new Ea(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wv(t))return"Blackberry";if(Iv(t))return"Webos";if(Av(t))return"Safari";if((t.includes("chrome/")||Sv(t))&&!t.includes("edge/"))return"Chrome";if(Rv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Tv(a=Fe()){return/firefox\//i.test(a)}function Av(a=Fe()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Sv(a=Fe()){return/crios\//i.test(a)}function bv(a=Fe()){return/iemobile/i.test(a)}function Rv(a=Fe()){return/android/i.test(a)}function wv(a=Fe()){return/blackberry/i.test(a)}function Iv(a=Fe()){return/webos/i.test(a)}function Pd(a=Fe()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function kS(a=Fe()){var t;return Pd(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function xS(){return $T()&&document.documentMode===10}function Cv(a=Fe()){return Pd(a)||Rv(a)||Iv(a)||wv(a)||/windows phone/i.test(a)||bv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(a,t=[]){let i;switch(a){case"Browser":i=Gy(Fe());break;case"Worker":i=`${Gy(Fe())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,g)=>{try{const _=t(h);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(a,t={}){return La(a,"GET","/v2/passwordPolicy",kd(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=6;class qS{constructor(t){var i,s,l,h;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:BS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,h,d,g;const _={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,_),this.validatePasswordCharacterOptions(t,_),_.isValid&&(_.isValid=(i=_.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),_.isValid&&(_.isValid=(s=_.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),_.isValid&&(_.isValid=(l=_.containsLowercaseLetter)!==null&&l!==void 0?l:!0),_.isValid&&(_.isValid=(h=_.containsUppercaseLetter)!==null&&h!==void 0?h:!0),_.isValid&&(_.isValid=(d=_.containsNumericCharacter)!==null&&d!==void 0?d:!0),_.isValid&&(_.isValid=(g=_.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),_}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fy(this),this.idTokenSubscription=new Fy(this),this.beforeStateQueue=new PS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Oi(i)),this._initializationPromise=this.queue(async()=>{var s,l,h;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await uc(this,{idToken:t}),s=await Nn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Zn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===g)&&(_!=null&&_.user)&&(l=_.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await cc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(ds(this));const i=t?Es(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zS(this),i=new qS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await LS(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Oi(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[Oi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Dv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&vS(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function zd(a){return Es(a)}class Fy{constructor(t){this.auth=t,this.observer=null,this.addObserver=sA(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jS(a){Bd=a}function GS(a){return Bd.loadJS(a)}function FS(){return Bd.gapiScript}function QS(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(a,t){const i=Md(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(ps(h,t??{}))return l;Mi(l,"already-initialized")}return i.initialize({options:t})}function YS(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Oi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function XS(a,t,i){const s=zd(a);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=Ov(t),{host:d,port:g}=ZS(t),_=g===null?"":`:${g}`,v={url:`${h}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(ps(v,s.config.emulator)&&ps(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,$S()}function Ov(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function ZS(a){const t=Ov(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:Qy(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:Qy(d)}}}function Qy(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function $S(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Di("not implemented")}_getIdTokenResponse(t){return Di("not implemented")}_linkToIdToken(t,i){return Di("not implemented")}_getReauthenticationResolver(t){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(a,t){return wS(a,"POST","/v1/accounts:signInWithIdp",kd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="http://localhost";class _s extends Nv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new _s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Mi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,h=Vd(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new _s(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ta(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ta(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ta(t,i)}buildRequest(){const t={requestUri:JS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=fl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends ml{constructor(){super("facebook.com")}static credential(t){return _s._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return _s._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return dr.credential(i,s)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends ml{constructor(){super("github.com")}static credential(t){return _s._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends ml{constructor(){super("twitter.com")}static credential(t,i){return _s._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return gr.credential(i,s)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const h=await Nn._fromIdTokenResponse(t,s,l),d=Ky(s);return new wa({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Ky(s);return new wa({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Ky(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Li{constructor(t,i,s,l){var h;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new hc(t,i,s,l)}}function Vv(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(a,h,t,s):h})}async function WS(a,t,i=!1){const s=await al(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return wa._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(a,t,i=!1){const{auth:s}=a;if(Zn(s.app))return Promise.reject(ds(s));const l="reauthenticate";try{const h=await al(a,Vv(s,l,t,a),i);dt(h.idToken,s,"internal-error");const d=xd(h.idToken);dt(d,s,"internal-error");const{sub:g}=d;return dt(a.uid===g,s,"user-mismatch"),wa._forOperation(a,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Mi(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(a,t,i=!1){if(Zn(a.app))return Promise.reject(ds(a));const s="signIn",l=await Vv(a,s,t),h=await wa._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(h.user),h}function nb(a,t,i,s){return Es(a).onIdTokenChanged(t,i,s)}function ib(a,t,i){return Es(a).beforeAuthStateChanged(t,i)}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=1e3,sb=10;class Lv extends Uv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);xS()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,sb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},rb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Lv.type="LOCAL";const ab=Lv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv extends Uv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}kv.type="SESSION";const xv=kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Sc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),_=await ob(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,_)=>{const v=qd("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(V){const B=V;if(B.data.eventId===v)switch(B.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(B.data.response);break;default:clearTimeout(A),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function ub(a){Wn().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function cb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hb(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function fb(){return Pv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="firebaseLocalStorageDb",db=1,dc="firebaseLocalStorage",Bv="fbase_key";class gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bc(a,t){return a.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function mb(){const a=indexedDB.deleteDatabase(zv);return new gl(a).toPromise()}function ud(){const a=indexedDB.open(zv,db);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(dc,{keyPath:Bv})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(dc)?t(s):(s.close(),await mb(),t(await ud()))})})}async function Yy(a,t,i){const s=bc(a,!0).put({[Bv]:t,value:i});return new gl(s).toPromise()}async function gb(a,t){const i=bc(a,!1).get(t),s=await new gl(i).toPromise();return s===void 0?null:s.value}function Xy(a,t){const i=bc(a,!0).delete(t);return new gl(i).toPromise()}const pb=800,yb=3;class qv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ud(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>yb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sc._getInstance(fb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await cb(),!this.activeServiceWorker)return;this.sender=new lb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ud();return await Yy(t,fc,"1"),await Xy(t,fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yy(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>gb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=bc(l,!1).getAll();return new gl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qv.type="LOCAL";const _b=qv;new dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(a,t){return t?Oi(t):(dt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Nv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ta(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ta(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ta(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Eb(a){return eb(a.auth,new Hd(a),a.bypassAuthState)}function Tb(a){const{auth:t,user:i}=a;return dt(i,t,"internal-error"),tb(i,new Hd(a),a.bypassAuthState)}async function Ab(a){const{auth:t,user:i}=a;return dt(i,t,"internal-error"),WS(i,new Hd(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,i,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Eb;case"linkViaPopup":case"linkViaRedirect":return Ab;case"reauthViaPopup":case"reauthViaRedirect":return Tb;default:Mi(this.auth,"internal-error")}}resolve(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new dl(2e3,1e4);class _a extends Hv{constructor(t,i,s,l,h){super(t,i,l,h),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const t=qd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sb.get())};t()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="pendingRedirect",Wu=new Map;class Rb extends Hv{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Wu.get(this.auth._key());if(!t){try{const s=await wb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Wu.set(this.auth._key(),t)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wb(a,t){const i=Db(t),s=Cb(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Ib(a,t){Wu.set(a._key(),t)}function Cb(a){return Oi(a._redirectPersistence)}function Db(a){return Ju(bb,a.config.apiKey,a.name)}async function Ob(a,t,i=!1){if(Zn(a.app))return Promise.reject(ds(a));const s=zd(a),l=vb(s,t),d=await new Rb(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=10*60*1e3;class Mb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Vb(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!jv(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Jn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(t))}saveEventToCache(t){this.cachedEventUids.add(Zy(t)),this.lastProcessedEventTime=Date.now()}}function Zy(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function jv({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Vb(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jv(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(a,t={}){return La(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kb=/^https?/;async function xb(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Ub(a);for(const i of t)try{if(Pb(i))return}catch{}Mi(a,"unauthorized-domain")}function Pb(a){const t=od(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!kb.test(i))return!1;if(Lb.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new dl(3e4,6e4);function $y(){const a=Wn().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Bb(a){return new Promise((t,i)=>{var s,l,h;function d(){$y(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$y(),i(Jn(a,"network-request-failed"))},timeout:zb.get()})}if(!((l=(s=Wn().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Wn().gapi)===null||h===void 0)&&h.load)d();else{const g=QS("iframefcb");return Wn()[g]=()=>{gapi.load?d():i(Jn(a,"network-request-failed"))},GS(`${FS()}?onload=${g}`).catch(_=>i(_))}}).catch(t=>{throw tc=null,t})}let tc=null;function qb(a){return tc=tc||Bb(a),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new dl(5e3,15e3),jb="__/auth/iframe",Gb="emulator/auth/iframe",Fb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kb(a){const t=a.config;dt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Ld(t,Gb):`https://${a.config.authDomain}/${jb}`,s={apiKey:t.apiKey,appName:a.name,v:Ua},l=Qb.get(a.config.apiHost);l&&(s.eid=l);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${i}?${fl(s).slice(1)}`}async function Yb(a){const t=await qb(a),i=Wn().gapi;return dt(i,a,"internal-error"),t.open({where:document.body,url:Kb(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fb,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Jn(a,"network-request-failed"),g=Wn().setTimeout(()=>{h(d)},Hb.get());function _(){Wn().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zb=500,$b=600,Jb="_blank",Wb="http://localhost";class Jy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(a,t,i,s=Zb,l=$b){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _=Object.assign(Object.assign({},Xb),{width:s.toString(),height:l.toString(),top:h,left:d}),v=Fe().toLowerCase();i&&(g=Sv(v)?Jb:i),Tv(v)&&(t=t||Wb,_.scrollbars="yes");const A=Object.entries(_).reduce((B,[Y,tt])=>`${B}${Y}=${tt},`,"");if(kS(v)&&g!=="_self")return eR(t||"",g),new Jy(null);const V=window.open(t||"",g,A);dt(V,a,"popup-blocked");try{V.focus()}catch{}return new Jy(V)}function eR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="__/auth/handler",iR="emulator/auth/handler",rR=encodeURIComponent("fac");async function Wy(a,t,i,s,l,h){dt(a.config.authDomain,a,"auth-domain-config-required"),dt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ua,eventId:l};if(t instanceof Mv){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",rA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,V]of Object.entries({}))d[A]=V}if(t instanceof ml){const A=t.getScopes().filter(V=>V!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await a._getAppCheckToken(),v=_?`#${rR}=${encodeURIComponent(_)}`:"";return`${sR(a)}?${fl(g).slice(1)}${v}`}function sR({config:a}){return a.emulator?Ld(a,iR):`https://${a.authDomain}/${nR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xv,this._completeRedirectFn=Ob,this._overrideRedirectResult=Ib}async _openPopup(t,i,s,l){var h;Vi((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await Wy(t,i,s,od(),l);return tR(t,d,qd())}async _openRedirect(t,i,s,l){await this._originValidation(t);const h=await Wy(t,i,s,od(),l);return ub(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Vi(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await Yb(t),s=new Mb(t);return i.register("authEvent",l=>(dt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zf,{type:Zf},l=>{var h;const d=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[Zf];d!==void 0&&i(!!d),Mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xb(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Cv()||Av()||Pd()}}const oR=aR;var t_="@firebase/auth",e_="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(a){Ra(new ys("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dv(a)},v=new HS(s,l,h,_);return YS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Ra(new ys("auth-internal",t=>{const i=zd(t.getProvider("auth").getImmediate());return(s=>new lR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(t_,e_,uR(a)),Er(t_,e_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=5*60,fR=av("authIdTokenMaxAge")||hR;let n_=null;const dR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>fR)return;const l=i==null?void 0:i.token;n_!==l&&(n_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function mR(a=cv()){const t=Md(a,"auth");if(t.isInitialized())return t.getImmediate();const i=KS(a,{popupRedirectResolver:oR,persistence:[_b,ab,xv]}),s=av("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=dR(h.toString());ib(i,d,()=>d(i.currentUser)),nb(i,g=>d(g))}}const l=rv("auth");return l&&XS(i,`http://${l}`),i}function gR(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}jS({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const h=Jn("internal-error");h.customData=l,i(h)},s.type="text/javascript",s.charset="UTF-8",gR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,Gv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(D,N,U){for(var w=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)w[Ne-2]=arguments[Ne];return S.prototype[N].apply(D,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,R){R||(R=0);var D=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)D[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)D[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],N=O.g[2];var U=O.g[3],w=S+(U^R&(N^U))+D[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+D[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+D[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(U^R&(N^U))+D[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(N^S&(R^N))+D[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(R^U&(S^R))+D[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=R+(S^N&(U^S))+D[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(R^N))+D[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+D[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+D[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(R^N))+D[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^N&(S^R))+D[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(U^S))+D[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(N^U))+D[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^U)+D[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+D[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+D[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^U)+D[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^N)+D[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^R)+D[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=R+(N^U^S)+D[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~U))+D[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+D[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+D[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~U))+D[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~N))+D[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~R))+D[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=R+(U^(N|~S))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,D=this.B,N=this.h,U=0;U<S;){if(N==0)for(;U<=R;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(D[N++]=O.charCodeAt(U++),N==this.blockSize){l(this,D),N=0;break}}else for(;U<S;)if(D[N++]=O[U++],N==this.blockSize){l(this,D),N=0;break}}this.h=N,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var D=0;32>D;D+=8)O[R++]=this.g[S]>>>D&255;return O};function h(O,S){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function d(O,S){this.h=S;for(var R=[],D=!0,N=O.length-1;0<=N;N--){var U=O[N]|0;D&&U==S||(R[N]=U,D=!1)}this.g=R}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return V;if(0>O)return et(v(-O));for(var S=[],R=1,D=0;O>=R;D++)S[D]=O/R|0,R*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return et(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),D=V,N=0;N<O.length;N+=8){var U=Math.min(8,O.length-N),w=parseInt(O.substring(N,N+U),S);8>U?(U=v(Math.pow(S,U)),D=D.j(U).add(v(w))):(D=D.j(R),D=D.add(v(w)))}return D}var V=_(0),B=_(1),Y=_(16777216);a=d.prototype,a.m=function(){if(rt(this))return-et(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var D=this.i(R);O+=(0<=D?D:4294967296+D)*S,S*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(tt(this))return"0";if(rt(this))return"-"+et(this).toString(O);for(var S=v(Math.pow(O,6)),R=this,D="";;){var N=Ut(R,S).g;R=kt(R,N.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=N,tt(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function tt(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function rt(O){return O.h==-1}a.l=function(O){return O=kt(this,O),rt(O)?-1:tt(O)?0:1};function et(O){for(var S=O.g.length,R=[],D=0;D<S;D++)R[D]=~O.g[D];return new d(R,~O.h).add(B)}a.abs=function(){return rt(this)?et(this):this},a.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0,N=0;N<=S;N++){var U=D+(this.i(N)&65535)+(O.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);D=w>>>16,U&=65535,w&=65535,R[N]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function kt(O,S){return O.add(et(S))}a.j=function(O){if(tt(this)||tt(O))return V;if(rt(this))return rt(O)?et(this).j(et(O)):et(et(this).j(O));if(rt(O))return et(this.j(et(O)));if(0>this.l(Y)&&0>O.l(Y))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<O.g.length;N++){var U=this.i(D)>>>16,w=this.i(D)&65535,Ne=O.i(N)>>>16,ee=O.i(N)&65535;R[2*D+2*N]+=w*ee,wt(R,2*D+2*N),R[2*D+2*N+1]+=U*ee,wt(R,2*D+2*N+1),R[2*D+2*N+1]+=w*Ne,wt(R,2*D+2*N+1),R[2*D+2*N+2]+=U*Ne,wt(R,2*D+2*N+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new d(R,0)};function wt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function gt(O,S){this.g=O,this.h=S}function Ut(O,S){if(tt(S))throw Error("division by zero");if(tt(O))return new gt(V,V);if(rt(O))return S=Ut(et(O),S),new gt(et(S.g),et(S.h));if(rt(S))return S=Ut(O,et(S)),new gt(et(S.g),S.h);if(30<O.g.length){if(rt(O)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=B,D=S;0>=D.l(O);)R=pt(R),D=pt(D);var N=Ct(R,1),U=Ct(D,1);for(D=Ct(D,2),R=Ct(R,2);!tt(D);){var w=U.add(D);0>=w.l(O)&&(N=N.add(R),U=w),D=Ct(D,1),R=Ct(R,1)}return S=kt(O,N.j(S)),new gt(N,S)}for(N=V;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=v(R),w=U.j(S);rt(w)||0<w.l(O);)R-=D,U=v(R),w=U.j(S);tt(U)&&(U=B),N=N.add(U),O=kt(O,w)}return new gt(N,O)}a.A=function(O){return Ut(this,O).h},a.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)&O.i(D);return new d(R,this.h&O.h)},a.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)|O.i(D);return new d(R,this.h|O.h)},a.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)^O.i(D);return new d(R,this.h^O.h)};function pt(O){for(var S=O.g.length+1,R=[],D=0;D<S;D++)R[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(R,O.h)}function Ct(O,S){var R=S>>5;S%=32;for(var D=O.g.length-R,N=[],U=0;U<D;U++)N[U]=0<S?O.i(U+R)>>>S|O.i(U+R+1)<<32-S:O.i(U+R);return new d(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Gv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Tr=d}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fv,$o,Qv,ec,cd,Kv,Yv,Xv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function B(u,m,p){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,B.apply(null,arguments)}function Y(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function tt(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var Z=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)Z[Dt-2]=arguments[Dt];return m.prototype[L].apply(T,Z)}}function rt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function et(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let Z=0;Z<q;Z++)u[L+Z]=T[Z]}else u.push(T)}}class kt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function wt(u){return/^[\s\xa0]*$/.test(u)}function gt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ut(u){return Ut[" "](u),u}Ut[" "]=function(){};var pt=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function Ct(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<R.length;q++)p=R[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ee.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new kt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $,at=!1,Pt=new Ne,I=()=>{const u=g.Promise.resolve(void 0);$=()=>{u.then(K)}};var K=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){U(p)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}at=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Tt(u,m){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}tt(Tt,X);var mt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function Mn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Xt,this.da=this.fa=!1}function ki(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ii(u){this.src=u,this.g={},this.h=0}ii.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var Z=Dr(u,m,T,L);return-1<Z?(m=u[Z],p||(m.fa=!1)):(m=new Mn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Cr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(ki(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Dr(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),Ba={};function El(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)El(u,m[q],p,T,L);return null}return p=Tl(p),u&&u[Se]?u.K(m,p,v(T)?!!T.capture:!1,L):fn(u,m,p,!1,T,L)}function fn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var Z=v(L)?!!L.capture:!!L,Dt=Ss(u);if(Dt||(u[Or]=Dt=new ii(u)),p=Dt.add(m,p,T,Z,q),p.proxy)return p;if(T=xc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ot||(L=Z),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function xc(){function u(p){return m.call(u.src,u.listener,p)}const m=Pc;return u}function qa(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)qa(u,m[q],p,T,L);else T=v(T)?!!T.capture:!!T,p=Tl(p),u&&u[Se]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Dr(q,p,T,L),-1<p&&(ki(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Dr(m,p,T,L)),(p=-1<u?m[u]:null)&&As(p))}function As(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])Cr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Nr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ss(m))?(Cr(p,u),p.h==0&&(p.src=null,m[Or]=null)):ki(u)}}}function Nr(u){return u in Ba?Ba[u]:Ba[u]="on"+u}function Pc(u,m){if(u.da)u=!0;else{m=new Tt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&As(u),u=p.call(T,m)}return u}function Ss(u){return u=u[Or],u instanceof ii?u:null}var Ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tl(u){return typeof u=="function"?u:(u[Ha]||(u[Ha]=function(m){return u.handleEvent(m)}),u[Ha])}function ne(){J.call(this),this.i=new ii(this),this.M=this,this.F=null}tt(ne,J),ne.prototype[Se]=!0,ne.prototype.removeEventListener=function(u,m,p,T){qa(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new X(m,u);else if(m instanceof X)m.target=m.target||u;else{var L=m;m=new X(T,u),D(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var Z=m.g=p[q];L=nn(Z,T,!0,m)&&L}if(Z=m.g=u,L=nn(Z,T,!0,m)&&L,L=nn(Z,T,!1,m)&&L,p)for(q=0;q<p.length;q++)Z=m.g=p[q],L=nn(Z,T,!1,m)&&L}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)ki(p[T]);delete u.g[m],u.h--}}this.F=null},ne.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ne.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var Z=m[q];if(Z&&!Z.da&&Z.capture==p){var Dt=Z.listener,ye=Z.ha||Z.src;Z.fa&&Cr(u.i,Z),L=Dt.call(ye,T)!==!1&&L}}return L&&!T.defaultPrevented}function ze(u,m,p){if(typeof u=="function")p&&(u=B(u,p));else if(u&&typeof u.handleEvent=="function")u=B(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Al(u){u.g=ze(()=>{u.g=null,u.i&&(u.i=!1,Al(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zc extends J{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){J.call(this),this.h=u,this.g={}}tt(Mr,J);var Vr=[];function Ur(u){Ct(u.g,function(m,p){this.g.hasOwnProperty(p)&&As(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,bs=g.JSON.parse,Lr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function ja(){}ja.prototype.h=null;function Ga(u){return u.h||(u.h=u.i())}function Fa(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){X.call(this,"d")}tt(si,X);function Qa(){X.call(this,"c")}tt(Qa,X);var Vn={},Ka=null;function xi(){return Ka=Ka||new ne}Vn.La="serverreachability";function Rs(u){X.call(this,Vn.La,u)}tt(Rs,X);function Pi(u){const m=xi();qt(m,new Rs(m))}Vn.STAT_EVENT="statevent";function Sl(u,m){X.call(this,Vn.STAT_EVENT,u),this.stat=m}tt(Sl,X);function $t(u){const m=xi();qt(m,new Sl(m,u))}Vn.Ma="timingevent";function pe(u,m){X.call(this,Vn.Ma,u),this.size=m}tt(pe,X);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ya(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var Z="",Dt=q.split("&"),ye=0;ye<Dt.length;ye++){var Ot=Dt[ye].split("=");if(1<Ot.length){var Re=Ot[0];Ot=Ot[1];var _e=Re.split("_");Z=2<=_e.length&&_e[1]=="type"?Z+(Re+"="+Ot+"&"):Z+(Re+"=redacted&")}}else Z=null;else Z=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+Z})}function Bc(u,m,p,T,L,q,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+Z})}function zi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kr(u,p)+(T?" "+T:"")})}function bl(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function kr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return Rn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}tt(Ln,ja),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Qe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ae}function ae(){this.i=null,this.g="",this.h=!1}var Xa={},ws={};function wn(u,m,p){u.L=1,u.v=qr(rn(m)),u.m=p,u.P=!0,oi(u,null)}function oi(u,m){u.F=Date.now(),xr(u),u.A=rn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),eo(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ae,u.g=Bl(u.j,p?m:null,!u.m),0<u.O&&(u.M=new zc(B(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Vr[0]=L.toString()),L=Vr);for(var q=0;q<L.length;q++){var Z=El(p,L[q],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pi(),Ya(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const _e=yn(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||Ml(this.g)))){this.J||_e!=4||m==7||(m==8||0>=gi?Pi(3):Pi(2)),qi(this);var p=this.g.Z();this.X=p;e:if(Rl(this)){var T=Ml(this.g);u="";var L=T.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),kn(this);var Z="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=p==200,Bc(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Dt,ye=this.g;if((Dt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wt(Dt)){var Ot=Dt;break e}}Ot=null}if(p=Ot)zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,p);else{this.o=!1,this.s=3,$t(12),Me(this),kn(this);break t}}if(this.P){p=!0;let Ve;for(;!this.J&&this.C<Z.length;)if(Ve=wl(this,Z),Ve==ws){_e==4&&(this.s=4,$t(14),p=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==Xa){this.s=4,$t(15),zi(this.i,this.l,Z,"[Invalid Chunk]"),p=!1;break}else zi(this.i,this.l,Ve,null),Pr(this,Ve);if(Rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||Z.length!=0||this.h.h||(this.s=1,$t(16),p=!1),this.o=this.o&&p,!p)zi(this.i,this.l,Z,"[Invalid Chunked Response]"),Me(this),kn(this);else if(0<Z.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Xr(Re),Re.M=!0,$t(11))}}else zi(this.i,this.l,Z,null),Pr(this,Z);_e==4&&Me(this),this.o&&!this.J&&(_e==4?xl(this.j,this):(this.o=!1,xr(this)))}else Fc(this.g),p==400&&0<Z.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Me(this),kn(this)}}}catch{}finally{}};function Rl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wl(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ws:(p=Number(m.substring(p,T)),isNaN(p)?Xa:(T+=1,T+p>m.length?ws:(m=m.slice(T,T+p),u.C=T+p,m)))}Qe.prototype.cancel=function(){this.J=!0,Me(this)};function xr(u){u.S=Date.now()+u.I,Il(u,u.I)}function Il(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(B(u.ba,u),m)}function qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(bl(this.i,this.A),this.L!=2&&(Pi(),$t(17)),Me(this),this.s=2,kn(this)):Il(this,this.S-u)};function kn(u){u.j.G==0||u.J||xl(u.j,u)}function Me(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Pr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Za(p.h,u))){if(!u.K&&Za(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ps(p),ks(p);else break t;ao(p),$t(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(B(p.Za,p),6e3));if(1>=Cs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((u.K||p.g==u)&&Ps(p),!wt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Re=Ot[3];Re!=null&&(p.la=Re,p.j.info("VER="+p.la));const _e=Ot[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const gi=Ot[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ve=u.g;if(Ve){const jn=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jn){var q=T.h;q.g||jn.indexOf("spdy")==-1&&jn.indexOf("quic")==-1&&jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ds(q,q.h),q.h=null))}if(T.D){const lo=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(T.ya=lo,Gt(T.I,T.D,lo))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var Z=u;if(T.qa=zl(T,T.J?T.ia:null,T.W),Z.K){Ke(T.h,Z);var Dt=Z,ye=T.L;ye&&(Dt.I=ye),Dt.B&&(qi(Dt),xr(Dt)),T.g=Z}else Ll(T);0<p.i.length&&xs(p)}else Ot[0]!="stop"&&Ot[0]!="close"||mi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?mi(p,7):ro(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Pi(4)}catch{}}var Cl=class{constructor(u,m){this.g=u,this.map=m}};function li(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Is(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cs(u){return u.h?1:u.g?u.g.size:0}function Za(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ds(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}li.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $a(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return rt(u.i)}function qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Os(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ja(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Os(u),T=qc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,Br(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,p=new ci;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=u.m}else u&&(m=String(u).match(zr))?(this.h=!1,Br(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Hi(this,m[4]),this.l=mn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}fe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Hr(m,Wa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Wa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Hr(p,p.charAt(0)=="/"?jc:to,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Hr(p,Ns)),u.join("")};function rn(u){return new fe(u)}function Br(u,m,p){u.j=p?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ui(u,m,p){m instanceof ci?(u.i=m,Ol(u.i,u.h)):(p||(m=Hr(m,Gc)),u.i=new ci(m,u.h))}function Gt(u,m,p){u.i.set(m,p)}function qr(u){return Gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Dl),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wa=/[#\/\?@]/g,to=/[#\?:]/g,jc=/[#\?]/g,Gc=/[#\?@]/g,Ns=/#/g;function ci(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Hc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=ci.prototype,a.add=function(u,m){gn(this),this.i=null,u=xn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function hi(u,m){gn(u),m=xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fi(u,m){return gn(u),m=xn(u,m),u.g.has(m)}a.forEach=function(u,m){gn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},a.V=function(u){gn(this);let m=[];if(typeof u=="string")fi(this,u)&&(m=m.concat(this.g.get(xn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return gn(this),this.i=null,u=xn(this,u),fi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function eo(u,m,p){hi(u,m),0<p.length&&(u.i=null,u.g.set(xn(u,m),rt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var L=q;Z[T]!==""&&(L+="="+encodeURIComponent(String(Z[T]))),u.push(L)}}return this.i=u.join("&")};function xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ol(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(hi(this,T),eo(this,L,p))},u)),u.j=m}function jr(u,m){const p=new dn;if(g.Image){const T=new Image;T.onload=Y(pn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(pn,p,"TestLoadImage: error",!1,m,T),T.onabort=Y(pn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(pn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function In(u,m){const p=new dn,T=new AbortController,L=setTimeout(()=>{T.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),pn(p,"TestPingServer: error",!1,m)})}function pn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Gr(){this.g=new Lr}function Pn(u,m,p){const T=p||"";try{Ja(u,function(L,q){let Z=L;v(L)&&(Z=Rn(L)),m.push(T+q+"="+encodeURIComponent(Z))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ji(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(ji,ja),ji.prototype.g=function(){return new di(this.l,this.j)},ji.prototype.i=function(u){return function(){return u}}({});function di(u,m){ne.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(di,ne),a=di.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zn(this):Bn(this),this.readyState==3&&no(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,zn(this))},a.Qa=function(u){this.g&&(this.response=u,zn(this))},a.ga=function(){this.g&&zn(this)};function zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function io(u){let m="";return Ct(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function be(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=io(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Gt(u,m,p))}function Bt(u){ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(Bt,ne);var Ms=/^https?$/i,Fr=["POST","PUT"];a=Bt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?Ga(this.o):Ga(Un),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Nl(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of p)this.g.setRequestHeader(q,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Nl(this,q)}};function Nl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Vs(u),qn(u)}function Vs(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Bt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Us(this):this.bb())},a.bb=function(){Us(this)};function Us(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)ze(u.Ea,0,u);else if(qt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=Z===0){var L=String(u.D).match(zr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ms.test(L?L.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Vs(u)}}finally{qn(u)}}}}function qn(u,m){if(u.g){Qr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Qr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bs(m)}};function Ml(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(wt(u[T]))continue;var p=N(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ls(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new li(u&&u.concurrentRequestLimit),this.Da=new Gr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ls.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){$t(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=zl(this,null,this.W),xs(this)};function ro(u){if(Vl(u),u.G==3){var m=u.U++,p=rn(u.I);if(Gt(p,"SID",u.K),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Yr(u,p),m=new Qe(u,u.j,m),m.L=2,m.v=qr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Bl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xr(m)}Pl(u)}function ks(u){u.g&&(Xr(u),u.g.cancel(),u.g=null)}function Vl(u){ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ps(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function xs(u){if(!Is(u.h)&&!u.s){u.s=!0;var m=u.Ga;$||I(),at||($(),at=!0),Pt.add(m,u),u.B=0}}function Qc(u,m){return Cs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(B(u.Ga,u,m),oo(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ul(this,L,m),p=rn(this.I),Gt(p,"RID",u),Gt(p,"CVER",22),this.D&&Gt(p,"X-HTTP-Session-Id",this.D),Yr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(io(q)))+"&"+m:this.m&&be(p,this.m,q)),Ds(this.h,L),this.Ua&&Gt(p,"TYPE","init"),this.P?(Gt(p,"$req",m),Gt(p,"SID","null"),L.T=!0,wn(L,p,null)):wn(L,p,m),this.G=2}}else this.G==3&&(u?so(this,u):this.i.length==0||Is(this.h)||so(this))};function so(u,m){var p;m?p=m.l:p=u.U++;const T=rn(u.I);Gt(T,"SID",u.K),Gt(T,"RID",p),Gt(T,"AID",u.T),Yr(u,T),u.m&&u.o&&be(T,u.m,u.o),p=new Qe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ul(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ds(u.h,p),wn(p,T,m)}function Yr(u,m){u.H&&Ct(u.H,function(p,T){Gt(m,T,p)}),u.l&&Ja({},function(p,T){Gt(m,T,p)})}function Ul(u,m,p){p=Math.min(u.i.length,p);var T=u.l?B(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const Z=["count="+p];q==-1?0<p?(q=L[0].g,Z.push("ofs="+q)):q=0:Z.push("ofs="+q);let Dt=!0;for(let ye=0;ye<p;ye++){let Ot=L[ye].g;const Re=L[ye].map;if(Ot-=q,0>Ot)q=Math.max(0,L[ye].g-100),Dt=!1;else try{Pn(Re,Z,"req"+Ot+"_")}catch{T&&T(Re)}}if(Dt){T=Z.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Ll(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$||I(),at||($(),at=!0),Pt.add(m,u),u.v=0}}function ao(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(B(u.Fa,u),oo(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(B(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),ks(this),kl(this))};function Xr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function kl(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Gt(m,"RID","rpc"),Gt(m,"SID",u.K),Gt(m,"AID",u.T),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Gt(m,"TO",u.ja),Gt(m,"TYPE","xmlhttp"),Yr(u,m),u.m&&u.o&&be(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qr(rn(m)),p.m=null,p.P=!0,oi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,ks(this),ao(this),$t(19))};function Ps(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function xl(u,m){var p=null;if(u.g==m){Ps(u),Xr(u),u.g=null;var T=2}else if(Za(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=xi(),qt(T,new pe(T,p)),xs(u)}else Ll(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Qc(u,m)||T==2&&ao(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function oo(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var p=B(u.fb,u),T=u.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Br(T,"https"),qr(T),L?jr(T.toString(),p):In(T.toString(),p)}else $t(2);u.G=0,u.l&&u.l.sa(m),Pl(u),Vl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Pl(u){if(u.G=0,u.ka=[],u.l){const m=$a(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ka,m),et(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function zl(u,m,p){var T=p instanceof fe?rn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Hi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new fe(null);T&&Br(q,T),m&&(q.g=m),L&&Hi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Gt(T,p,m),Gt(T,"VER",u.la),Yr(u,T),T}function Bl(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new ji({eb:p})):new Bt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ql(){}a=ql.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function zs(){}zs.prototype.g=function(u,m){return new Ye(u,m)};function Ye(u,m){ne.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!wt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!wt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hn(this)}tt(Ye,ne),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){ro(this.g)},Ye.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new Cl(m.Ya++,u)),m.G==3&&xs(m)},Ye.prototype.N=function(){this.g.l=null,delete this.j,ro(this.g),delete this.g,Ye.aa.N.call(this)};function Hl(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(Hl,si);function jl(){Qa.call(this),this.status=1}tt(jl,Qa);function Hn(u){this.g=u}tt(Hn,ql),Hn.prototype.ua=function(){qt(this.g,"a")},Hn.prototype.ta=function(u){qt(this.g,new Hl(u))},Hn.prototype.sa=function(u){qt(this.g,new jl)},Hn.prototype.ra=function(){qt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,Xv=function(){return new zs},Yv=function(){return xi()},Kv=Vn,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,ec=Bi,ai.COMPLETE="complete",Qv=ai,Fa.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",ne.prototype.listen=ne.prototype.K,$o=Fa,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,Fv=Bt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",s_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Od("@firebase/firestore");function ma(){return vs.logLevel}function nt(a,...t){if(vs.logLevel<=It.DEBUG){const i=t.map(jd);vs.debug(`Firestore (${ka}): ${a}`,...i)}}function Ui(a,...t){if(vs.logLevel<=It.ERROR){const i=t.map(jd);vs.error(`Firestore (${ka}): ${a}`,...i)}}function Ia(a,...t){if(vs.logLevel<=It.WARN){const i=t.map(jd);vs.warn(`Firestore (${ka}): ${a}`,...i)}}function jd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a="Unexpected state"){const t=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: `+a;throw Ui(t),new Error(t)}function te(a,t){a||_t()}function Vt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Li{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class yR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class _R{constructor(t){this.t=t,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ms,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const _=h;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ms)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string"),new Zv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string"),new je(t)}}class vR{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ER{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new vR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TR{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Zn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){te(this.o===void 0);const s=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new a_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(te(typeof i.token=="string"),this.R=i.token,new a_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=AR(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<i&&(s+=t.charAt(l[h]%62))}return s}}function St(a,t){return a<t?-1:a>t?1:0}function hd(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return St(s,l);{const h=$v(),d=bR(h.encode(o_(a,i)),h.encode(o_(t,i)));return d!==0?d:St(s,l)}}i+=s>65535?2:1}return St(a.length,t.length)}function o_(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function bR(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return St(a[i],t[i]);return St(a.length,t.length)}function Ca(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,u_=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(t){return en.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*u_);return new en(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<l_)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-l_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new en(0,0))}static max(){return new yt(new en(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="__name__";class Xn{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(),s===void 0?s=t.length-i:s>t.length-i&&_t(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Xn.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Xn?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const h=Xn.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return St(t.length,i.length)}static compareSegments(t,i){const s=Xn.isNumericId(t),l=Xn.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Xn.extractNumericId(t).compare(Xn.extractNumericId(i)):hd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Tr.fromString(t.substring(4,t.length-2))}}class se extends Xn{construct(t,i,s){return new se(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new se(i)}static emptyPath(){return new se([])}}const RR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Xn{construct(t,i,s){return new Ze(t,i,s)}static isValidIdentifier(t){return RR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c_}static keyField(){return new Ze([c_])}static fromServerFormat(t){const i=[];let s="",l=0;const h=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(h(),l++)}if(h(),d)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(se.fromString(t))}static fromName(t){return new ft(se.fromString(t).popFirst(5))}static empty(){return new ft(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new se(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=-1;function wR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new en(i+1,0):new en(i,s));return new Ar(l,ft.empty(),t)}function IR(a){return new Ar(a.readTime,a.key,ol)}class Ar{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ar(yt.min(),ft.empty(),ol)}static max(){return new Ar(yt.max(),ft.empty(),ol)}}function CR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(a.documentKey,t.documentKey),i!==0?i:St(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==DR)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Q((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Q.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Q.reject(i)}static resolve(t){return new Q((i,s)=>{i(t)})}static reject(t){return new Q((i,s)=>{s(t)})}static waitFor(t){return new Q((i,s)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},_=>s(_))}),d=!0,h===l&&i()})}static or(t){let i=Q.resolve(!1);for(const s of t)i=i.next(l=>l?Q.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,h)=>{s.push(i.call(this,l,h))}),this.waitFor(s)}static mapArray(t,i){return new Q((s,l)=>{const h=t.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>l(A))}})}static doWhile(t,i){return new Q((s,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):s()};h()})}}function NR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}wc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=-1;function Ic(a){return a==null}function fd(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="";function VR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=h_(t)),t=UR(a.get(i),t);return h_(t)}function UR(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case Jv:i+="";break;default:i+=h}}return i}function h_(a){return a+Jv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function pl(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function LR(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,i){this.comparator=t,this.root=i||xe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qu(this.root,t,this.comparator,!0)}}class Qu{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class xe{constructor(t,i,s,l,h){this.key=t,this.value=i,this.color=s??xe.RED,this.left=l??xe.EMPTY,this.right=h??xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,h){return new xe(t??this.key,i??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,s),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}xe.EMPTY=null,xe.RED=!0,xe.BLACK=!1;xe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,i,s,l,h){return this}insert(t,i,s){return new xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(t){return new d_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ae)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ae(this.comparator);return i.data=t,i}}class d_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new pr([])}unionWith(t){let i=new Ae(Ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ca(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Wv("Invalid base64 string: "+h):h}}(t);return new Pe(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new Pe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const kR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(a){if(te(!!a),typeof a=="string"){let t=0;const i=kR.exec(a);if(te(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(a.seconds),nanos:ue(a.nanos)}}function ue(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function br(a){return typeof a=="string"?Pe.fromBase64String(a):Pe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="server_timestamp",e0="__type__",n0="__previous_value__",i0="__local_write_time__";function Gd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[e0])===null||i===void 0?void 0:i.stringValue)===t0}function Cc(a){const t=a.mapValue.fields[n0];return Gd(t)?Cc(t):t}function ll(a){const t=Sr(a.mapValue.fields[i0].timestampValue);return new en(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,i,s,l,h,d,g,_,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const mc="(default)";class ul{constructor(t,i){this.projectId=t,this.database=i||mc}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database===mc}isEqual(t){return t instanceof ul&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="__type__",zR="__max__",Ku={mapValue:{}},BR="__vector__",dd="value";function Rr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Gd(a)?4:HR(a)?9007199254740991:qR(a)?10:11:_t()}function ei(a,t){if(a===t)return!0;const i=Rr(a);if(i!==Rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return ll(a).isEqual(ll(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Sr(l.timestampValue),g=Sr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,h){return br(l.bytesValue).isEqual(br(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,h){return ue(l.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(l.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(a,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return ue(l.integerValue)===ue(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ue(l.doubleValue),g=ue(h.doubleValue);return d===g?fd(d)===fd(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Ca(a.arrayValue.values||[],t.arrayValue.values||[],ei);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(f_(d)!==f_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ei(d[_],g[_])))return!1;return!0}(a,t);default:return _t()}}function cl(a,t){return(a.values||[]).find(i=>ei(i,t))!==void 0}function Da(a,t){if(a===t)return 0;const i=Rr(a),s=Rr(t);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(a.booleanValue,t.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,t);case 3:return m_(a.timestampValue,t.timestampValue);case 4:return m_(ll(a),ll(t));case 5:return hd(a.stringValue,t.stringValue);case 6:return function(h,d){const g=br(h),_=br(d);return g.compareTo(_)}(a.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=St(g[v],_[v]);if(A!==0)return A}return St(g.length,_.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,d){const g=St(ue(h.latitude),ue(d.latitude));return g!==0?g:St(ue(h.longitude),ue(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return g_(a.arrayValue,t.arrayValue);case 10:return function(h,d){var g,_,v,A;const V=h.fields||{},B=d.fields||{},Y=(g=V[dd])===null||g===void 0?void 0:g.arrayValue,tt=(_=B[dd])===null||_===void 0?void 0:_.arrayValue,rt=St(((v=Y==null?void 0:Y.values)===null||v===void 0?void 0:v.length)||0,((A=tt==null?void 0:tt.values)===null||A===void 0?void 0:A.length)||0);return rt!==0?rt:g_(Y,tt)}(a.mapValue,t.mapValue);case 11:return function(h,d){if(h===Ku.mapValue&&d===Ku.mapValue)return 0;if(h===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let V=0;V<_.length&&V<A.length;++V){const B=hd(_[V],A[V]);if(B!==0)return B;const Y=Da(g[_[V]],v[A[V]]);if(Y!==0)return Y}return St(_.length,A.length)}(a.mapValue,t.mapValue);default:throw _t()}}function m_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return St(a,t);const i=Sr(a),s=Sr(t),l=St(i.seconds,s.seconds);return l!==0?l:St(i.nanos,s.nanos)}function g_(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const h=Da(i[l],s[l]);if(h)return h}return St(i.length,s.length)}function Oa(a){return md(a)}function md(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Sr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return br(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ft.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const h of i.values||[])l?l=!1:s+=",",s+=md(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${md(i.fields[d])}`;return l+"}"}(a.mapValue):_t()}function nc(a){switch(Rr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cc(a);return t?16+nc(t):16;case 5:return 2*a.stringValue.length;case 6:return br(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+nc(h),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return pl(s.fields,(h,d)=>{l+=h.length+nc(d)}),l}(a.mapValue);default:throw _t()}}function gd(a){return!!a&&"integerValue"in a}function Fd(a){return!!a&&"arrayValue"in a}function p_(a){return!!a&&"nullValue"in a}function y_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function $f(a){return!!a&&"mapValue"in a}function qR(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[PR])===null||i===void 0?void 0:i.stringValue)===BR}function el(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return pl(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=el(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=el(a.arrayValue.values[i]);return t}return Object.assign({},a)}function HR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!$f(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=el(i)}setAll(t){let i=Ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=el(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,l)}delete(t){const i=this.field(t.popLast());$f(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ei(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];$f(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){pl(i,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new $n(el(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,i,s,l,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ge(t,0,yt.min(),yt.min(),yt.min(),$n.empty(),0)}static newFoundDocument(t,i,s,l){return new Ge(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new Ge(t,2,i,yt.min(),yt.min(),$n.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,yt.min(),yt.min(),$n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,i){this.position=t,this.inclusive=i}}function __(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Da(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function v_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ei(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,i="asc"){this.field=t,this.dir=i}}function jR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{}class Te extends r0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new FR(t,i,s):i==="array-contains"?new YR(t,s):i==="in"?new XR(t,s):i==="not-in"?new ZR(t,s):i==="array-contains-any"?new $R(t,s):new Te(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new QR(t,s):new KR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Da(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(Da(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends r0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new ni(t,i)}matches(t){return s0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function s0(a){return a.op==="and"}function a0(a){return GR(a)&&s0(a)}function GR(a){for(const t of a.filters)if(t instanceof ni)return!1;return!0}function pd(a){if(a instanceof Te)return a.field.canonicalString()+a.op.toString()+Oa(a.value);if(a0(a))return a.filters.map(t=>pd(t)).join(",");{const t=a.filters.map(i=>pd(i)).join(",");return`${a.op}(${t})`}}function o0(a,t){return a instanceof Te?function(s,l){return l instanceof Te&&s.op===l.op&&s.field.isEqual(l.field)&&ei(s.value,l.value)}(a,t):a instanceof ni?function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,g)=>h&&o0(d,l.filters[g]),!0):!1}(a,t):void _t()}function l0(a){return a instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${Oa(i.value)}`}(a):a instanceof ni?function(i){return i.op.toString()+" {"+i.getFilters().map(l0).join(" ,")+"}"}(a):"Filter"}class FR extends Te{constructor(t,i,s){super(t,i,s),this.key=ft.fromName(s.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class QR extends Te{constructor(t,i){super(t,"in",i),this.keys=u0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class KR extends Te{constructor(t,i){super(t,"not-in",i),this.keys=u0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function u0(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ft.fromName(s.referenceValue))}class YR extends Te{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fd(i)&&cl(i.arrayValue,this.value)}}class XR extends Te{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&cl(this.value.arrayValue,i)}}class ZR extends Te{constructor(t,i){super(t,"not-in",i)}matches(t){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!cl(this.value.arrayValue,i)}}class $R extends Te{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i=null,s=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function E_(a,t=null,i=[],s=[],l=null,h=null,d=null){return new JR(a,t,i,s,l,h,d)}function Qd(a){const t=Vt(a);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>pd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Ic(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Oa(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Oa(s)).join(",")),t.le=i}return t.le}function Kd(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!jR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!o0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!v_(a.startAt,t.startAt)&&v_(a.endAt,t.endAt)}function yd(a){return ft.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i=null,s=[],l=[],h=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WR(a,t,i,s,l,h,d,g){return new Dc(a,t,i,s,l,h,d,g)}function c0(a){return new Dc(a)}function T_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function tw(a){return a.collectionGroup!==null}function nl(a){const t=Vt(a);if(t.he===null){t.he=[];const i=new Set;for(const h of t.explicitOrderBy)t.he.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ae(Ze.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.he.push(new pc(h,s))}),i.has(Ze.keyField().canonicalString())||t.he.push(new pc(Ze.keyField(),s))}return t.he}function ti(a){const t=Vt(a);return t.Pe||(t.Pe=ew(t,nl(a))),t.Pe}function ew(a,t){if(a.limitType==="F")return E_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new pc(l.field,h)});const i=a.endAt?new gc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new gc(a.startAt.position,a.startAt.inclusive):null;return E_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function _d(a,t,i){return new Dc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Oc(a,t){return Kd(ti(a),ti(t))&&a.limitType===t.limitType}function h0(a){return`${Qd(ti(a))}|lt:${a.limitType}`}function ga(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>l0(l)).join(", ")}]`),Ic(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Oa(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Oa(l)).join(",")),`Target(${s})`}(ti(a))}; limitType=${a.limitType})`}function Nc(a,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,l){for(const h of nl(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,_){const v=__(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,nl(s),l)||s.endAt&&!function(d,g,_){const v=__(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,nl(s),l))}(a,t)}function nw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function f0(a){return(t,i)=>{let s=!1;for(const l of nl(a)){const h=iw(l,t,i);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function iw(a,t,i){const s=a.field.isKeyField()?ft.comparator(t.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?Da(_,v):_t()}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){pl(this.inner,(i,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return LR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new ce(ft.comparator);function wr(){return rw}const d0=new ce(ft.comparator);function Jo(...a){let t=d0;for(const i of a)t=t.insert(i.key,i);return t}function sw(a){let t=d0;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function fs(){return il()}function m0(){return il()}function il(){return new Ts(a=>a.toString(),(a,t)=>a.isEqual(t))}const aw=new Ae(ft.comparator);function Lt(...a){let t=aw;for(const i of a)t=t.add(i);return t}const ow=new Ae(St);function lw(){return ow}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(t)?"-0":t}}function cw(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function hw(a,t,i){return a instanceof vd?function(l,h){const d={fields:{[e0]:{stringValue:t0},[i0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Gd(h)&&(h=Cc(h)),h&&(d.fields[n0]=h),{mapValue:d}}(i,t):a instanceof yc?g0(a,t):a instanceof _c?p0(a,t):function(l,h){const d=dw(l,h),g=A_(d)+A_(l.Ie);return gd(d)&&gd(l.Ie)?cw(g):uw(l.serializer,g)}(a,t)}function fw(a,t,i){return a instanceof yc?g0(a,t):a instanceof _c?p0(a,t):i}function dw(a,t){return a instanceof Ed?function(s){return gd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class vd extends Mc{}class yc extends Mc{constructor(t){super(),this.elements=t}}function g0(a,t){const i=y0(t);for(const s of a.elements)i.some(l=>ei(l,s))||i.push(s);return{arrayValue:{values:i}}}class _c extends Mc{constructor(t){super(),this.elements=t}}function p0(a,t){let i=y0(t);for(const s of a.elements)i=i.filter(l=>!ei(l,s));return{arrayValue:{values:i}}}class Ed extends Mc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function A_(a){return ue(a.integerValue||a.doubleValue)}function y0(a){return Fd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function mw(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof yc&&l instanceof yc||s instanceof _c&&l instanceof _c?Ca(s.elements,l.elements,ei):s instanceof Ed&&l instanceof Ed?ei(s.Ie,l.Ie):s instanceof vd&&l instanceof vd}(a.transform,t.transform)}class gs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new gs}static exists(t){return new gs(void 0,t)}static updateTime(t){return new gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Yd{}function _0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new pw(a.key,gs.none()):new Xd(a.key,a.data,gs.none());{const i=a.data,s=$n.empty();let l=new Ae(Ze.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Vc(a.key,s,new pr(l.toArray()),gs.none())}}function gw(a,t,i){a instanceof Xd?function(l,h,d){const g=l.value.clone(),_=b_(l.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Vc?function(l,h,d){if(!ic(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=b_(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(v0(l)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function rl(a,t,i,s){return a instanceof Xd?function(h,d,g,_){if(!ic(h.precondition,d))return g;const v=h.value.clone(),A=R_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof Vc?function(h,d,g,_){if(!ic(h.precondition,d))return g;const v=R_(h.fieldTransforms,_,d),A=d.data;return A.setAll(v0(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(a,t,i,s):function(h,d,g){return ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function S_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ca(s,l,(h,d)=>mw(h,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Xd extends Yd{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Vc extends Yd{constructor(t,i,s,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function v0(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function b_(a,t,i){const s=new Map;te(a.length===i.length);for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,g=t.data.field(h.field);s.set(h.field,fw(d,g,i[l]))}return s}function R_(a,t,i){const s=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);s.set(l.field,hw(h,d,t))}return s}class pw extends Yd{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&gw(h,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=rl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=rl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=m0();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const _=_0(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Ca(this.mutations,t.mutations,(i,s)=>S_(i,s))&&Ca(this.baseMutations,t.baseMutations,(i,s)=>S_(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Mt;function E0(a){if(a===void 0)return Ui("GRPC error has no .code"),W.UNKNOWN;switch(a){case ge.OK:return W.OK;case ge.CANCELLED:return W.CANCELLED;case ge.UNKNOWN:return W.UNKNOWN;case ge.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ge.INTERNAL:return W.INTERNAL;case ge.UNAVAILABLE:return W.UNAVAILABLE;case ge.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ge.NOT_FOUND:return W.NOT_FOUND;case ge.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ge.ABORTED:return W.ABORTED;case ge.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ge.DATA_LOSS:return W.DATA_LOSS;default:return _t()}}(Mt=ge||(ge={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Tr([4294967295,4294967295],0);function w_(a){const t=$v().encode(a),i=new Gv;return i.update(t),new Uint8Array(i.digest())}function I_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Tr([i,s],0),new Tr([l,h],0)]}class Zd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wo(`Invalid padding: ${i}`);if(s<0)throw new Wo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(Tr.fromNumber(s)));return l.compare(Ew)===1&&(l=new Tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=w_(t),[s,l]=I_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,l,h);if(!this.Re(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Zd(h,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=w_(t),[s,l]=I_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,l,h);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,i,s,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,yl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Uc(yt.min(),l,new ce(St),wr(),Lt())}}class yl{constructor(t,i,s,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new yl(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class T0{constructor(t,i){this.targetId=t,this.ge=i}}class A0{constructor(t,i,s=Pe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class C_{constructor(){this.pe=0,this.ye=D_(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Lt(),i=Lt(),s=Lt();return this.ye.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:_t()}}),new yl(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=D_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,te(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Tw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=wr(),this.$e=Yu(),this.Ue=Yu(),this.Ke=new ce(St)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:_t()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const h=l.target;if(yd(h))if(s===0){const d=new ft(h.path);this.ze(i,d,Ge.newNoDocument(d,yt.min()))}else te(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),_=g?this.nt(g,t,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=br(s).toUint8Array()}catch(_){if(_ instanceof Wv)return Ia("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Zd(d,l,h)}catch(_){return Ia(_ instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,h,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&yd(g.target)){const _=new ft(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,t))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Lt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(t));const l=new Uc(t,i,this.Ke,this.Qe,s);return this.Qe=wr(),this.$e=Yu(),this.Ue=Yu(),this.Ke=new ce(St),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new C_,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Ae(St),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Ae(St),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new C_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Yu(){return new ce(ft.comparator)}function D_(){return new ce(ft.comparator)}const Aw={asc:"ASCENDING",desc:"DESCENDING"},Sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bw={and:"AND",or:"OR"};class Rw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Td(a,t){return a.useProto3Json||Ic(t)?t:{value:t}}function ww(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Iw(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Aa(a){return te(!!a),yt.fromTimestamp(function(i){const s=Sr(i);return new en(s.seconds,s.nanos)}(a))}function Cw(a,t){return Ad(a,t).canonicalString()}function Ad(a,t){const i=function(l){return new se(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function S0(a){const t=se.fromString(a);return te(C0(t)),t}function Jf(a,t){const i=S0(t);if(i.get(1)!==a.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ft(R0(i))}function b0(a,t){return Cw(a.databaseId,t)}function Dw(a){const t=S0(a);return t.length===4?se.emptyPath():R0(t)}function O_(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function R0(a){return te(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Ow(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:_t()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(te(A===void 0||typeof A=="string"),Pe.fromBase64String(A||"")):(te(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Pe.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?W.UNKNOWN:E0(v.code);return new ct(A,v.message||"")}(d);i=new A0(s,l,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Jf(a,s.document.name),h=Aa(s.document.updateTime),d=s.document.createTime?Aa(s.document.createTime):yt.min(),g=new $n({mapValue:{fields:s.document.fields}}),_=Ge.newFoundDocument(l,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new rc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Jf(a,s.document),h=s.readTime?Aa(s.readTime):yt.min(),d=Ge.newNoDocument(l,h),g=s.removedTargetIds||[];i=new rc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Jf(a,s.document),h=s.removedTargetIds||[];i=new rc([],h,l,null)}else{if(!("filter"in t))return _t();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new vw(l,h),g=s.targetId;i=new T0(g,d)}}return i}function Nw(a,t){return{documents:[b0(a,t.path)]}}function Mw(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=b0(a,l);const h=function(v){if(v.length!==0)return I0(ni.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(B){return{field:pa(B.field),direction:Lw(B.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Td(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function Vw(a){let t=Dw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){te(s===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(V){const B=w0(V);return B instanceof ni&&a0(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(B=>function(tt){return new pc(ya(tt.field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction))}(B))}(i.orderBy));let g=null;i.limit&&(g=function(V){let B;return B=typeof V=="object"?V.value:V,Ic(B)?null:B}(i.limit));let _=null;i.startAt&&(_=function(V){const B=!!V.before,Y=V.values||[];return new gc(Y,B)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const B=!V.before,Y=V.values||[];return new gc(Y,B)}(i.endAt)),WR(t,l,d,h,g,"F",_,v)}function Uw(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function w0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ya(i.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=ya(i.unaryFilter.field);return Te.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ya(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ya(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(a):a.fieldFilter!==void 0?function(i){return Te.create(ya(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ni.create(i.compositeFilter.filters.map(s=>w0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(a):_t()}function Lw(a){return Aw[a]}function kw(a){return Sw[a]}function xw(a){return bw[a]}function pa(a){return{fieldPath:a.canonicalString()}}function ya(a){return Ze.fromServerFormat(a.fieldPath)}function I0(a){return a instanceof Te?function(i){if(i.op==="=="){if(y_(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NAN"}};if(p_(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(y_(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NOT_NAN"}};if(p_(i.value))return{unaryFilter:{field:pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(i.field),op:kw(i.op),value:i.value}}}(a):a instanceof ni?function(i){const s=i.getFilters().map(l=>I0(l));return s.length===1?s[0]:{compositeFilter:{op:xw(i.op),filters:s}}}(a):_t()}function C0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,i,s,l,h=yt.min(),d=yt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.Tt=t}}function zw(a){const t=Vw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?_d(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Tn=new qw}addToCollectionParentIndex(t,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(t,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return Q.resolve()}deleteFieldIndex(t,i){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,i){return Q.resolve()}getDocumentsMatchingTarget(t,i){return Q.resolve(null)}getIndexType(t,i){return Q.resolve(0)}getFieldIndexes(t,i){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,i){return Q.resolve(Ar.min())}getMinOffsetFromCollectionGroup(t,i){return Q.resolve(Ar.min())}updateCollectionGroup(t,i,s){return Q.resolve()}updateIndexEntries(t,i){return Q.resolve()}}class qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ae(se.comparator),h=!l.has(s);return this.index[i]=l.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ae(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D0=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(D0,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Na(0)}static Kn(){return new Na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LruGarbageCollector",Hw=1048576;function V_([a,t],[i,s]){const l=St(a,i);return l===0?St(t,s):l}class jw{constructor(t){this.Hn=t,this.buffer=new Ae(V_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();V_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Gw{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){nt(M_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xa(i)?nt(M_,"Ignoring IndexedDB error during garbage collection: ",i):await Rc(i)}await this.er(3e5)})}}class Fw{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return Q.resolve(wc.ae);const s=new jw(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(N_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),l=this.params.maximumSequenceNumbersToCollect):l=V,d=Date.now(),this.nthSequenceNumber(t,l))).next(V=>(s=V,g=Date.now(),this.removeTargets(t,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(t,s))).next(V=>(v=Date.now(),ma()<=It.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:V})))}}function Qw(a,t){return new Fw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.changes=new Ts(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Q.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&rl(s.mutation,l,pr.empty(),en.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Lt()){const l=fs();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(h=>{let d=Jo();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=fs();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Lt()))}populateOverlays(t,i,s){const l=[];return s.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let h=wr();const d=il(),g=function(){return il()}();return i.forEach((_,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Vc)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),rl(A.mutation,v,A.mutation.getFieldMask(),en.now())):d.set(v.key,pr.empty())}),this.recalculateAndSaveOverlays(t,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var V;return g.set(v,new Yw(A,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(t,i){const s=il();let l=new ce((d,g)=>d-g),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||pr.empty();A=g.applyToLocalView(v,A),s.set(_,A);const V=(l.get(g.batchId)||Lt()).add(_);l=l.insert(g.batchId,V)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,V=m0();A.forEach(B=>{if(!h.has(B)){const Y=_0(i.get(B),s.get(B));Y!==null&&V.set(B,Y),h=h.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,V))}return Q.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-h.size):Q.resolve(fs());let g=ol,_=h;return d.next(v=>Q.forEach(v,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(t,A).next(B=>{_=_.insert(A,B)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,_,v,Lt())).next(A=>({batchId:g,changes:sw(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next(s=>{let l=Jo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const h=i.collectionGroup;let d=Jo();return this.indexManager.getCollectionParents(t,h).next(g=>Q.forEach(g,_=>{const v=function(V,B){return new Dc(B,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(A=>{A.forEach((V,B)=>{d=d.insert(V,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,l))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ge.newInvalidDocument(A)))});let g=Jo();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&rl(A.mutation,v,pr.empty(),en.now()),Nc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:Aa(l.createTime)}}(i)),Q.resolve()}getNamedQuery(t,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:zw(l.bundledQuery),readTime:Aa(l.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.overlays=new ce(ft.comparator),this.Rr=new Map}getOverlay(t,i){return Q.resolve(this.overlays.get(i))}getOverlays(t,i){const s=fs();return Q.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,h)=>{this.Et(t,i,h)}),Q.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(t,i,s){const l=fs(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&l.set(_.getKey(),_)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let h=new ce((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=fs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=fs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return Q.resolve(g)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new _w(i,s));let h=this.Rr.get(i);h===void 0&&(h=Lt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.Vr=new Ae(Oe.mr),this.gr=new Ae(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Oe(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Oe(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new ft(new se([])),s=new Oe(i,t),l=new Oe(i,t+1),h=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ft(new se([])),s=new Oe(i,t),l=new Oe(i,t+1);let h=Lt();return this.gr.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new Oe(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Oe{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ft.comparator(t.key,i.key)||St(t.Cr,i.Cr)}static pr(t,i){return St(t.Cr,i.Cr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ae(Oe.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yw(h,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(t,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),h=l<0?0:l;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?MR:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Oe(i,0),l=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ae(St);return i.forEach(l=>{const h=new Oe(l,0),d=new Oe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ft(h),0);let g=new Ae(St);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){te(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(i.mutations,l=>{const h=new Oe(l.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Oe(i,0),l=this.Mr.firstAfterOrEqual(s);return Q.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.kr=t,this.docs=function(){return new ce(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),h=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Q.resolve(s?s.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let s=wr();return i.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Ge.newInvalidDocument(l))}),Q.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let h=wr();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||CR(IR(A),s)<=0||(l.has(A.key)||Nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(t,i,s,l){_t()}qr(t,i){return Q.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new e1(this)}getSize(t){return Q.resolve(this.size)}}class e1 extends Kw{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),Q.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t){this.persistence=t,this.Qr=new Ts(i=>Qd(i),Kd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new $d,this.targetCount=0,this.Kr=Na.Un()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Q.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Na(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(t,i){return this.zn(i),Q.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,i,s){let l=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(h).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return Q.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),Q.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return Q.resolve(s)}containsKey(t,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new wc(0),this.zr=!1,this.zr=!0,this.jr=new Jw,this.referenceDelegate=t(this),this.Hr=new n1(this),this.indexManager=new Bw,this.remoteDocumentCache=function(l){return new t1(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Pw(i),this.Yr=new Zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $w,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new Ww(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const l=new i1(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(h=>this.referenceDelegate.Xr(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}ei(t,i){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class i1 extends OR{constructor(t){super(),this.currentSequenceNumber=t}}class Jd{constructor(t){this.persistence=t,this.ti=new $d,this.ni=null}static ri(t){return new Jd(t)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Q.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const l=ft.fromPath(s);return this.si(t,l).next(h=>{h||i.removeEntry(l,yt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class vc{constructor(t,i){this.persistence=t,this.oi=new Ts(s=>VR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=Qw(this,i)}static ri(t,i){return new vc(t,i)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return Q.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(h=>h?Q.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),Q.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),Q.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=nc(t.data.value)),i}ar(t,i,s){return Q.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return Q.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=Lt(),l=Lt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Wd(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JT()?8:NR(Fe())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const h={result:null};return this.rs(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(t,i,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new r1;return this._s(t,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>h.result)}us(t,i,s,l){return s.documentReadCount<this.es?(ma()<=It.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(ma()<=It.DEBUG&&nt("QueryEngine","Query:",ga(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(ma()<=It.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ti(i))):Q.resolve())}rs(t,i){if(T_(i))return Q.resolve(null);let s=ti(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=_d(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=Lt(...h);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(t,_d(i,null,"F")):this.hs(t,v,i,_)}))})))}ss(t,i,s,l){return T_(i)||l.isEqual(yt.min())?Q.resolve(null):this.ns.getDocuments(t,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,l)?Q.resolve(null):(ma()<=It.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ga(i)),this.hs(t,d,i,wR(l,ol)).next(g=>g))})}cs(t,i){let s=new Ae(f0(t));return i.forEach((l,h)=>{Nc(t,h)&&(s=s.add(h))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}_s(t,i,s){return ma()<=It.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ga(i)),this.ns.getDocumentsMatchingQuery(t,i,Ar.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="LocalStore",a1=3e8;class o1{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ce(St),this.Is=new Ts(h=>Qd(h),Kd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function l1(a,t,i,s){return new o1(a,t,i,s)}async function N0(a,t){const i=Vt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Lt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function M0(a){const t=Vt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function u1(a,t){const i=Vt(a),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((A,V)=>{const B=l.get(V);if(!B)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,V)));let Y=B.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(V)!==null?Y=Y.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,s)),l=l.insert(V,Y),function(rt,et,kt){return rt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=a1?!0:kt.addedDocuments.size+kt.modifiedDocuments.size+kt.removedDocuments.size>0}(B,Y,A)&&g.push(i.Hr.updateTargetData(h,Y))});let _=wr(),v=Lt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(c1(h,d,t.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!s.isEqual(yt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=l,h))}function c1(a,t,i){let s=Lt(),l=Lt();return i.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let d=wr();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):nt(tm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:l}})}function h1(a,t){const i=Vt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(h=>h?(l=h,Q.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new yr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function Sd(a,t,i){const s=Vt(a),l=s.Ts.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!xa(d))throw d;nt(tm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function U_(a,t,i){const s=Vt(a);let l=yt.min(),h=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const V=Vt(_),B=V.Is.get(A);return B!==void 0?Q.resolve(V.Ts.get(B)):V.Hr.getTargetData(v,A)}(s,d,ti(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Lt())).next(g=>(f1(s,nw(t),g),{documents:g,gs:h})))}function f1(a,t,i){let s=a.Es.get(t)||yt.min();i.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(t,s)}class L_{constructor(){this.activeTargetIds=lw()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d1{constructor(){this.ho=new L_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new L_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class x_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(k_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){nt(k_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function bd(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="RestConnection",g1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===mc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,i,s,l,h){const d=bd(),g=this.bo(t,i.toUriEncodedString());nt(Wf,`Sending RPC '${t}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,l,h),this.vo(t,g,_,s).then(v=>(nt(Wf,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Ia(Wf,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,i,s,l,h,d){return this.So(t,i,s,l,h)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ka}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}bo(t,i){const s=g1[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class _1 extends p1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const h=bd();return new Promise((d,g)=>{const _=new Fv;_.setWithCredentials(!0),_.listenOnce(Qv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ec.NO_ERROR:const A=_.getResponseJson();nt(He,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(A)),d(A);break;case ec.TIMEOUT:nt(He,`RPC '${t}' ${h} timed out`),g(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const V=_.getStatus();if(nt(He,`RPC '${t}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Y=B==null?void 0:B.error;if(Y&&Y.status&&Y.message){const tt=function(et){const kt=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(kt)>=0?kt:W.UNKNOWN}(Y.status);g(new ct(tt,Y.message))}else g(new ct(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ct(W.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{nt(He,`RPC '${t}' ${h} completed.`)}});const v=JSON.stringify(l);nt(He,`RPC '${t}' ${h} sending request:`,l),_.send(i,"POST",v,s,15)})}Wo(t,i,s){const l=bd(),h=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Xv(),g=Yv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");nt(He,`Creating RPC '${t}' stream ${l}: ${A}`,_);const V=d.createWebChannel(A,_);let B=!1,Y=!1;const tt=new y1({Fo:et=>{Y?nt(He,`Not sending because RPC '${t}' stream ${l} is closed:`,et):(B||(nt(He,`Opening RPC '${t}' stream ${l} transport.`),V.open(),B=!0),nt(He,`RPC '${t}' stream ${l} sending:`,et),V.send(et))},Mo:()=>V.close()}),rt=(et,kt,wt)=>{et.listen(kt,gt=>{try{wt(gt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return rt(V,$o.EventType.OPEN,()=>{Y||(nt(He,`RPC '${t}' stream ${l} transport opened.`),tt.Qo())}),rt(V,$o.EventType.CLOSE,()=>{Y||(Y=!0,nt(He,`RPC '${t}' stream ${l} transport closed`),tt.Uo())}),rt(V,$o.EventType.ERROR,et=>{Y||(Y=!0,Ia(He,`RPC '${t}' stream ${l} transport errored:`,et),tt.Uo(new ct(W.UNAVAILABLE,"The operation could not be completed")))}),rt(V,$o.EventType.MESSAGE,et=>{var kt;if(!Y){const wt=et.data[0];te(!!wt);const gt=wt,Ut=(gt==null?void 0:gt.error)||((kt=gt[0])===null||kt===void 0?void 0:kt.error);if(Ut){nt(He,`RPC '${t}' stream ${l} received error:`,Ut);const pt=Ut.status;let Ct=function(R){const D=ge[R];if(D!==void 0)return E0(D)}(pt),O=Ut.message;Ct===void 0&&(Ct=W.INTERNAL,O="Unknown error status: "+pt+" with message "+Ut.message),Y=!0,tt.Uo(new ct(Ct,O)),V.close()}else nt(He,`RPC '${t}' stream ${l} received:`,wt),tt.Ko(wt)}}),rt(g,Kv.STAT_EVENT,et=>{et.stat===cd.PROXY?nt(He,`RPC '${t}' stream ${l} detected buffering proxy`):et.stat===cd.NOPROXY&&nt(He,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{tt.$o()},0),tt}}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(a){return new Rw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,i,s=1e3,l=1.5,h=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="PersistentStream";class v1{constructor(t,i,s,l,h,d,g,_){this.Ti=t,this.n_=s,this.r_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new U0(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return nt(P_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(nt(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E1 extends v1{constructor(t,i,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=Ow(this.serializer,t),s=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Aa(d.readTime):yt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=O_(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=yd(_)?{documents:Nw(h,_)}:{query:Mw(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Iw(h,d.resumeToken);const v=Td(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=ww(h,d.snapshotVersion.toTimestamp());const v=Td(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Uw(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=O_(this.serializer),i.removeTarget=t,this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class A1 extends T1{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(t,Ad(i,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(W.UNKNOWN,h.toString())})}Co(t,i,s,l,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Ad(i,s),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class S1{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class b1{constructor(t,i,s,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{vl(this)&&(nt(Ma,"Restarting streams for network reachability change."),await async function(_){const v=Vt(_);v.W_.add(4),await _l(v),v.j_.set("Unknown"),v.W_.delete(4),await Lc(v)}(this))})}),this.j_=new S1(s,l)}}async function Lc(a){if(vl(a))for(const t of a.G_)await t(!0)}async function _l(a){for(const t of a.G_)await t(!1)}function L0(a,t){const i=Vt(a);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),rm(i)?im(i):Pa(i).c_()&&nm(i,t))}function em(a,t){const i=Vt(a),s=Pa(i);i.K_.delete(t),s.c_()&&k0(i,t),i.K_.size===0&&(s.c_()?s.P_():vl(i)&&i.j_.set("Unknown"))}function nm(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Pa(a).y_(t)}function k0(a,t){a.H_.Ne(t),Pa(a).w_(t)}function im(a){a.H_=new Tw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.K_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),Pa(a).start(),a.j_.B_()}function rm(a){return vl(a)&&!Pa(a).u_()&&a.K_.size>0}function vl(a){return Vt(a).W_.size===0}function x0(a){a.H_=void 0}async function R1(a){a.j_.set("Online")}async function w1(a){a.K_.forEach((t,i)=>{nm(a,t)})}async function I1(a,t){x0(a),rm(a)?(a.j_.q_(t),im(a)):a.j_.set("Unknown")}async function C1(a,t,i){if(a.j_.set("Online"),t instanceof A0&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(a,t)}catch(s){nt(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await z_(a,s)}else if(t instanceof rc?a.H_.We(t):t instanceof T0?a.H_.Ze(t):a.H_.je(t),!i.isEqual(yt.min()))try{const s=await M0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),k0(h,_);const V=new yr(A.target,_,v,A.sequenceNumber);nm(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){nt(Ma,"Failed to raise snapshot:",s),await z_(a,s)}}async function z_(a,t,i){if(!xa(t))throw t;a.W_.add(1),await _l(a),a.j_.set("Offline"),i||(i=()=>M0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{nt(Ma,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Lc(a)})}async function B_(a,t){const i=Vt(a);i.asyncQueue.verifyOperationInProgress(),nt(Ma,"RemoteStore received new credentials");const s=vl(i);i.W_.add(3),await _l(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Lc(i)}async function D1(a,t){const i=Vt(a);t?(i.W_.delete(2),await Lc(i)):t||(i.W_.add(2),await _l(i),i.j_.set("Unknown"))}function Pa(a){return a.J_||(a.J_=function(i,s,l){const h=Vt(i);return h.M_(),new E1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{xo:R1.bind(null,a),No:w1.bind(null,a),Lo:I1.bind(null,a),p_:C1.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),rm(a)?im(a):a.j_.set("Unknown")):(await a.J_.stop(),x0(a))})),a.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,i,s,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,h){const d=Date.now()+s,g=new sm(t,i,d,l,h);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(a,t){if(Ui("AsyncQueue",`${t}: ${a}`),xa(a))return new ct(W.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(t){return new Sa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Jo(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Sa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Sa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Z_=new ce(ft.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):_t():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class Va{constructor(t,i,s,l,h,d,g,_,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Va(t,i,Sa.emptySet(i),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class N1{constructor(){this.queries=H_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=Vt(i),h=l.queries;l.queries=H_(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function H_(){return new Ts(a=>h0(a),Oc)}async function M1(a,t){const i=Vt(a);let s=3;const l=t.query;let h=i.queries.get(l);h?!h.na()&&t.ra()&&(s=2):(h=new O1,s=t.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(l,!0);break;case 1:h.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=P0(d,`Initialization of query '${ga(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.ta.push(t),t.sa(i.onlineState),h.ea&&t.oa(h.ea)&&am(i)}async function V1(a,t){const i=Vt(a),s=t.query;let l=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(t);d>=0&&(h.ta.splice(d,1),h.ta.length===0?l=t.ra()?0:1:!h.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function U1(a,t){const i=Vt(a);let s=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&am(i)}function L1(a,t,i){const s=Vt(a),l=s.queries.get(t);if(l)for(const h of l.ta)h.onError(i);s.queries.delete(t)}function am(a){a.ia.forEach(t=>{t.next()})}var Rd,j_;(j_=Rd||(Rd={}))._a="default",j_.Cache="cache";class k1{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Va(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Va.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t){this.key=t}}class B0{constructor(t){this.key=t}}class x1{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=f0(t),this.wa=new Sa(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new q_,l=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,V)=>{const B=l.get(A),Y=Nc(this.query,V)?V:null,tt=!!B&&this.mutatedKeys.has(B.key),rt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let et=!1;B&&Y?B.data.isEqual(Y.data)?tt!==rt&&(s.track({type:3,doc:Y}),et=!0):this.va(B,Y)||(s.track({type:2,doc:Y}),et=!0,(_&&this.ya(Y,_)>0||v&&this.ya(Y,v)<0)&&(g=!0)):!B&&Y?(s.track({type:0,doc:Y}),et=!0):B&&!Y&&(s.track({type:1,doc:B}),et=!0,(_||v)&&(g=!0)),et&&(Y?(d=d.add(Y),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const h=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,V)=>function(Y,tt){const rt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return rt(Y)-rt(tt)}(A.type,V.type)||this.ya(A.doc,V.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],_=this.pa.size===0&&this.current&&!l?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Va(this.query,t.wa,h,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new q_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Lt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new B0(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new z0(s))}),i}Oa(t){this.fa=t.gs,this.pa=Lt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return Va.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const om="SyncEngine";class P1{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class z1{constructor(t){this.key=t,this.Ba=!1}}class B1{constructor(t,i,s,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ts(g=>h0(g),Oc),this.qa=new Map,this.Qa=new Set,this.$a=new ce(ft.comparator),this.Ua=new Map,this.Ka=new $d,this.Wa={},this.Ga=new Map,this.za=Na.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function q1(a,t,i=!0){const s=F0(a);let l;const h=s.ka.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.Na()):l=await q0(s,t,i,!0),l}async function H1(a,t){const i=F0(a);await q0(i,t,!0,!1)}async function q0(a,t,i,s){const l=await h1(a.localStore,ti(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await j1(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&L0(a.remoteStore,l),g}async function j1(a,t,i,s,l){a.Ha=(V,B,Y)=>async function(rt,et,kt,wt){let gt=et.view.ba(kt);gt.ls&&(gt=await U_(rt.localStore,et.query,!1).then(({documents:O})=>et.view.ba(O,gt)));const Ut=wt&&wt.targetChanges.get(et.targetId),pt=wt&&wt.targetMismatches.get(et.targetId)!=null,Ct=et.view.applyChanges(gt,rt.isPrimaryClient,Ut,pt);return F_(rt,et.targetId,Ct.Ma),Ct.snapshot}(a,V,B,Y);const h=await U_(a.localStore,t,!0),d=new x1(t,h.gs),g=d.ba(h.documents),_=yl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,_);F_(a,i,v.Ma);const A=new P1(t,i,d);return a.ka.set(t,A),a.qa.has(i)?a.qa.get(i).push(t):a.qa.set(i,[t]),v.snapshot}async function G1(a,t,i){const s=Vt(a),l=s.ka.get(t),h=s.qa.get(l.targetId);if(h.length>1)return s.qa.set(l.targetId,h.filter(d=>!Oc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Sd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&em(s.remoteStore,l.targetId),wd(s,l.targetId)}).catch(Rc)):(wd(s,l.targetId),await Sd(s.localStore,l.targetId,!0))}async function F1(a,t){const i=Vt(a),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),em(i.remoteStore,s.targetId))}async function H0(a,t){const i=Vt(a);try{const s=await u1(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Ua.get(h);d&&(te(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?te(d.Ba):l.removedDocuments.size>0&&(te(d.Ba),d.Ba=!1))}),await G0(i,s,t)}catch(s){await Rc(s)}}function G_(a,t,i){const s=Vt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((h,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const _=Vt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,V)=>{for(const B of V.ta)B.sa(g)&&(v=!0)}),v&&am(_)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Q1(a,t,i){const s=Vt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ua.get(t),h=l&&l.key;if(h){let d=new ce(ft.comparator);d=d.insert(h,Ge.newNoDocument(h,yt.min()));const g=Lt().add(h),_=new Uc(yt.min(),new Map,new ce(St),d,g);await H0(s,_),s.$a=s.$a.remove(h),s.Ua.delete(t),lm(s)}else await Sd(s.localStore,t,!1).then(()=>wd(s,t,i)).catch(Rc)}function wd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(t),a.isPrimaryClient&&a.Ka.br(t).forEach(s=>{a.Ka.containsKey(s)||j0(a,s)})}function j0(a,t){a.Qa.delete(t.path.canonicalString());const i=a.$a.get(t);i!==null&&(em(a.remoteStore,i),a.$a=a.$a.remove(t),a.Ua.delete(i),lm(a))}function F_(a,t,i){for(const s of i)s instanceof z0?(a.Ka.addReference(s.key,t),K1(a,s)):s instanceof B0?(nt(om,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,t),a.Ka.containsKey(s.key)||j0(a,s.key)):_t()}function K1(a,t){const i=t.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(nt(om,"New document in limbo: "+i),a.Qa.add(s),lm(a))}function lm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const i=new ft(se.fromString(t)),s=a.za.next();a.Ua.set(s,new z1(i)),a.$a=a.$a.insert(i,s),L0(a.remoteStore,new yr(ti(c0(i.path)),s,"TargetPurposeLimboResolution",wc.ae))}}async function G0(a,t,i){const s=Vt(a),l=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,t,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const V=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){l.push(v);const V=Wd.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),s.La.p_(l),await async function(_,v){const A=Vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Q.forEach(v,B=>Q.forEach(B.Hi,Y=>A.persistence.referenceDelegate.addReference(V,B.targetId,Y)).next(()=>Q.forEach(B.Ji,Y=>A.persistence.referenceDelegate.removeReference(V,B.targetId,Y)))))}catch(V){if(!xa(V))throw V;nt(tm,"Failed to update sequence numbers: "+V)}for(const V of v){const B=V.targetId;if(!V.fromCache){const Y=A.Ts.get(B),tt=Y.snapshotVersion,rt=Y.withLastLimboFreeSnapshotVersion(tt);A.Ts=A.Ts.insert(B,rt)}}}(s.localStore,h))}async function Y1(a,t){const i=Vt(a);if(!i.currentUser.isEqual(t)){nt(om,"User change. New user:",t.toKey());const s=await N0(i.localStore,t);i.currentUser=t,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ct(W.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await G0(i,s.Rs)}}function X1(a,t){const i=Vt(a),s=i.Ua.get(t);if(s&&s.Ba)return Lt().add(s.key);{let l=Lt();const h=i.qa.get(t);if(!h)return l;for(const d of h){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function F0(a){const t=Vt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=H0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=X1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q1.bind(null,t),t.La.p_=U1.bind(null,t.eventManager),t.La.Ja=L1.bind(null,t.eventManager),t}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=V0(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return l1(this.persistence,new s1,t.initialUser,this.serializer)}Xa(t){return new O0(Jd.ri,this.serializer)}Za(t){return new d1}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class Z1 extends Ec{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){te(this.persistence.referenceDelegate instanceof vc);const s=this.persistence.referenceDelegate.garbageCollector;return new Gw(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new O0(s=>vc.ri(s,i),this.serializer)}}class Id{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>G_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y1.bind(null,this.syncEngine),await D1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new N1}()}createDatastore(t){const i=V0(t.databaseInfo.databaseId),s=function(h){return new _1(h)}(t.databaseInfo);return function(h,d,g,_){return new A1(h,d,g,_)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,h,d,g){return new b1(s,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>G_(this.syncEngine,i,0),function(){return x_.D()?new x_:new m1}())}createSyncEngine(t,i){return function(l,h,d,g,_,v,A){const V=new B1(l,h,d,g,_,v);return A&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const h=Vt(l);nt(Ma,"RemoteStore shutting down."),h.W_.add(5),await _l(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Id.provider={build:()=>new Id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ui("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class J1{constructor(t,i,s,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=je.UNAUTHENTICATED,this.clientId=SR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{nt(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(nt(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=P0(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ed(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Ir,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await N0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function Q_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await W1(a);nt(Ir,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>B_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>B_(t.remoteStore,l)),a._onlineComponents=t}async function W1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Ir,"Using user provided OfflineComponentProvider");try{await ed(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ia("Error using user provided cache. Falling back to memory cache: "+i),await ed(a,new Ec)}}else nt(Ir,"Using default OfflineComponentProvider"),await ed(a,new Z1(void 0));return a._offlineComponents}async function tI(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Ir,"Using user provided OnlineComponentProvider"),await Q_(a,a._uninitializedComponentsProvider._online)):(nt(Ir,"Using default OnlineComponentProvider"),await Q_(a,new Id))),a._onlineComponents}async function eI(a){const t=await tI(a),i=t.eventManager;return i.onListen=q1.bind(null,t.syncEngine),i.onUnlisten=G1.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=H1.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=F1.bind(null,t.syncEngine),i}function nI(a,t,i={}){const s=new ms;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new $1({next:B=>{A.su(),d.enqueueAndForget(()=>V1(h,V)),B.fromCache&&_.source==="server"?v.reject(new ct(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),V=new k1(g,A,{includeMetadataChanges:!0,Ta:!0});return M1(h,V)}(await eI(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function iI(a,t,i,s){if(t===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Y_(a){if(ft.isDocumentKey(a))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rI(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":_t()}function Cd(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rI(a);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firestore.googleapis.com",X_=!0;class Z_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K0,this.ssl=X_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:X_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=D0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Hw)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class um{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pR;switch(s.type){case"firstParty":return new ER(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=K_.get(i);s&&(nt("ComponentProvider","Removing Datastore"),K_.delete(i),s.terminate())}(this),Promise.resolve()}}function sI(a,t,i,s={}){var l;const h=(a=Cd(a,um))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:a._getEmulatorOptions()}),g=`${t}:${i}`;h.host!==K0&&h.host!==g&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!ps(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=je.MOCK_USER;else{v=FT(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new je(V)}a._authCredentials=new yR(new Zv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new kc(this.firestore,t,this._query)}}class za{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new za(this.firestore,t,this._key)}}class ba extends kc{constructor(t,i,s){super(t,i,c0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new za(this.firestore,null,new ft(t))}withConverter(t){return new ba(this.firestore,t,this._path)}}function aI(a,t,...i){if(a=Es(a),a instanceof um){const s=se.fromString(t,...i);return Y_(s),new ba(a,null,s)}{if(!(a instanceof za||a instanceof ba))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(se.fromString(t,...i));return Y_(s),new ba(a.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class J_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new U0(this,"async_queue_retry"),this.Su=()=>{const s=td();s&&nt($_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ms;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!xa(t))throw t;nt($_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Ui("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=sm.createAndSchedule(this,t,i,s,h=>this.Fu(h));return this.fu.push(l),l}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Y0 extends um{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new J_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new J_(t),this._firestoreClient=void 0,await t}}}function oI(a,t){const i=typeof a=="object"?a:cv(),s=typeof a=="string"?a:mc,l=Md(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=jT("firestore");h&&sI(l,...h)}return l}function lI(a){if(a._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||uI(a),a._firestoreClient}function uI(a){var t,i,s;const l=a._freezeSettings(),h=function(g,_,v,A){return new xR(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Q0(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new J1(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tc(Pe.fromBase64String(t))}catch(i){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Tc(Pe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}}const fI=new RegExp("[~\\*/\\[\\]]");function dI(a,t,i){if(t.search(fI)>=0)throw W_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new X0(...t.split("."))._internalPath}catch{throw W_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function W_(a,t,i,s,l){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new ct(W.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,i,s,l,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new za(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class mI extends Z0{data(){return super.data()}}function $0(a,t){return typeof t=="string"?dI(a,t):t instanceof X0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{convertValue(t,i="none"){switch(Rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return pl(t,(l,h)=>{s[l]=this.convertValue(h,i)}),s}convertVectorValue(t){var i,s,l;const h=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[dd].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ue(d.doubleValue));return new hI(h)}convertGeoPoint(t){return new cI(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Cc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ll(t));default:return null}}convertTimestamp(t){const i=Sr(t);return new en(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=se.fromString(t);te(C0(s));const l=new ul(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return l.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yI extends Z0{constructor(t,i,s,l,h,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field($0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class sc extends yI{data(t={}){return super.data(t)}}class _I{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Zu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new sc(this._firestore,this._userDataWriter,s.key,s,new Zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const _=new sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:vI(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function vI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class EI extends pI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new za(this.firestore,null,i)}}function TI(a){a=Cd(a,kc);const t=Cd(a.firestore,Y0),i=lI(t),s=new EI(t);return gI(a._query),nI(i,a._query).then(l=>new _I(t,s,a,l))}(function(t,i=!0){(function(l){ka=l})(Ua),Ra(new ys("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Y0(new _R(s.getProvider("auth-internal")),new TR(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(v.options.projectId,A)}(d,l),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Er(r_,s_,t),Er(r_,s_,"esm2017")})();const AI={apiKey:"AIzaSyAwbEwXobmKA0nJ3LTEYEkWoNohvO1y19E",authDomain:"bitcamp2025-f6f96.firebaseapp.com",projectId:"bitcamp2025-f6f96",storageBucket:"bitcamp2025-f6f96.firebasestorage.app",messagingSenderId:"430257671691",appId:"1:430257671691:web:2e4b8ac5637601265b010e",measurementId:void 0},J0=uv(AI),SI=oI(J0),bI=mR(J0);function RI(){const[a,t]=tv.useState(0);return De.jsxs(De.Fragment,{children:[De.jsxs("div",{children:[De.jsx("a",{href:"https://vite.dev",target:"_blank",children:De.jsx("img",{src:UT,className:"logo",alt:"Vite logo"})}),De.jsx("a",{href:"https://react.dev",target:"_blank",children:De.jsx("img",{src:VT,className:"logo react",alt:"React logo"})})]}),De.jsx("h1",{children:"Vite + React"}),De.jsxs("div",{className:"card",children:[De.jsxs("button",{onClick:()=>t(i=>i+1),children:["count is ",a]}),De.jsxs("p",{children:["Edit ",De.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),De.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"}),De.jsx("div",{className:"mt-5 text-amber-400",children:"Testing tailwind"}),De.jsx("button",{onClick:()=>console.log(bI.currentUser),children:"asjdlfkajsdlf"}),De.jsx("button",{onClick:()=>{TI(aI(SI,"users")).then(i=>{console.log(i.docs.map(s=>s.data()))}).catch(i=>console.log(i))},children:"whats in db"})]})}MT.createRoot(document.getElementById("root")).render(De.jsx(tv.StrictMode,{children:De.jsx(RI,{})}));
