function $q(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uq(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var C0={exports:{}},Gc={},R0={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function jq(){if(cS)return nt;cS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function x(W,oe,le){this.props=W,this.context=oe,this.refs=w,this.updater=le||_}x.prototype.isReactComponent={},x.prototype.setState=function(W,oe){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,oe,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function T(){}T.prototype=x.prototype;function E(W,oe,le){this.props=W,this.context=oe,this.refs=w,this.updater=le||_}var S=E.prototype=new T;S.constructor=E,y(S,x.prototype),S.isPureReactComponent=!0;var O=Array.isArray,N=Object.prototype.hasOwnProperty,$={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function R(W,oe,le){var B,te={},pe=null,ce=null;if(oe!=null)for(B in oe.ref!==void 0&&(ce=oe.ref),oe.key!==void 0&&(pe=""+oe.key),oe)N.call(oe,B)&&!M.hasOwnProperty(B)&&(te[B]=oe[B]);var Pe=arguments.length-2;if(Pe===1)te.children=le;else if(1<Pe){for(var de=Array(Pe),me=0;me<Pe;me++)de[me]=arguments[me+2];te.children=de}if(W&&W.defaultProps)for(B in Pe=W.defaultProps,Pe)te[B]===void 0&&(te[B]=Pe[B]);return{$$typeof:t,type:W,key:pe,ref:ce,props:te,_owner:$.current}}function k(W,oe){return{$$typeof:t,type:W.type,key:oe,ref:W.ref,props:W.props,_owner:W._owner}}function I(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function L(W){var oe={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(le){return oe[le]})}var V=/\/+/g;function A(W,oe){return typeof W=="object"&&W!==null&&W.key!=null?L(""+W.key):oe.toString(36)}function H(W,oe,le,B,te){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var ce=!1;if(W===null)ce=!0;else switch(pe){case"string":case"number":ce=!0;break;case"object":switch(W.$$typeof){case t:case e:ce=!0}}if(ce)return ce=W,te=te(ce),W=B===""?"."+A(ce,0):B,O(te)?(le="",W!=null&&(le=W.replace(V,"$&/")+"/"),H(te,oe,le,"",function(me){return me})):te!=null&&(I(te)&&(te=k(te,le+(!te.key||ce&&ce.key===te.key?"":(""+te.key).replace(V,"$&/")+"/")+W)),oe.push(te)),1;if(ce=0,B=B===""?".":B+":",O(W))for(var Pe=0;Pe<W.length;Pe++){pe=W[Pe];var de=B+A(pe,Pe);ce+=H(pe,oe,le,de,te)}else if(de=g(W),typeof de=="function")for(W=de.call(W),Pe=0;!(pe=W.next()).done;)pe=pe.value,de=B+A(pe,Pe++),ce+=H(pe,oe,le,de,te);else if(pe==="object")throw oe=String(W),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return ce}function X(W,oe,le){if(W==null)return W;var B=[],te=0;return H(W,B,"","",function(pe){return oe.call(le,pe,te++)}),B}function Q(W){if(W._status===-1){var oe=W._result;oe=oe(),oe.then(function(le){(W._status===0||W._status===-1)&&(W._status=1,W._result=le)},function(le){(W._status===0||W._status===-1)&&(W._status=2,W._result=le)}),W._status===-1&&(W._status=0,W._result=oe)}if(W._status===1)return W._result.default;throw W._result}var J={current:null},j={transition:null},ue={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:j,ReactCurrentOwner:$};function re(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:X,forEach:function(W,oe,le){X(W,function(){oe.apply(this,arguments)},le)},count:function(W){var oe=0;return X(W,function(){oe++}),oe},toArray:function(W){return X(W,function(oe){return oe})||[]},only:function(W){if(!I(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},nt.Component=x,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=E,nt.StrictMode=r,nt.Suspense=c,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,nt.act=re,nt.cloneElement=function(W,oe,le){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var B=y({},W.props),te=W.key,pe=W.ref,ce=W._owner;if(oe!=null){if(oe.ref!==void 0&&(pe=oe.ref,ce=$.current),oe.key!==void 0&&(te=""+oe.key),W.type&&W.type.defaultProps)var Pe=W.type.defaultProps;for(de in oe)N.call(oe,de)&&!M.hasOwnProperty(de)&&(B[de]=oe[de]===void 0&&Pe!==void 0?Pe[de]:oe[de])}var de=arguments.length-2;if(de===1)B.children=le;else if(1<de){Pe=Array(de);for(var me=0;me<de;me++)Pe[me]=arguments[me+2];B.children=Pe}return{$$typeof:t,type:W.type,key:te,ref:pe,props:B,_owner:ce}},nt.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},nt.createElement=R,nt.createFactory=function(W){var oe=R.bind(null,W);return oe.type=W,oe},nt.createRef=function(){return{current:null}},nt.forwardRef=function(W){return{$$typeof:u,render:W}},nt.isValidElement=I,nt.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:Q}},nt.memo=function(W,oe){return{$$typeof:f,type:W,compare:oe===void 0?null:oe}},nt.startTransition=function(W){var oe=j.transition;j.transition={};try{W()}finally{j.transition=oe}},nt.unstable_act=re,nt.useCallback=function(W,oe){return J.current.useCallback(W,oe)},nt.useContext=function(W){return J.current.useContext(W)},nt.useDebugValue=function(){},nt.useDeferredValue=function(W){return J.current.useDeferredValue(W)},nt.useEffect=function(W,oe){return J.current.useEffect(W,oe)},nt.useId=function(){return J.current.useId()},nt.useImperativeHandle=function(W,oe,le){return J.current.useImperativeHandle(W,oe,le)},nt.useInsertionEffect=function(W,oe){return J.current.useInsertionEffect(W,oe)},nt.useLayoutEffect=function(W,oe){return J.current.useLayoutEffect(W,oe)},nt.useMemo=function(W,oe){return J.current.useMemo(W,oe)},nt.useReducer=function(W,oe,le){return J.current.useReducer(W,oe,le)},nt.useRef=function(W){return J.current.useRef(W)},nt.useState=function(W){return J.current.useState(W)},nt.useSyncExternalStore=function(W,oe,le){return J.current.useSyncExternalStore(W,oe,le)},nt.useTransition=function(){return J.current.useTransition()},nt.version="18.3.1",nt}var fS;function Kl(){return fS||(fS=1,R0.exports=jq()),R0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function zq(){if(dS)return Gc;dS=1;var t=Kl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,m={},g=null,_=null;f!==void 0&&(g=""+f),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(_=c.ref);for(h in c)r.call(c,h)&&!o.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:u,key:g,ref:_,props:m,_owner:i.current}}return Gc.Fragment=n,Gc.jsx=s,Gc.jsxs=s,Gc}var hS;function Bq(){return hS||(hS=1,C0.exports=zq()),C0.exports}var ee=Bq(),F=Kl();const $e=Xi(F),Wq=$q({__proto__:null,default:$e},[F]);var Ah={},I0={exports:{}},ir={},k0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function Hq(){return pS||(pS=1,function(t){function e(j,ue){var re=j.length;j.push(ue);e:for(;0<re;){var W=re-1>>>1,oe=j[W];if(0<i(oe,ue))j[W]=ue,j[re]=oe,re=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var ue=j[0],re=j.pop();if(re!==ue){j[0]=re;e:for(var W=0,oe=j.length,le=oe>>>1;W<le;){var B=2*(W+1)-1,te=j[B],pe=B+1,ce=j[pe];if(0>i(te,re))pe<oe&&0>i(ce,te)?(j[W]=ce,j[pe]=re,W=pe):(j[W]=te,j[B]=re,W=B);else if(pe<oe&&0>i(ce,re))j[W]=ce,j[pe]=re,W=pe;else break e}}return ue}function i(j,ue){var re=j.sortIndex-ue.sortIndex;return re!==0?re:j.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,g=3,_=!1,y=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var ue=n(f);ue!==null;){if(ue.callback===null)r(f);else if(ue.startTime<=j)r(f),ue.sortIndex=ue.expirationTime,e(c,ue);else break;ue=n(f)}}function O(j){if(w=!1,S(j),!y)if(n(c)!==null)y=!0,Q(N);else{var ue=n(f);ue!==null&&J(O,ue.startTime-j)}}function N(j,ue){y=!1,w&&(w=!1,T(R),R=-1),_=!0;var re=g;try{for(S(ue),m=n(c);m!==null&&(!(m.expirationTime>ue)||j&&!L());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var oe=W(m.expirationTime<=ue);ue=t.unstable_now(),typeof oe=="function"?m.callback=oe:m===n(c)&&r(c),S(ue)}else r(c);m=n(c)}if(m!==null)var le=!0;else{var B=n(f);B!==null&&J(O,B.startTime-ue),le=!1}return le}finally{m=null,g=re,_=!1}}var $=!1,M=null,R=-1,k=5,I=-1;function L(){return!(t.unstable_now()-I<k)}function V(){if(M!==null){var j=t.unstable_now();I=j;var ue=!0;try{ue=M(!0,j)}finally{ue?A():($=!1,M=null)}}else $=!1}var A;if(typeof E=="function")A=function(){E(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=V,A=function(){X.postMessage(null)}}else A=function(){x(V,0)};function Q(j){M=j,$||($=!0,A())}function J(j,ue){R=x(function(){j(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||_||(y=!0,Q(N))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var re=g;g=ue;try{return j()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,ue){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var re=g;g=j;try{return ue()}finally{g=re}},t.unstable_scheduleCallback=function(j,ue,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,j){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=re+oe,j={id:h++,callback:ue,priorityLevel:j,startTime:re,expirationTime:oe,sortIndex:-1},re>W?(j.sortIndex=re,e(f,j),n(c)===null&&j===n(f)&&(w?(T(R),R=-1):w=!0,J(O,re-W))):(j.sortIndex=oe,e(c,j),y||_||(y=!0,Q(N))),j},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(j){var ue=g;return function(){var re=g;g=ue;try{return j.apply(this,arguments)}finally{g=re}}}}(M0)),M0}var mS;function Gq(){return mS||(mS=1,k0.exports=Hq()),k0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function Kq(){if(gS)return ir;gS=1;var t=Kl(),e=Gq();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(a){return c.call(m,a)?!0:c.call(h,a)?!1:f.test(a)?m[a]=!0:(h[a]=!0,!1)}function _(a,l,d,v){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function y(a,l,d,v){if(l===null||typeof l>"u"||_(a,l,d,v))return!0;if(v)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(a,l,d,v,b,C,q){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=C,this.removeEmptyString=q}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){x[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];x[l]=new w(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){x[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){x[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){x[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){x[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){x[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){x[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){x[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(T,E);x[l]=new w(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(T,E);x[l]=new w(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(T,E);x[l]=new w(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){x[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){x[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function S(a,l,d,v){var b=x.hasOwnProperty(l)?x[l]:null;(b!==null?b.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(y(l,d,b,v)&&(d=null),v||b===null?g(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):b.mustUseProperty?a[b.propertyName]=d===null?b.type===3?!1:"":d:(l=b.attributeName,v=b.attributeNamespace,d===null?a.removeAttribute(l):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,v?a.setAttributeNS(v,l,d):a.setAttribute(l,d))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),$=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),j=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var re=Object.assign,W;function oe(a){if(W===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);W=l&&l[1]||""}return`
`+W+a}var le=!1;function B(a,l){if(!a||le)return"";le=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(se){var v=se}Reflect.construct(a,[],l)}else{try{l.call()}catch(se){v=se}a.call(l.prototype)}else{try{throw Error()}catch(se){v=se}a()}}catch(se){if(se&&v&&typeof se.stack=="string"){for(var b=se.stack.split(`
`),C=v.stack.split(`
`),q=b.length-1,z=C.length-1;1<=q&&0<=z&&b[q]!==C[z];)z--;for(;1<=q&&0<=z;q--,z--)if(b[q]!==C[z]){if(q!==1||z!==1)do if(q--,z--,0>z||b[q]!==C[z]){var K=`
`+b[q].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=q&&0<=z);break}}}finally{le=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?oe(a):""}function te(a){switch(a.tag){case 5:return oe(a.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return a=B(a.type,!1),a;case 11:return a=B(a.type.render,!1),a;case 1:return a=B(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case $:return"Portal";case k:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case H:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case I:return(a._context.displayName||"Context")+".Provider";case V:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case X:return l=a.displayName||null,l!==null?l:pe(a.type)||"Memo";case Q:l=a._payload,a=a._init;try{return pe(a(l))}catch{}}return null}function ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function de(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function me(a){var l=de(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),v=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,C=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(q){v=""+q,C.call(this,q)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return v},setValue:function(q){v=""+q},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function be(a){a._valueTracker||(a._valueTracker=me(a))}function fe(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),v="";return a&&(v=de(a)?a.checked?"true":"false":a.value),a=v,a!==d?(l.setValue(a),!0):!1}function Xe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Be(a,l){var d=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function ht(a,l){var d=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;d=Pe(l.value!=null?l.value:d),a._wrapperState={initialChecked:v,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function gt(a,l){l=l.checked,l!=null&&S(a,"checked",l,!1)}function kt(a,l){gt(a,l);var d=Pe(l.value),v=l.type;if(d!=null)v==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(v==="submit"||v==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Vn(a,l.type,d):l.hasOwnProperty("defaultValue")&&Vn(a,l.type,Pe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function ur(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Vn(a,l,d){(l!=="number"||Xe(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var lr=Array.isArray;function Fn(a,l,d,v){if(a=a.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<a.length;d++)b=l.hasOwnProperty("$"+a[d].value),a[d].selected!==b&&(a[d].selected=b),b&&v&&(a[d].defaultSelected=!0)}else{for(d=""+Pe(d),l=null,b=0;b<a.length;b++){if(a[b].value===d){a[b].selected=!0,v&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function qe(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function qr(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(lr(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:Pe(d)}}function qn(a,l){var d=Pe(l.value),v=Pe(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),v!=null&&(a.defaultValue=""+v)}function pt(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Et(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Et(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var zt,to=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,v,b){MSApp.execUnsafeLocalFunction(function(){return a(l,d,v,b)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(zt=zt||document.createElement("div"),zt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=zt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function hn(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},no=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(a){no.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Hn[l]=Hn[a]})});function ns(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Hn.hasOwnProperty(a)&&Hn[a]?(""+l).trim():l+"px"}function rs(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var v=d.indexOf("--")===0,b=ns(d,l[d],v);d==="float"&&(d="cssFloat"),v?a.setProperty(d,b):a[d]=b}}var is=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function os(a,l){if(l){if(is[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ko(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xi=null;function ro(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var G=null,ae=null,ye=null;function Ee(a){if(a=Ac(a)){if(typeof G!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Hd(l),G(a.stateNode,a.type,l))}}function Qt(a){ae?ye?ye.push(a):ye=[a]:ae=a}function cr(){if(ae){var a=ae,l=ye;if(ye=ae=null,Ee(a),l)for(a=0;a<l.length;a++)Ee(l[a])}}function Er(a,l){return a(l)}function bi(){}var Gn=!1;function as(a,l,d){if(Gn)return a(l,d);Gn=!0;try{return Er(a,l,d)}finally{Gn=!1,(ae!==null||ye!==null)&&(bi(),cr())}}function Dt(a,l){var d=a.stateNode;if(d===null)return null;var v=Hd(d);if(v===null)return null;d=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Yo=!1;if(u)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Yo=!1}function io(a,l,d,v,b,C,q,z,K){var se=Array.prototype.slice.call(arguments,3);try{l.apply(d,se)}catch(we){this.onError(we)}}var oo=!1,Qo=null,dr=!1,ss=null,mc={onError:function(a){oo=!0,Qo=a}};function Kn(a,l,d,v,b,C,q,z,K){oo=!1,Qo=null,io.apply(mc,arguments)}function Sr(a,l,d,v,b,C,q,z,K){if(Kn.apply(this,arguments),oo){if(oo){var se=Qo;oo=!1,Qo=null}else throw Error(n(198));dr||(dr=!0,ss=se)}}function hr(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function En(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Yn(a){if(hr(a)!==a)throw Error(n(188))}function ao(a){var l=a.alternate;if(!l){if(l=hr(a),l===null)throw Error(n(188));return l!==a?null:a}for(var d=a,v=l;;){var b=d.return;if(b===null)break;var C=b.alternate;if(C===null){if(v=b.return,v!==null){d=v;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===d)return Yn(b),a;if(C===v)return Yn(b),l;C=C.sibling}throw Error(n(188))}if(d.return!==v.return)d=b,v=C;else{for(var q=!1,z=b.child;z;){if(z===d){q=!0,d=b,v=C;break}if(z===v){q=!0,v=b,d=C;break}z=z.sibling}if(!q){for(z=C.child;z;){if(z===d){q=!0,d=C,v=b;break}if(z===v){q=!0,v=C,d=b;break}z=z.sibling}if(!q)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:l}function us(a){return a=ao(a),a!==null?Xo(a):null}function Xo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Xo(a);if(l!==null)return l;a=a.sibling}return null}var Jo=e.unstable_scheduleCallback,ls=e.unstable_cancelCallback,vu=e.unstable_shouldYield,gc=e.unstable_requestPaint,_t=e.unstable_now,yu=e.unstable_getCurrentPriorityLevel,so=e.unstable_ImmediatePriority,Ti=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,cs=e.unstable_LowPriority,_u=e.unstable_IdlePriority,uo=null,$n=null;function wu(a){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(uo,a,void 0,(a.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:bu,fs=Math.log,xu=Math.LN2;function bu(a){return a>>>=0,a===0?32:31-(fs(a)/xu|0)|0}var Ie=64,Qe=4194304;function Je(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function xe(a,l){var d=a.pendingLanes;if(d===0)return 0;var v=0,b=a.suspendedLanes,C=a.pingedLanes,q=d&268435455;if(q!==0){var z=q&~b;z!==0?v=Je(z):(C&=q,C!==0&&(v=Je(C)))}else q=d&~b,q!==0?v=Je(q):C!==0&&(v=Je(C));if(v===0)return 0;if(l!==0&&l!==v&&(l&b)===0&&(b=v&-v,C=l&-l,b>=C||b===16&&(C&4194240)!==0))return l;if((v&4)!==0&&(v|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=v;0<l;)d=31-pn(l),b=1<<d,v|=a[d],l&=~b;return v}function rn(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function it(a,l){for(var d=a.suspendedLanes,v=a.pingedLanes,b=a.expirationTimes,C=a.pendingLanes;0<C;){var q=31-pn(C),z=1<<q,K=b[q];K===-1?((z&d)===0||(z&v)!==0)&&(b[q]=rn(z,l)):K<=l&&(a.expiredLanes|=z),C&=~z}}function wt(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function $t(){var a=Ie;return Ie<<=1,(Ie&4194240)===0&&(Ie=64),a}function Sn(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function $r(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-pn(l),a[l]=d}function xt(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var v=a.eventTimes;for(a=a.expirationTimes;0<d;){var b=31-pn(d),C=1<<b;l[b]=0,v[b]=-1,a[b]=-1,d&=~C}}function Zo(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var v=31-pn(d),b=1<<v;b&l|a[v]&l&&(a[v]|=l),d&=~b}}var st=0;function ea(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Sd,Tu,Pd,Cd,Rd,vc=!1,Ei=[],mn=null,Ur=null,jr=null,ta=new Map,Pr=new Map,Si=[],iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(a,l){switch(a){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(l.pointerId)}}function Xn(a,l,d,v,b,C){return a===null||a.nativeEvent!==C?(a={blockedOn:l,domEventName:d,eventSystemFlags:v,nativeEvent:C,targetContainers:[b]},l!==null&&(l=Ac(l),l!==null&&Tu(l)),a):(a.eventSystemFlags|=v,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function oy(a,l,d,v,b){switch(l){case"focusin":return mn=Xn(mn,a,l,d,v,b),!0;case"dragenter":return Ur=Xn(Ur,a,l,d,v,b),!0;case"mouseover":return jr=Xn(jr,a,l,d,v,b),!0;case"pointerover":var C=b.pointerId;return ta.set(C,Xn(ta.get(C)||null,a,l,d,v,b)),!0;case"gotpointercapture":return C=b.pointerId,Pr.set(C,Xn(Pr.get(C)||null,a,l,d,v,b)),!0}return!1}function kd(a){var l=gs(a.target);if(l!==null){var d=hr(l);if(d!==null){if(l=d.tag,l===13){if(l=En(d),l!==null){a.blockedOn=l,Rd(a.priority,function(){Pd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function lo(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Eu(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var v=new d.constructor(d.type,d);xi=v,d.target.dispatchEvent(v),xi=null}else return l=Ac(d),l!==null&&Tu(l),a.blockedOn=d,!1;l.shift()}return!0}function ds(a,l,d){lo(a)&&d.delete(l)}function Md(){vc=!1,mn!==null&&lo(mn)&&(mn=null),Ur!==null&&lo(Ur)&&(Ur=null),jr!==null&&lo(jr)&&(jr=null),ta.forEach(ds),Pr.forEach(ds)}function zr(a,l){a.blockedOn===l&&(a.blockedOn=null,vc||(vc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Md)))}function Br(a){function l(b){return zr(b,a)}if(0<Ei.length){zr(Ei[0],a);for(var d=1;d<Ei.length;d++){var v=Ei[d];v.blockedOn===a&&(v.blockedOn=null)}}for(mn!==null&&zr(mn,a),Ur!==null&&zr(Ur,a),jr!==null&&zr(jr,a),ta.forEach(l),Pr.forEach(l),d=0;d<Si.length;d++)v=Si[d],v.blockedOn===a&&(v.blockedOn=null);for(;0<Si.length&&(d=Si[0],d.blockedOn===null);)kd(d),d.blockedOn===null&&Si.shift()}var co=O.ReactCurrentBatchConfig,na=!0;function Mt(a,l,d,v){var b=st,C=co.transition;co.transition=null;try{st=1,yc(a,l,d,v)}finally{st=b,co.transition=C}}function ay(a,l,d,v){var b=st,C=co.transition;co.transition=null;try{st=4,yc(a,l,d,v)}finally{st=b,co.transition=C}}function yc(a,l,d,v){if(na){var b=Eu(a,l,d,v);if(b===null)vy(a,l,v,hs,d),Id(a,v);else if(oy(b,a,l,d,v))v.stopPropagation();else if(Id(a,v),l&4&&-1<iy.indexOf(a)){for(;b!==null;){var C=Ac(b);if(C!==null&&Sd(C),C=Eu(a,l,d,v),C===null&&vy(a,l,v,hs,d),C===b)break;b=C}b!==null&&v.stopPropagation()}else vy(a,l,v,null,d)}}var hs=null;function Eu(a,l,d,v){if(hs=null,a=ro(v),a=gs(a),a!==null)if(l=hr(a),l===null)a=null;else if(d=l.tag,d===13){if(a=En(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return hs=a,null}function _c(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case so:return 1;case Ti:return 4;case Qn:case cs:return 16;case _u:return 536870912;default:return 16}default:return 16}}var pr=null,Su=null,Jn=null;function wc(){if(Jn)return Jn;var a,l=Su,d=l.length,v,b="value"in pr?pr.value:pr.textContent,C=b.length;for(a=0;a<d&&l[a]===b[a];a++);var q=d-a;for(v=1;v<=q&&l[d-v]===b[C-v];v++);return Jn=b.slice(a,1<v?1-v:void 0)}function Pu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Pi(){return!0}function xc(){return!1}function gn(a){function l(d,v,b,C,q){this._reactName=d,this._targetInst=b,this.type=v,this.nativeEvent=C,this.target=q,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(d=a[z],this[z]=d?d(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Pi:xc,this.isPropagationStopped=xc,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),l}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=gn(Wr),Ci=re({},Wr,{view:0,detail:0}),sy=gn(Ci),Ru,fo,ra,ps=re({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ra&&(ra&&a.type==="mousemove"?(Ru=a.screenX-ra.screenX,fo=a.screenY-ra.screenY):fo=Ru=0,ra=a),Ru)},movementY:function(a){return"movementY"in a?a.movementY:fo}}),Iu=gn(ps),bc=re({},ps,{dataTransfer:0}),Ad=gn(bc),ku=re({},Ci,{relatedTarget:0}),Mu=gn(ku),Od=re({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=gn(Od),Dd=re({},Wr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Nd=gn(Dd),Ld=re({},Wr,{data:0}),Tc=gn(Ld),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Vd[a])?!!l[a]:!1}function Ri(){return Fd}var p=re({},Ci,{key:function(a){if(a.key){var l=Au[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Pu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Un[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(a){return a.type==="keypress"?Pu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),P=gn(p),D=re({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=gn(D),Z=re({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),he=gn(Z),Ce=re({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yt=gn(Ce),Xt=re({},ps,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=gn(Xt),on=[9,13,27,32],Bt=u&&"CompositionEvent"in window,Cr=null;u&&"documentMode"in document&&(Cr=document.documentMode);var mr=u&&"TextEvent"in window&&!Cr,ms=u&&(!Bt||Cr&&8<Cr&&11>=Cr),Ou=" ",iT=!1;function oT(a,l){switch(a){case"keyup":return on.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aT(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Du=!1;function VF(a,l){switch(a){case"compositionend":return aT(l);case"keypress":return l.which!==32?null:(iT=!0,Ou);case"textInput":return a=l.data,a===Ou&&iT?null:a;default:return null}}function FF(a,l){if(Du)return a==="compositionend"||!Bt&&oT(a,l)?(a=wc(),Jn=Su=pr=null,Du=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ms&&l.locale!=="ko"?null:l.data;default:return null}}var qF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sT(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!qF[a.type]:l==="textarea"}function uT(a,l,d,v){Qt(v),l=zd(l,"onChange"),0<l.length&&(d=new Cu("onChange","change",null,d,v),a.push({event:d,listeners:l}))}var Ec=null,Sc=null;function $F(a){PT(a,0)}function qd(a){var l=qu(a);if(fe(l))return a}function UF(a,l){if(a==="change")return l}var lT=!1;if(u){var uy;if(u){var ly="oninput"in document;if(!ly){var cT=document.createElement("div");cT.setAttribute("oninput","return;"),ly=typeof cT.oninput=="function"}uy=ly}else uy=!1;lT=uy&&(!document.documentMode||9<document.documentMode)}function fT(){Ec&&(Ec.detachEvent("onpropertychange",dT),Sc=Ec=null)}function dT(a){if(a.propertyName==="value"&&qd(Sc)){var l=[];uT(l,Sc,a,ro(a)),as($F,l)}}function jF(a,l,d){a==="focusin"?(fT(),Ec=l,Sc=d,Ec.attachEvent("onpropertychange",dT)):a==="focusout"&&fT()}function zF(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qd(Sc)}function BF(a,l){if(a==="click")return qd(l)}function WF(a,l){if(a==="input"||a==="change")return qd(l)}function HF(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Hr=typeof Object.is=="function"?Object.is:HF;function Pc(a,l){if(Hr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),v=Object.keys(l);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var b=d[v];if(!c.call(l,b)||!Hr(a[b],l[b]))return!1}return!0}function hT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function pT(a,l){var d=hT(a);a=0;for(var v;d;){if(d.nodeType===3){if(v=a+d.textContent.length,a<=l&&v>=l)return{node:d,offset:l-a};a=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=hT(d)}}function mT(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?mT(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function gT(){for(var a=window,l=Xe();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Xe(a.document)}return l}function cy(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function GF(a){var l=gT(),d=a.focusedElem,v=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&mT(d.ownerDocument.documentElement,d)){if(v!==null&&cy(d)){if(l=v.start,a=v.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=d.textContent.length,C=Math.min(v.start,b);v=v.end===void 0?C:Math.min(v.end,b),!a.extend&&C>v&&(b=v,v=C,C=b),b=pT(d,C);var q=pT(d,v);b&&q&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==q.node||a.focusOffset!==q.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),C>v?(a.addRange(l),a.extend(q.node,q.offset)):(l.setEnd(q.node,q.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var KF=u&&"documentMode"in document&&11>=document.documentMode,Nu=null,fy=null,Cc=null,dy=!1;function vT(a,l,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;dy||Nu==null||Nu!==Xe(v)||(v=Nu,"selectionStart"in v&&cy(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Cc&&Pc(Cc,v)||(Cc=v,v=zd(fy,"onSelect"),0<v.length&&(l=new Cu("onSelect","select",null,l,d),a.push({event:l,listeners:v}),l.target=Nu)))}function $d(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Lu={animationend:$d("Animation","AnimationEnd"),animationiteration:$d("Animation","AnimationIteration"),animationstart:$d("Animation","AnimationStart"),transitionend:$d("Transition","TransitionEnd")},hy={},yT={};u&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function Ud(a){if(hy[a])return hy[a];if(!Lu[a])return a;var l=Lu[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in yT)return hy[a]=l[d];return a}var _T=Ud("animationend"),wT=Ud("animationiteration"),xT=Ud("animationstart"),bT=Ud("transitionend"),TT=new Map,ET="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(a,l){TT.set(a,l),o(l,[a])}for(var py=0;py<ET.length;py++){var my=ET[py],YF=my.toLowerCase(),QF=my[0].toUpperCase()+my.slice(1);ia(YF,"on"+QF)}ia(_T,"onAnimationEnd"),ia(wT,"onAnimationIteration"),ia(xT,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(bT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rc));function ST(a,l,d){var v=a.type||"unknown-event";a.currentTarget=d,Sr(v,l,void 0,a),a.currentTarget=null}function PT(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var v=a[d],b=v.event;v=v.listeners;e:{var C=void 0;if(l)for(var q=v.length-1;0<=q;q--){var z=v[q],K=z.instance,se=z.currentTarget;if(z=z.listener,K!==C&&b.isPropagationStopped())break e;ST(b,z,se),C=K}else for(q=0;q<v.length;q++){if(z=v[q],K=z.instance,se=z.currentTarget,z=z.listener,K!==C&&b.isPropagationStopped())break e;ST(b,z,se),C=K}}}if(dr)throw a=ss,dr=!1,ss=null,a}function St(a,l){var d=l[Ty];d===void 0&&(d=l[Ty]=new Set);var v=a+"__bubble";d.has(v)||(CT(l,a,2,!1),d.add(v))}function gy(a,l,d){var v=0;l&&(v|=4),CT(d,a,v,l)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Ic(a){if(!a[jd]){a[jd]=!0,r.forEach(function(d){d!=="selectionchange"&&(XF.has(d)||gy(d,!1,a),gy(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[jd]||(l[jd]=!0,gy("selectionchange",!1,l))}}function CT(a,l,d,v){switch(_c(l)){case 1:var b=Mt;break;case 4:b=ay;break;default:b=yc}d=b.bind(null,l,d,a),b=void 0,!Yo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),v?b!==void 0?a.addEventListener(l,d,{capture:!0,passive:b}):a.addEventListener(l,d,!0):b!==void 0?a.addEventListener(l,d,{passive:b}):a.addEventListener(l,d,!1)}function vy(a,l,d,v,b){var C=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var q=v.tag;if(q===3||q===4){var z=v.stateNode.containerInfo;if(z===b||z.nodeType===8&&z.parentNode===b)break;if(q===4)for(q=v.return;q!==null;){var K=q.tag;if((K===3||K===4)&&(K=q.stateNode.containerInfo,K===b||K.nodeType===8&&K.parentNode===b))return;q=q.return}for(;z!==null;){if(q=gs(z),q===null)return;if(K=q.tag,K===5||K===6){v=C=q;continue e}z=z.parentNode}}v=v.return}as(function(){var se=C,we=ro(d),Te=[];e:{var _e=TT.get(a);if(_e!==void 0){var Re=Cu,Ae=a;switch(a){case"keypress":if(Pu(d)===0)break e;case"keydown":case"keyup":Re=P;break;case"focusin":Ae="focus",Re=Mu;break;case"focusout":Ae="blur",Re=Mu;break;case"beforeblur":case"afterblur":Re=Mu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=he;break;case _T:case wT:case xT:Re=ho;break;case bT:Re=yt;break;case"scroll":Re=sy;break;case"wheel":Re=ut;break;case"copy":case"cut":case"paste":Re=Nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=U}var Le=(l&4)!==0,Ut=!Le&&a==="scroll",ne=Le?_e!==null?_e+"Capture":null:_e;Le=[];for(var Y=se,ie;Y!==null;){ie=Y;var Se=ie.stateNode;if(ie.tag===5&&Se!==null&&(ie=Se,ne!==null&&(Se=Dt(Y,ne),Se!=null&&Le.push(kc(Y,Se,ie)))),Ut)break;Y=Y.return}0<Le.length&&(_e=new Re(_e,Ae,null,d,we),Te.push({event:_e,listeners:Le}))}}if((l&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",Re=a==="mouseout"||a==="pointerout",_e&&d!==xi&&(Ae=d.relatedTarget||d.fromElement)&&(gs(Ae)||Ae[po]))break e;if((Re||_e)&&(_e=we.window===we?we:(_e=we.ownerDocument)?_e.defaultView||_e.parentWindow:window,Re?(Ae=d.relatedTarget||d.toElement,Re=se,Ae=Ae?gs(Ae):null,Ae!==null&&(Ut=hr(Ae),Ae!==Ut||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Re=null,Ae=se),Re!==Ae)){if(Le=Iu,Se="onMouseLeave",ne="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Le=U,Se="onPointerLeave",ne="onPointerEnter",Y="pointer"),Ut=Re==null?_e:qu(Re),ie=Ae==null?_e:qu(Ae),_e=new Le(Se,Y+"leave",Re,d,we),_e.target=Ut,_e.relatedTarget=ie,Se=null,gs(we)===se&&(Le=new Le(ne,Y+"enter",Ae,d,we),Le.target=ie,Le.relatedTarget=Ut,Se=Le),Ut=Se,Re&&Ae)t:{for(Le=Re,ne=Ae,Y=0,ie=Le;ie;ie=Vu(ie))Y++;for(ie=0,Se=ne;Se;Se=Vu(Se))ie++;for(;0<Y-ie;)Le=Vu(Le),Y--;for(;0<ie-Y;)ne=Vu(ne),ie--;for(;Y--;){if(Le===ne||ne!==null&&Le===ne.alternate)break t;Le=Vu(Le),ne=Vu(ne)}Le=null}else Le=null;Re!==null&&RT(Te,_e,Re,Le,!1),Ae!==null&&Ut!==null&&RT(Te,Ut,Ae,Le,!0)}}e:{if(_e=se?qu(se):window,Re=_e.nodeName&&_e.nodeName.toLowerCase(),Re==="select"||Re==="input"&&_e.type==="file")var Ve=UF;else if(sT(_e))if(lT)Ve=WF;else{Ve=zF;var je=jF}else(Re=_e.nodeName)&&Re.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ve=BF);if(Ve&&(Ve=Ve(a,se))){uT(Te,Ve,d,we);break e}je&&je(a,_e,se),a==="focusout"&&(je=_e._wrapperState)&&je.controlled&&_e.type==="number"&&Vn(_e,"number",_e.value)}switch(je=se?qu(se):window,a){case"focusin":(sT(je)||je.contentEditable==="true")&&(Nu=je,fy=se,Cc=null);break;case"focusout":Cc=fy=Nu=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,vT(Te,d,we);break;case"selectionchange":if(KF)break;case"keydown":case"keyup":vT(Te,d,we)}var ze;if(Bt)e:{switch(a){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Du?oT(a,d)&&(He="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(ms&&d.locale!=="ko"&&(Du||He!=="onCompositionStart"?He==="onCompositionEnd"&&Du&&(ze=wc()):(pr=we,Su="value"in pr?pr.value:pr.textContent,Du=!0)),je=zd(se,He),0<je.length&&(He=new Tc(He,a,null,d,we),Te.push({event:He,listeners:je}),ze?He.data=ze:(ze=aT(d),ze!==null&&(He.data=ze)))),(ze=mr?VF(a,d):FF(a,d))&&(se=zd(se,"onBeforeInput"),0<se.length&&(we=new Tc("onBeforeInput","beforeinput",null,d,we),Te.push({event:we,listeners:se}),we.data=ze))}PT(Te,l)})}function kc(a,l,d){return{instance:a,listener:l,currentTarget:d}}function zd(a,l){for(var d=l+"Capture",v=[];a!==null;){var b=a,C=b.stateNode;b.tag===5&&C!==null&&(b=C,C=Dt(a,d),C!=null&&v.unshift(kc(a,C,b)),C=Dt(a,l),C!=null&&v.push(kc(a,C,b))),a=a.return}return v}function Vu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function RT(a,l,d,v,b){for(var C=l._reactName,q=[];d!==null&&d!==v;){var z=d,K=z.alternate,se=z.stateNode;if(K!==null&&K===v)break;z.tag===5&&se!==null&&(z=se,b?(K=Dt(d,C),K!=null&&q.unshift(kc(d,K,z))):b||(K=Dt(d,C),K!=null&&q.push(kc(d,K,z)))),d=d.return}q.length!==0&&a.push({event:l,listeners:q})}var JF=/\r\n?/g,ZF=/\u0000|\uFFFD/g;function IT(a){return(typeof a=="string"?a:""+a).replace(JF,`
`).replace(ZF,"")}function Bd(a,l,d){if(l=IT(l),IT(a)!==l&&d)throw Error(n(425))}function Wd(){}var yy=null,_y=null;function wy(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,eq=typeof clearTimeout=="function"?clearTimeout:void 0,kT=typeof Promise=="function"?Promise:void 0,tq=typeof queueMicrotask=="function"?queueMicrotask:typeof kT<"u"?function(a){return kT.resolve(null).then(a).catch(nq)}:xy;function nq(a){setTimeout(function(){throw a})}function by(a,l){var d=l,v=0;do{var b=d.nextSibling;if(a.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(v===0){a.removeChild(b),Br(l);return}v--}else d!=="$"&&d!=="$?"&&d!=="$!"||v++;d=b}while(d);Br(l)}function oa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function MT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Fu,Mc="__reactProps$"+Fu,po="__reactContainer$"+Fu,Ty="__reactEvents$"+Fu,rq="__reactListeners$"+Fu,iq="__reactHandles$"+Fu;function gs(a){var l=a[Ii];if(l)return l;for(var d=a.parentNode;d;){if(l=d[po]||d[Ii]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=MT(a);a!==null;){if(d=a[Ii])return d;a=MT(a)}return l}a=d,d=a.parentNode}return null}function Ac(a){return a=a[Ii]||a[po],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function qu(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Hd(a){return a[Mc]||null}var Ey=[],$u=-1;function aa(a){return{current:a}}function Pt(a){0>$u||(a.current=Ey[$u],Ey[$u]=null,$u--)}function bt(a,l){$u++,Ey[$u]=a.current,a.current=l}var sa={},Pn=aa(sa),Zn=aa(!1),vs=sa;function Uu(a,l){var d=a.type.contextTypes;if(!d)return sa;var v=a.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var b={},C;for(C in d)b[C]=l[C];return v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function er(a){return a=a.childContextTypes,a!=null}function Gd(){Pt(Zn),Pt(Pn)}function AT(a,l,d){if(Pn.current!==sa)throw Error(n(168));bt(Pn,l),bt(Zn,d)}function OT(a,l,d){var v=a.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return d;v=v.getChildContext();for(var b in v)if(!(b in l))throw Error(n(108,ce(a)||"Unknown",b));return re({},d,v)}function Kd(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||sa,vs=Pn.current,bt(Pn,a),bt(Zn,Zn.current),!0}function DT(a,l,d){var v=a.stateNode;if(!v)throw Error(n(169));d?(a=OT(a,l,vs),v.__reactInternalMemoizedMergedChildContext=a,Pt(Zn),Pt(Pn),bt(Pn,a)):Pt(Zn),bt(Zn,d)}var mo=null,Yd=!1,Sy=!1;function NT(a){mo===null?mo=[a]:mo.push(a)}function oq(a){Yd=!0,NT(a)}function ua(){if(!Sy&&mo!==null){Sy=!0;var a=0,l=st;try{var d=mo;for(st=1;a<d.length;a++){var v=d[a];do v=v(!0);while(v!==null)}mo=null,Yd=!1}catch(b){throw mo!==null&&(mo=mo.slice(a+1)),Jo(so,ua),b}finally{st=l,Sy=!1}}return null}var ju=[],zu=0,Qd=null,Xd=0,Rr=[],Ir=0,ys=null,go=1,vo="";function _s(a,l){ju[zu++]=Xd,ju[zu++]=Qd,Qd=a,Xd=l}function LT(a,l,d){Rr[Ir++]=go,Rr[Ir++]=vo,Rr[Ir++]=ys,ys=a;var v=go;a=vo;var b=32-pn(v)-1;v&=~(1<<b),d+=1;var C=32-pn(l)+b;if(30<C){var q=b-b%5;C=(v&(1<<q)-1).toString(32),v>>=q,b-=q,go=1<<32-pn(l)+b|d<<b|v,vo=C+a}else go=1<<C|d<<b|v,vo=a}function Py(a){a.return!==null&&(_s(a,1),LT(a,1,0))}function Cy(a){for(;a===Qd;)Qd=ju[--zu],ju[zu]=null,Xd=ju[--zu],ju[zu]=null;for(;a===ys;)ys=Rr[--Ir],Rr[Ir]=null,vo=Rr[--Ir],Rr[Ir]=null,go=Rr[--Ir],Rr[Ir]=null}var gr=null,vr=null,At=!1,Gr=null;function VT(a,l){var d=Or(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function FT(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,gr=a,vr=oa(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,gr=a,vr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ys!==null?{id:go,overflow:vo}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Or(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,gr=a,vr=null,!0):!1;default:return!1}}function Ry(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Iy(a){if(At){var l=vr;if(l){var d=l;if(!FT(a,l)){if(Ry(a))throw Error(n(418));l=oa(d.nextSibling);var v=gr;l&&FT(a,l)?VT(v,d):(a.flags=a.flags&-4097|2,At=!1,gr=a)}}else{if(Ry(a))throw Error(n(418));a.flags=a.flags&-4097|2,At=!1,gr=a}}}function qT(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;gr=a}function Jd(a){if(a!==gr)return!1;if(!At)return qT(a),At=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!wy(a.type,a.memoizedProps)),l&&(l=vr)){if(Ry(a))throw $T(),Error(n(418));for(;l;)VT(a,l),l=oa(l.nextSibling)}if(qT(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){vr=oa(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}vr=null}}else vr=gr?oa(a.stateNode.nextSibling):null;return!0}function $T(){for(var a=vr;a;)a=oa(a.nextSibling)}function Bu(){vr=gr=null,At=!1}function ky(a){Gr===null?Gr=[a]:Gr.push(a)}var aq=O.ReactCurrentBatchConfig;function Oc(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var v=d.stateNode}if(!v)throw Error(n(147,a));var b=v,C=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===C?l.ref:(l=function(q){var z=b.refs;q===null?delete z[C]:z[C]=q},l._stringRef=C,l)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function Zd(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function UT(a){var l=a._init;return l(a._payload)}function jT(a){function l(ne,Y){if(a){var ie=ne.deletions;ie===null?(ne.deletions=[Y],ne.flags|=16):ie.push(Y)}}function d(ne,Y){if(!a)return null;for(;Y!==null;)l(ne,Y),Y=Y.sibling;return null}function v(ne,Y){for(ne=new Map;Y!==null;)Y.key!==null?ne.set(Y.key,Y):ne.set(Y.index,Y),Y=Y.sibling;return ne}function b(ne,Y){return ne=ga(ne,Y),ne.index=0,ne.sibling=null,ne}function C(ne,Y,ie){return ne.index=ie,a?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<Y?(ne.flags|=2,Y):ie):(ne.flags|=2,Y)):(ne.flags|=1048576,Y)}function q(ne){return a&&ne.alternate===null&&(ne.flags|=2),ne}function z(ne,Y,ie,Se){return Y===null||Y.tag!==6?(Y=x0(ie,ne.mode,Se),Y.return=ne,Y):(Y=b(Y,ie),Y.return=ne,Y)}function K(ne,Y,ie,Se){var Ve=ie.type;return Ve===M?we(ne,Y,ie.props.children,Se,ie.key):Y!==null&&(Y.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Q&&UT(Ve)===Y.type)?(Se=b(Y,ie.props),Se.ref=Oc(ne,Y,ie),Se.return=ne,Se):(Se=Th(ie.type,ie.key,ie.props,null,ne.mode,Se),Se.ref=Oc(ne,Y,ie),Se.return=ne,Se)}function se(ne,Y,ie,Se){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ie.containerInfo||Y.stateNode.implementation!==ie.implementation?(Y=b0(ie,ne.mode,Se),Y.return=ne,Y):(Y=b(Y,ie.children||[]),Y.return=ne,Y)}function we(ne,Y,ie,Se,Ve){return Y===null||Y.tag!==7?(Y=Cs(ie,ne.mode,Se,Ve),Y.return=ne,Y):(Y=b(Y,ie),Y.return=ne,Y)}function Te(ne,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=x0(""+Y,ne.mode,ie),Y.return=ne,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return ie=Th(Y.type,Y.key,Y.props,null,ne.mode,ie),ie.ref=Oc(ne,null,Y),ie.return=ne,ie;case $:return Y=b0(Y,ne.mode,ie),Y.return=ne,Y;case Q:var Se=Y._init;return Te(ne,Se(Y._payload),ie)}if(lr(Y)||ue(Y))return Y=Cs(Y,ne.mode,ie,null),Y.return=ne,Y;Zd(ne,Y)}return null}function _e(ne,Y,ie,Se){var Ve=Y!==null?Y.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ve!==null?null:z(ne,Y,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:return ie.key===Ve?K(ne,Y,ie,Se):null;case $:return ie.key===Ve?se(ne,Y,ie,Se):null;case Q:return Ve=ie._init,_e(ne,Y,Ve(ie._payload),Se)}if(lr(ie)||ue(ie))return Ve!==null?null:we(ne,Y,ie,Se,null);Zd(ne,ie)}return null}function Re(ne,Y,ie,Se,Ve){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ne=ne.get(ie)||null,z(Y,ne,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case N:return ne=ne.get(Se.key===null?ie:Se.key)||null,K(Y,ne,Se,Ve);case $:return ne=ne.get(Se.key===null?ie:Se.key)||null,se(Y,ne,Se,Ve);case Q:var je=Se._init;return Re(ne,Y,ie,je(Se._payload),Ve)}if(lr(Se)||ue(Se))return ne=ne.get(ie)||null,we(Y,ne,Se,Ve,null);Zd(Y,Se)}return null}function Ae(ne,Y,ie,Se){for(var Ve=null,je=null,ze=Y,He=Y=0,un=null;ze!==null&&He<ie.length;He++){ze.index>He?(un=ze,ze=null):un=ze.sibling;var ft=_e(ne,ze,ie[He],Se);if(ft===null){ze===null&&(ze=un);break}a&&ze&&ft.alternate===null&&l(ne,ze),Y=C(ft,Y,He),je===null?Ve=ft:je.sibling=ft,je=ft,ze=un}if(He===ie.length)return d(ne,ze),At&&_s(ne,He),Ve;if(ze===null){for(;He<ie.length;He++)ze=Te(ne,ie[He],Se),ze!==null&&(Y=C(ze,Y,He),je===null?Ve=ze:je.sibling=ze,je=ze);return At&&_s(ne,He),Ve}for(ze=v(ne,ze);He<ie.length;He++)un=Re(ze,ne,He,ie[He],Se),un!==null&&(a&&un.alternate!==null&&ze.delete(un.key===null?He:un.key),Y=C(un,Y,He),je===null?Ve=un:je.sibling=un,je=un);return a&&ze.forEach(function(va){return l(ne,va)}),At&&_s(ne,He),Ve}function Le(ne,Y,ie,Se){var Ve=ue(ie);if(typeof Ve!="function")throw Error(n(150));if(ie=Ve.call(ie),ie==null)throw Error(n(151));for(var je=Ve=null,ze=Y,He=Y=0,un=null,ft=ie.next();ze!==null&&!ft.done;He++,ft=ie.next()){ze.index>He?(un=ze,ze=null):un=ze.sibling;var va=_e(ne,ze,ft.value,Se);if(va===null){ze===null&&(ze=un);break}a&&ze&&va.alternate===null&&l(ne,ze),Y=C(va,Y,He),je===null?Ve=va:je.sibling=va,je=va,ze=un}if(ft.done)return d(ne,ze),At&&_s(ne,He),Ve;if(ze===null){for(;!ft.done;He++,ft=ie.next())ft=Te(ne,ft.value,Se),ft!==null&&(Y=C(ft,Y,He),je===null?Ve=ft:je.sibling=ft,je=ft);return At&&_s(ne,He),Ve}for(ze=v(ne,ze);!ft.done;He++,ft=ie.next())ft=Re(ze,ne,He,ft.value,Se),ft!==null&&(a&&ft.alternate!==null&&ze.delete(ft.key===null?He:ft.key),Y=C(ft,Y,He),je===null?Ve=ft:je.sibling=ft,je=ft);return a&&ze.forEach(function(qq){return l(ne,qq)}),At&&_s(ne,He),Ve}function Ut(ne,Y,ie,Se){if(typeof ie=="object"&&ie!==null&&ie.type===M&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:e:{for(var Ve=ie.key,je=Y;je!==null;){if(je.key===Ve){if(Ve=ie.type,Ve===M){if(je.tag===7){d(ne,je.sibling),Y=b(je,ie.props.children),Y.return=ne,ne=Y;break e}}else if(je.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Q&&UT(Ve)===je.type){d(ne,je.sibling),Y=b(je,ie.props),Y.ref=Oc(ne,je,ie),Y.return=ne,ne=Y;break e}d(ne,je);break}else l(ne,je);je=je.sibling}ie.type===M?(Y=Cs(ie.props.children,ne.mode,Se,ie.key),Y.return=ne,ne=Y):(Se=Th(ie.type,ie.key,ie.props,null,ne.mode,Se),Se.ref=Oc(ne,Y,ie),Se.return=ne,ne=Se)}return q(ne);case $:e:{for(je=ie.key;Y!==null;){if(Y.key===je)if(Y.tag===4&&Y.stateNode.containerInfo===ie.containerInfo&&Y.stateNode.implementation===ie.implementation){d(ne,Y.sibling),Y=b(Y,ie.children||[]),Y.return=ne,ne=Y;break e}else{d(ne,Y);break}else l(ne,Y);Y=Y.sibling}Y=b0(ie,ne.mode,Se),Y.return=ne,ne=Y}return q(ne);case Q:return je=ie._init,Ut(ne,Y,je(ie._payload),Se)}if(lr(ie))return Ae(ne,Y,ie,Se);if(ue(ie))return Le(ne,Y,ie,Se);Zd(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Y!==null&&Y.tag===6?(d(ne,Y.sibling),Y=b(Y,ie),Y.return=ne,ne=Y):(d(ne,Y),Y=x0(ie,ne.mode,Se),Y.return=ne,ne=Y),q(ne)):d(ne,Y)}return Ut}var Wu=jT(!0),zT=jT(!1),eh=aa(null),th=null,Hu=null,My=null;function Ay(){My=Hu=th=null}function Oy(a){var l=eh.current;Pt(eh),a._currentValue=l}function Dy(a,l,d){for(;a!==null;){var v=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),a===d)break;a=a.return}}function Gu(a,l){th=a,My=Hu=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(tr=!0),a.firstContext=null)}function kr(a){var l=a._currentValue;if(My!==a)if(a={context:a,memoizedValue:l,next:null},Hu===null){if(th===null)throw Error(n(308));Hu=a,th.dependencies={lanes:0,firstContext:a}}else Hu=Hu.next=a;return l}var ws=null;function Ny(a){ws===null?ws=[a]:ws.push(a)}function BT(a,l,d,v){var b=l.interleaved;return b===null?(d.next=d,Ny(l)):(d.next=b.next,b.next=d),l.interleaved=d,yo(a,v)}function yo(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var la=!1;function Ly(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WT(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function _o(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ca(a,l,d){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(ct&2)!==0){var b=v.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),v.pending=l,yo(a,d)}return b=v.interleaved,b===null?(l.next=l,Ny(v)):(l.next=b.next,b.next=l),v.interleaved=l,yo(a,d)}function nh(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var v=l.lanes;v&=a.pendingLanes,d|=v,l.lanes=d,Zo(a,d)}}function HT(a,l){var d=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var b=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var q={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};C===null?b=C=q:C=C.next=q,d=d.next}while(d!==null);C===null?b=C=l:C=C.next=l}else b=C=l;d={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:v.shared,effects:v.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function rh(a,l,d,v){var b=a.updateQueue;la=!1;var C=b.firstBaseUpdate,q=b.lastBaseUpdate,z=b.shared.pending;if(z!==null){b.shared.pending=null;var K=z,se=K.next;K.next=null,q===null?C=se:q.next=se,q=K;var we=a.alternate;we!==null&&(we=we.updateQueue,z=we.lastBaseUpdate,z!==q&&(z===null?we.firstBaseUpdate=se:z.next=se,we.lastBaseUpdate=K))}if(C!==null){var Te=b.baseState;q=0,we=se=K=null,z=C;do{var _e=z.lane,Re=z.eventTime;if((v&_e)===_e){we!==null&&(we=we.next={eventTime:Re,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ae=a,Le=z;switch(_e=l,Re=d,Le.tag){case 1:if(Ae=Le.payload,typeof Ae=="function"){Te=Ae.call(Re,Te,_e);break e}Te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Le.payload,_e=typeof Ae=="function"?Ae.call(Re,Te,_e):Ae,_e==null)break e;Te=re({},Te,_e);break e;case 2:la=!0}}z.callback!==null&&z.lane!==0&&(a.flags|=64,_e=b.effects,_e===null?b.effects=[z]:_e.push(z))}else Re={eventTime:Re,lane:_e,tag:z.tag,payload:z.payload,callback:z.callback,next:null},we===null?(se=we=Re,K=Te):we=we.next=Re,q|=_e;if(z=z.next,z===null){if(z=b.shared.pending,z===null)break;_e=z,z=_e.next,_e.next=null,b.lastBaseUpdate=_e,b.shared.pending=null}}while(!0);if(we===null&&(K=Te),b.baseState=K,b.firstBaseUpdate=se,b.lastBaseUpdate=we,l=b.shared.interleaved,l!==null){b=l;do q|=b.lane,b=b.next;while(b!==l)}else C===null&&(b.shared.lanes=0);Ts|=q,a.lanes=q,a.memoizedState=Te}}function GT(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var v=a[l],b=v.callback;if(b!==null){if(v.callback=null,v=d,typeof b!="function")throw Error(n(191,b));b.call(v)}}}var Dc={},ki=aa(Dc),Nc=aa(Dc),Lc=aa(Dc);function xs(a){if(a===Dc)throw Error(n(174));return a}function Vy(a,l){switch(bt(Lc,l),bt(Nc,a),bt(ki,Dc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:vt(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=vt(l,a)}Pt(ki),bt(ki,l)}function Ku(){Pt(ki),Pt(Nc),Pt(Lc)}function KT(a){xs(Lc.current);var l=xs(ki.current),d=vt(l,a.type);l!==d&&(bt(Nc,a),bt(ki,d))}function Fy(a){Nc.current===a&&(Pt(ki),Pt(Nc))}var Nt=aa(0);function ih(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var qy=[];function $y(){for(var a=0;a<qy.length;a++)qy[a]._workInProgressVersionPrimary=null;qy.length=0}var oh=O.ReactCurrentDispatcher,Uy=O.ReactCurrentBatchConfig,bs=0,Lt=null,Jt=null,an=null,ah=!1,Vc=!1,Fc=0,sq=0;function Cn(){throw Error(n(321))}function jy(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Hr(a[d],l[d]))return!1;return!0}function zy(a,l,d,v,b,C){if(bs=C,Lt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,oh.current=a===null||a.memoizedState===null?fq:dq,a=d(v,b),Vc){C=0;do{if(Vc=!1,Fc=0,25<=C)throw Error(n(301));C+=1,an=Jt=null,l.updateQueue=null,oh.current=hq,a=d(v,b)}while(Vc)}if(oh.current=lh,l=Jt!==null&&Jt.next!==null,bs=0,an=Jt=Lt=null,ah=!1,l)throw Error(n(300));return a}function By(){var a=Fc!==0;return Fc=0,a}function Mi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Lt.memoizedState=an=a:an=an.next=a,an}function Mr(){if(Jt===null){var a=Lt.alternate;a=a!==null?a.memoizedState:null}else a=Jt.next;var l=an===null?Lt.memoizedState:an.next;if(l!==null)an=l,Jt=a;else{if(a===null)throw Error(n(310));Jt=a,a={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},an===null?Lt.memoizedState=an=a:an=an.next=a}return an}function qc(a,l){return typeof l=="function"?l(a):l}function Wy(a){var l=Mr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var v=Jt,b=v.baseQueue,C=d.pending;if(C!==null){if(b!==null){var q=b.next;b.next=C.next,C.next=q}v.baseQueue=b=C,d.pending=null}if(b!==null){C=b.next,v=v.baseState;var z=q=null,K=null,se=C;do{var we=se.lane;if((bs&we)===we)K!==null&&(K=K.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),v=se.hasEagerState?se.eagerState:a(v,se.action);else{var Te={lane:we,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};K===null?(z=K=Te,q=v):K=K.next=Te,Lt.lanes|=we,Ts|=we}se=se.next}while(se!==null&&se!==C);K===null?q=v:K.next=z,Hr(v,l.memoizedState)||(tr=!0),l.memoizedState=v,l.baseState=q,l.baseQueue=K,d.lastRenderedState=v}if(a=d.interleaved,a!==null){b=a;do C=b.lane,Lt.lanes|=C,Ts|=C,b=b.next;while(b!==a)}else b===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Hy(a){var l=Mr(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var v=d.dispatch,b=d.pending,C=l.memoizedState;if(b!==null){d.pending=null;var q=b=b.next;do C=a(C,q.action),q=q.next;while(q!==b);Hr(C,l.memoizedState)||(tr=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,v]}function YT(){}function QT(a,l){var d=Lt,v=Mr(),b=l(),C=!Hr(v.memoizedState,b);if(C&&(v.memoizedState=b,tr=!0),v=v.queue,Gy(ZT.bind(null,d,v,a),[a]),v.getSnapshot!==l||C||an!==null&&an.memoizedState.tag&1){if(d.flags|=2048,$c(9,JT.bind(null,d,v,b,l),void 0,null),sn===null)throw Error(n(349));(bs&30)!==0||XT(d,l,b)}return b}function XT(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Lt.updateQueue,l===null?(l={lastEffect:null,stores:null},Lt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function JT(a,l,d,v){l.value=d,l.getSnapshot=v,eE(l)&&tE(a)}function ZT(a,l,d){return d(function(){eE(l)&&tE(a)})}function eE(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Hr(a,d)}catch{return!0}}function tE(a){var l=yo(a,1);l!==null&&Xr(l,a,1,-1)}function nE(a){var l=Mi();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qc,lastRenderedState:a},l.queue=a,a=a.dispatch=cq.bind(null,Lt,a),[l.memoizedState,a]}function $c(a,l,d,v){return a={tag:a,create:l,destroy:d,deps:v,next:null},l=Lt.updateQueue,l===null?(l={lastEffect:null,stores:null},Lt.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(v=d.next,d.next=a,a.next=v,l.lastEffect=a)),a}function rE(){return Mr().memoizedState}function sh(a,l,d,v){var b=Mi();Lt.flags|=a,b.memoizedState=$c(1|l,d,void 0,v===void 0?null:v)}function uh(a,l,d,v){var b=Mr();v=v===void 0?null:v;var C=void 0;if(Jt!==null){var q=Jt.memoizedState;if(C=q.destroy,v!==null&&jy(v,q.deps)){b.memoizedState=$c(l,d,C,v);return}}Lt.flags|=a,b.memoizedState=$c(1|l,d,C,v)}function iE(a,l){return sh(8390656,8,a,l)}function Gy(a,l){return uh(2048,8,a,l)}function oE(a,l){return uh(4,2,a,l)}function aE(a,l){return uh(4,4,a,l)}function sE(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function uE(a,l,d){return d=d!=null?d.concat([a]):null,uh(4,4,sE.bind(null,l,a),d)}function Ky(){}function lE(a,l){var d=Mr();l=l===void 0?null:l;var v=d.memoizedState;return v!==null&&l!==null&&jy(l,v[1])?v[0]:(d.memoizedState=[a,l],a)}function cE(a,l){var d=Mr();l=l===void 0?null:l;var v=d.memoizedState;return v!==null&&l!==null&&jy(l,v[1])?v[0]:(a=a(),d.memoizedState=[a,l],a)}function fE(a,l,d){return(bs&21)===0?(a.baseState&&(a.baseState=!1,tr=!0),a.memoizedState=d):(Hr(d,l)||(d=$t(),Lt.lanes|=d,Ts|=d,a.baseState=!0),l)}function uq(a,l){var d=st;st=d!==0&&4>d?d:4,a(!0);var v=Uy.transition;Uy.transition={};try{a(!1),l()}finally{st=d,Uy.transition=v}}function dE(){return Mr().memoizedState}function lq(a,l,d){var v=pa(a);if(d={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null},hE(a))pE(l,d);else if(d=BT(a,l,d,v),d!==null){var b=zn();Xr(d,a,v,b),mE(d,l,v)}}function cq(a,l,d){var v=pa(a),b={lane:v,action:d,hasEagerState:!1,eagerState:null,next:null};if(hE(a))pE(l,b);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var q=l.lastRenderedState,z=C(q,d);if(b.hasEagerState=!0,b.eagerState=z,Hr(z,q)){var K=l.interleaved;K===null?(b.next=b,Ny(l)):(b.next=K.next,K.next=b),l.interleaved=b;return}}catch{}finally{}d=BT(a,l,b,v),d!==null&&(b=zn(),Xr(d,a,v,b),mE(d,l,v))}}function hE(a){var l=a.alternate;return a===Lt||l!==null&&l===Lt}function pE(a,l){Vc=ah=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function mE(a,l,d){if((d&4194240)!==0){var v=l.lanes;v&=a.pendingLanes,d|=v,l.lanes=d,Zo(a,d)}}var lh={readContext:kr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},fq={readContext:kr,useCallback:function(a,l){return Mi().memoizedState=[a,l===void 0?null:l],a},useContext:kr,useEffect:iE,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,sh(4194308,4,sE.bind(null,l,a),d)},useLayoutEffect:function(a,l){return sh(4194308,4,a,l)},useInsertionEffect:function(a,l){return sh(4,2,a,l)},useMemo:function(a,l){var d=Mi();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var v=Mi();return l=d!==void 0?d(l):l,v.memoizedState=v.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},v.queue=a,a=a.dispatch=lq.bind(null,Lt,a),[v.memoizedState,a]},useRef:function(a){var l=Mi();return a={current:a},l.memoizedState=a},useState:nE,useDebugValue:Ky,useDeferredValue:function(a){return Mi().memoizedState=a},useTransition:function(){var a=nE(!1),l=a[0];return a=uq.bind(null,a[1]),Mi().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var v=Lt,b=Mi();if(At){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),sn===null)throw Error(n(349));(bs&30)!==0||XT(v,l,d)}b.memoizedState=d;var C={value:d,getSnapshot:l};return b.queue=C,iE(ZT.bind(null,v,C,a),[a]),v.flags|=2048,$c(9,JT.bind(null,v,C,d,l),void 0,null),d},useId:function(){var a=Mi(),l=sn.identifierPrefix;if(At){var d=vo,v=go;d=(v&~(1<<32-pn(v)-1)).toString(32)+d,l=":"+l+"R"+d,d=Fc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=sq++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},dq={readContext:kr,useCallback:lE,useContext:kr,useEffect:Gy,useImperativeHandle:uE,useInsertionEffect:oE,useLayoutEffect:aE,useMemo:cE,useReducer:Wy,useRef:rE,useState:function(){return Wy(qc)},useDebugValue:Ky,useDeferredValue:function(a){var l=Mr();return fE(l,Jt.memoizedState,a)},useTransition:function(){var a=Wy(qc)[0],l=Mr().memoizedState;return[a,l]},useMutableSource:YT,useSyncExternalStore:QT,useId:dE,unstable_isNewReconciler:!1},hq={readContext:kr,useCallback:lE,useContext:kr,useEffect:Gy,useImperativeHandle:uE,useInsertionEffect:oE,useLayoutEffect:aE,useMemo:cE,useReducer:Hy,useRef:rE,useState:function(){return Hy(qc)},useDebugValue:Ky,useDeferredValue:function(a){var l=Mr();return Jt===null?l.memoizedState=a:fE(l,Jt.memoizedState,a)},useTransition:function(){var a=Hy(qc)[0],l=Mr().memoizedState;return[a,l]},useMutableSource:YT,useSyncExternalStore:QT,useId:dE,unstable_isNewReconciler:!1};function Kr(a,l){if(a&&a.defaultProps){l=re({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function Yy(a,l,d,v){l=a.memoizedState,d=d(v,l),d=d==null?l:re({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var ch={isMounted:function(a){return(a=a._reactInternals)?hr(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var v=zn(),b=pa(a),C=_o(v,b);C.payload=l,d!=null&&(C.callback=d),l=ca(a,C,b),l!==null&&(Xr(l,a,b,v),nh(l,a,b))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var v=zn(),b=pa(a),C=_o(v,b);C.tag=1,C.payload=l,d!=null&&(C.callback=d),l=ca(a,C,b),l!==null&&(Xr(l,a,b,v),nh(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=zn(),v=pa(a),b=_o(d,v);b.tag=2,l!=null&&(b.callback=l),l=ca(a,b,v),l!==null&&(Xr(l,a,v,d),nh(l,a,v))}};function gE(a,l,d,v,b,C,q){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,C,q):l.prototype&&l.prototype.isPureReactComponent?!Pc(d,v)||!Pc(b,C):!0}function vE(a,l,d){var v=!1,b=sa,C=l.contextType;return typeof C=="object"&&C!==null?C=kr(C):(b=er(l)?vs:Pn.current,v=l.contextTypes,C=(v=v!=null)?Uu(a,b):sa),l=new l(d,C),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ch,a.stateNode=l,l._reactInternals=a,v&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=C),l}function yE(a,l,d,v){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,v),l.state!==a&&ch.enqueueReplaceState(l,l.state,null)}function Qy(a,l,d,v){var b=a.stateNode;b.props=d,b.state=a.memoizedState,b.refs={},Ly(a);var C=l.contextType;typeof C=="object"&&C!==null?b.context=kr(C):(C=er(l)?vs:Pn.current,b.context=Uu(a,C)),b.state=a.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Yy(a,l,C,d),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&ch.enqueueReplaceState(b,b.state,null),rh(a,d,b,v),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Yu(a,l){try{var d="",v=l;do d+=te(v),v=v.return;while(v);var b=d}catch(C){b=`
Error generating stack: `+C.message+`
`+C.stack}return{value:a,source:l,stack:b,digest:null}}function Xy(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function Jy(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var pq=typeof WeakMap=="function"?WeakMap:Map;function _E(a,l,d){d=_o(-1,d),d.tag=3,d.payload={element:null};var v=l.value;return d.callback=function(){vh||(vh=!0,h0=v),Jy(a,l)},d}function wE(a,l,d){d=_o(-1,d),d.tag=3;var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var b=l.value;d.payload=function(){return v(b)},d.callback=function(){Jy(a,l)}}var C=a.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(d.callback=function(){Jy(a,l),typeof v!="function"&&(da===null?da=new Set([this]):da.add(this));var q=l.stack;this.componentDidCatch(l.value,{componentStack:q!==null?q:""})}),d}function xE(a,l,d){var v=a.pingCache;if(v===null){v=a.pingCache=new pq;var b=new Set;v.set(l,b)}else b=v.get(l),b===void 0&&(b=new Set,v.set(l,b));b.has(d)||(b.add(d),a=Rq.bind(null,a,l,d),l.then(a,a))}function bE(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function TE(a,l,d,v,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=_o(-1,1),l.tag=2,ca(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var mq=O.ReactCurrentOwner,tr=!1;function jn(a,l,d,v){l.child=a===null?zT(l,null,d,v):Wu(l,a.child,d,v)}function EE(a,l,d,v,b){d=d.render;var C=l.ref;return Gu(l,b),v=zy(a,l,d,v,C,b),d=By(),a!==null&&!tr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,wo(a,l,b)):(At&&d&&Py(l),l.flags|=1,jn(a,l,v,b),l.child)}function SE(a,l,d,v,b){if(a===null){var C=d.type;return typeof C=="function"&&!w0(C)&&C.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=C,PE(a,l,C,v,b)):(a=Th(d.type,null,v,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(C=a.child,(a.lanes&b)===0){var q=C.memoizedProps;if(d=d.compare,d=d!==null?d:Pc,d(q,v)&&a.ref===l.ref)return wo(a,l,b)}return l.flags|=1,a=ga(C,v),a.ref=l.ref,a.return=l,l.child=a}function PE(a,l,d,v,b){if(a!==null){var C=a.memoizedProps;if(Pc(C,v)&&a.ref===l.ref)if(tr=!1,l.pendingProps=v=C,(a.lanes&b)!==0)(a.flags&131072)!==0&&(tr=!0);else return l.lanes=a.lanes,wo(a,l,b)}return Zy(a,l,d,v,b)}function CE(a,l,d){var v=l.pendingProps,b=v.children,C=a!==null?a.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Xu,yr),yr|=d;else{if((d&1073741824)===0)return a=C!==null?C.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,bt(Xu,yr),yr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=C!==null?C.baseLanes:d,bt(Xu,yr),yr|=v}else C!==null?(v=C.baseLanes|d,l.memoizedState=null):v=d,bt(Xu,yr),yr|=v;return jn(a,l,b,d),l.child}function RE(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Zy(a,l,d,v,b){var C=er(d)?vs:Pn.current;return C=Uu(l,C),Gu(l,b),d=zy(a,l,d,v,C,b),v=By(),a!==null&&!tr?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,wo(a,l,b)):(At&&v&&Py(l),l.flags|=1,jn(a,l,d,b),l.child)}function IE(a,l,d,v,b){if(er(d)){var C=!0;Kd(l)}else C=!1;if(Gu(l,b),l.stateNode===null)dh(a,l),vE(l,d,v),Qy(l,d,v,b),v=!0;else if(a===null){var q=l.stateNode,z=l.memoizedProps;q.props=z;var K=q.context,se=d.contextType;typeof se=="object"&&se!==null?se=kr(se):(se=er(d)?vs:Pn.current,se=Uu(l,se));var we=d.getDerivedStateFromProps,Te=typeof we=="function"||typeof q.getSnapshotBeforeUpdate=="function";Te||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(z!==v||K!==se)&&yE(l,q,v,se),la=!1;var _e=l.memoizedState;q.state=_e,rh(l,v,q,b),K=l.memoizedState,z!==v||_e!==K||Zn.current||la?(typeof we=="function"&&(Yy(l,d,we,v),K=l.memoizedState),(z=la||gE(l,d,z,v,_e,K,se))?(Te||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(l.flags|=4194308)):(typeof q.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=K),q.props=v,q.state=K,q.context=se,v=z):(typeof q.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{q=l.stateNode,WT(a,l),z=l.memoizedProps,se=l.type===l.elementType?z:Kr(l.type,z),q.props=se,Te=l.pendingProps,_e=q.context,K=d.contextType,typeof K=="object"&&K!==null?K=kr(K):(K=er(d)?vs:Pn.current,K=Uu(l,K));var Re=d.getDerivedStateFromProps;(we=typeof Re=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(z!==Te||_e!==K)&&yE(l,q,v,K),la=!1,_e=l.memoizedState,q.state=_e,rh(l,v,q,b);var Ae=l.memoizedState;z!==Te||_e!==Ae||Zn.current||la?(typeof Re=="function"&&(Yy(l,d,Re,v),Ae=l.memoizedState),(se=la||gE(l,d,se,v,_e,Ae,K)||!1)?(we||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(v,Ae,K),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(v,Ae,K)),typeof q.componentDidUpdate=="function"&&(l.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof q.componentDidUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(l.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Ae),q.props=v,q.state=Ae,q.context=K,v=se):(typeof q.componentDidUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(l.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||z===a.memoizedProps&&_e===a.memoizedState||(l.flags|=1024),v=!1)}return e0(a,l,d,v,C,b)}function e0(a,l,d,v,b,C){RE(a,l);var q=(l.flags&128)!==0;if(!v&&!q)return b&&DT(l,d,!1),wo(a,l,C);v=l.stateNode,mq.current=l;var z=q&&typeof d.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,a!==null&&q?(l.child=Wu(l,a.child,null,C),l.child=Wu(l,null,z,C)):jn(a,l,z,C),l.memoizedState=v.state,b&&DT(l,d,!0),l.child}function kE(a){var l=a.stateNode;l.pendingContext?AT(a,l.pendingContext,l.pendingContext!==l.context):l.context&&AT(a,l.context,!1),Vy(a,l.containerInfo)}function ME(a,l,d,v,b){return Bu(),ky(b),l.flags|=256,jn(a,l,d,v),l.child}var t0={dehydrated:null,treeContext:null,retryLane:0};function n0(a){return{baseLanes:a,cachePool:null,transitions:null}}function AE(a,l,d){var v=l.pendingProps,b=Nt.current,C=!1,q=(l.flags&128)!==0,z;if((z=q)||(z=a!==null&&a.memoizedState===null?!1:(b&2)!==0),z?(C=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),bt(Nt,b&1),a===null)return Iy(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(q=v.children,a=v.fallback,C?(v=l.mode,C=l.child,q={mode:"hidden",children:q},(v&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=q):C=Eh(q,v,0,null),a=Cs(a,v,d,null),C.return=l,a.return=l,C.sibling=a,l.child=C,l.child.memoizedState=n0(d),l.memoizedState=t0,a):r0(l,q));if(b=a.memoizedState,b!==null&&(z=b.dehydrated,z!==null))return gq(a,l,q,v,z,b,d);if(C){C=v.fallback,q=l.mode,b=a.child,z=b.sibling;var K={mode:"hidden",children:v.children};return(q&1)===0&&l.child!==b?(v=l.child,v.childLanes=0,v.pendingProps=K,l.deletions=null):(v=ga(b,K),v.subtreeFlags=b.subtreeFlags&14680064),z!==null?C=ga(z,C):(C=Cs(C,q,d,null),C.flags|=2),C.return=l,v.return=l,v.sibling=C,l.child=v,v=C,C=l.child,q=a.child.memoizedState,q=q===null?n0(d):{baseLanes:q.baseLanes|d,cachePool:null,transitions:q.transitions},C.memoizedState=q,C.childLanes=a.childLanes&~d,l.memoizedState=t0,v}return C=a.child,a=C.sibling,v=ga(C,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=d),v.return=l,v.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=v,l.memoizedState=null,v}function r0(a,l){return l=Eh({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function fh(a,l,d,v){return v!==null&&ky(v),Wu(l,a.child,null,d),a=r0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function gq(a,l,d,v,b,C,q){if(d)return l.flags&256?(l.flags&=-257,v=Xy(Error(n(422))),fh(a,l,q,v)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(C=v.fallback,b=l.mode,v=Eh({mode:"visible",children:v.children},b,0,null),C=Cs(C,b,q,null),C.flags|=2,v.return=l,C.return=l,v.sibling=C,l.child=v,(l.mode&1)!==0&&Wu(l,a.child,null,q),l.child.memoizedState=n0(q),l.memoizedState=t0,C);if((l.mode&1)===0)return fh(a,l,q,null);if(b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var z=v.dgst;return v=z,C=Error(n(419)),v=Xy(C,v,void 0),fh(a,l,q,v)}if(z=(q&a.childLanes)!==0,tr||z){if(v=sn,v!==null){switch(q&-q){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(v.suspendedLanes|q))!==0?0:b,b!==0&&b!==C.retryLane&&(C.retryLane=b,yo(a,b),Xr(v,a,b,-1))}return _0(),v=Xy(Error(n(421))),fh(a,l,q,v)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=Iq.bind(null,a),b._reactRetry=l,null):(a=C.treeContext,vr=oa(b.nextSibling),gr=l,At=!0,Gr=null,a!==null&&(Rr[Ir++]=go,Rr[Ir++]=vo,Rr[Ir++]=ys,go=a.id,vo=a.overflow,ys=l),l=r0(l,v.children),l.flags|=4096,l)}function OE(a,l,d){a.lanes|=l;var v=a.alternate;v!==null&&(v.lanes|=l),Dy(a.return,l,d)}function i0(a,l,d,v,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=v,C.tail=d,C.tailMode=b)}function DE(a,l,d){var v=l.pendingProps,b=v.revealOrder,C=v.tail;if(jn(a,l,v.children,d),v=Nt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&OE(a,d,l);else if(a.tag===19)OE(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}if(bt(Nt,v),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(d=l.child,b=null;d!==null;)a=d.alternate,a!==null&&ih(a)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),i0(l,!1,b,d,C);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&ih(a)===null){l.child=b;break}a=b.sibling,b.sibling=d,d=b,b=a}i0(l,!0,d,null,C);break;case"together":i0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function dh(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function wo(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Ts|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,d=ga(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=ga(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function vq(a,l,d){switch(l.tag){case 3:kE(l),Bu();break;case 5:KT(l);break;case 1:er(l.type)&&Kd(l);break;case 4:Vy(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,b=l.memoizedProps.value;bt(eh,v._currentValue),v._currentValue=b;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(bt(Nt,Nt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?AE(a,l,d):(bt(Nt,Nt.current&1),a=wo(a,l,d),a!==null?a.sibling:null);bt(Nt,Nt.current&1);break;case 19:if(v=(d&l.childLanes)!==0,(a.flags&128)!==0){if(v)return DE(a,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),bt(Nt,Nt.current),v)break;return null;case 22:case 23:return l.lanes=0,CE(a,l,d)}return wo(a,l,d)}var NE,o0,LE,VE;NE=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},o0=function(){},LE=function(a,l,d,v){var b=a.memoizedProps;if(b!==v){a=l.stateNode,xs(ki.current);var C=null;switch(d){case"input":b=Be(a,b),v=Be(a,v),C=[];break;case"select":b=re({},b,{value:void 0}),v=re({},v,{value:void 0}),C=[];break;case"textarea":b=qe(a,b),v=qe(a,v),C=[];break;default:typeof b.onClick!="function"&&typeof v.onClick=="function"&&(a.onclick=Wd)}os(d,v);var q;d=null;for(se in b)if(!v.hasOwnProperty(se)&&b.hasOwnProperty(se)&&b[se]!=null)if(se==="style"){var z=b[se];for(q in z)z.hasOwnProperty(q)&&(d||(d={}),d[q]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?C||(C=[]):(C=C||[]).push(se,null));for(se in v){var K=v[se];if(z=b!=null?b[se]:void 0,v.hasOwnProperty(se)&&K!==z&&(K!=null||z!=null))if(se==="style")if(z){for(q in z)!z.hasOwnProperty(q)||K&&K.hasOwnProperty(q)||(d||(d={}),d[q]="");for(q in K)K.hasOwnProperty(q)&&z[q]!==K[q]&&(d||(d={}),d[q]=K[q])}else d||(C||(C=[]),C.push(se,d)),d=K;else se==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,z=z?z.__html:void 0,K!=null&&z!==K&&(C=C||[]).push(se,K)):se==="children"?typeof K!="string"&&typeof K!="number"||(C=C||[]).push(se,""+K):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(K!=null&&se==="onScroll"&&St("scroll",a),C||z===K||(C=[])):(C=C||[]).push(se,K))}d&&(C=C||[]).push("style",d);var se=C;(l.updateQueue=se)&&(l.flags|=4)}},VE=function(a,l,d,v){d!==v&&(l.flags|=4)};function Uc(a,l){if(!At)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Rn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,v=0;if(l)for(var b=a.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags&14680064,v|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)d|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=v,a.childLanes=d,l}function yq(a,l,d){var v=l.pendingProps;switch(Cy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(l),null;case 1:return er(l.type)&&Gd(),Rn(l),null;case 3:return v=l.stateNode,Ku(),Pt(Zn),Pt(Pn),$y(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(a===null||a.child===null)&&(Jd(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gr!==null&&(g0(Gr),Gr=null))),o0(a,l),Rn(l),null;case 5:Fy(l);var b=xs(Lc.current);if(d=l.type,a!==null&&l.stateNode!=null)LE(a,l,d,v,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(n(166));return Rn(l),null}if(a=xs(ki.current),Jd(l)){v=l.stateNode,d=l.type;var C=l.memoizedProps;switch(v[Ii]=l,v[Mc]=C,a=(l.mode&1)!==0,d){case"dialog":St("cancel",v),St("close",v);break;case"iframe":case"object":case"embed":St("load",v);break;case"video":case"audio":for(b=0;b<Rc.length;b++)St(Rc[b],v);break;case"source":St("error",v);break;case"img":case"image":case"link":St("error",v),St("load",v);break;case"details":St("toggle",v);break;case"input":ht(v,C),St("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!C.multiple},St("invalid",v);break;case"textarea":qr(v,C),St("invalid",v)}os(d,C),b=null;for(var q in C)if(C.hasOwnProperty(q)){var z=C[q];q==="children"?typeof z=="string"?v.textContent!==z&&(C.suppressHydrationWarning!==!0&&Bd(v.textContent,z,a),b=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(C.suppressHydrationWarning!==!0&&Bd(v.textContent,z,a),b=["children",""+z]):i.hasOwnProperty(q)&&z!=null&&q==="onScroll"&&St("scroll",v)}switch(d){case"input":be(v),ur(v,C,!0);break;case"textarea":be(v),pt(v);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(v.onclick=Wd)}v=b,l.updateQueue=v,v!==null&&(l.flags|=4)}else{q=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Et(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=q.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof v.is=="string"?a=q.createElement(d,{is:v.is}):(a=q.createElement(d),d==="select"&&(q=a,v.multiple?q.multiple=!0:v.size&&(q.size=v.size))):a=q.createElementNS(a,d),a[Ii]=l,a[Mc]=v,NE(a,l,!1,!1),l.stateNode=a;e:{switch(q=Ko(d,v),d){case"dialog":St("cancel",a),St("close",a),b=v;break;case"iframe":case"object":case"embed":St("load",a),b=v;break;case"video":case"audio":for(b=0;b<Rc.length;b++)St(Rc[b],a);b=v;break;case"source":St("error",a),b=v;break;case"img":case"image":case"link":St("error",a),St("load",a),b=v;break;case"details":St("toggle",a),b=v;break;case"input":ht(a,v),b=Be(a,v),St("invalid",a);break;case"option":b=v;break;case"select":a._wrapperState={wasMultiple:!!v.multiple},b=re({},v,{value:void 0}),St("invalid",a);break;case"textarea":qr(a,v),b=qe(a,v),St("invalid",a);break;default:b=v}os(d,b),z=b;for(C in z)if(z.hasOwnProperty(C)){var K=z[C];C==="style"?rs(a,K):C==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&to(a,K)):C==="children"?typeof K=="string"?(d!=="textarea"||K!=="")&&hn(a,K):typeof K=="number"&&hn(a,""+K):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(i.hasOwnProperty(C)?K!=null&&C==="onScroll"&&St("scroll",a):K!=null&&S(a,C,K,q))}switch(d){case"input":be(a),ur(a,v,!1);break;case"textarea":be(a),pt(a);break;case"option":v.value!=null&&a.setAttribute("value",""+Pe(v.value));break;case"select":a.multiple=!!v.multiple,C=v.value,C!=null?Fn(a,!!v.multiple,C,!1):v.defaultValue!=null&&Fn(a,!!v.multiple,v.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Wd)}switch(d){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Rn(l),null;case 6:if(a&&l.stateNode!=null)VE(a,l,a.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(n(166));if(d=xs(Lc.current),xs(ki.current),Jd(l)){if(v=l.stateNode,d=l.memoizedProps,v[Ii]=l,(C=v.nodeValue!==d)&&(a=gr,a!==null))switch(a.tag){case 3:Bd(v.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Bd(v.nodeValue,d,(a.mode&1)!==0)}C&&(l.flags|=4)}else v=(d.nodeType===9?d:d.ownerDocument).createTextNode(v),v[Ii]=l,l.stateNode=v}return Rn(l),null;case 13:if(Pt(Nt),v=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(At&&vr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)$T(),Bu(),l.flags|=98560,C=!1;else if(C=Jd(l),v!==null&&v.dehydrated!==null){if(a===null){if(!C)throw Error(n(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(n(317));C[Ii]=l}else Bu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rn(l),C=!1}else Gr!==null&&(g0(Gr),Gr=null),C=!0;if(!C)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(v=v!==null,v!==(a!==null&&a.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Nt.current&1)!==0?Zt===0&&(Zt=3):_0())),l.updateQueue!==null&&(l.flags|=4),Rn(l),null);case 4:return Ku(),o0(a,l),a===null&&Ic(l.stateNode.containerInfo),Rn(l),null;case 10:return Oy(l.type._context),Rn(l),null;case 17:return er(l.type)&&Gd(),Rn(l),null;case 19:if(Pt(Nt),C=l.memoizedState,C===null)return Rn(l),null;if(v=(l.flags&128)!==0,q=C.rendering,q===null)if(v)Uc(C,!1);else{if(Zt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(q=ih(a),q!==null){for(l.flags|=128,Uc(C,!1),v=q.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=d,d=l.child;d!==null;)C=d,a=v,C.flags&=14680066,q=C.alternate,q===null?(C.childLanes=0,C.lanes=a,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=q.childLanes,C.lanes=q.lanes,C.child=q.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=q.memoizedProps,C.memoizedState=q.memoizedState,C.updateQueue=q.updateQueue,C.type=q.type,a=q.dependencies,C.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return bt(Nt,Nt.current&1|2),l.child}a=a.sibling}C.tail!==null&&_t()>Ju&&(l.flags|=128,v=!0,Uc(C,!1),l.lanes=4194304)}else{if(!v)if(a=ih(q),a!==null){if(l.flags|=128,v=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Uc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!q.alternate&&!At)return Rn(l),null}else 2*_t()-C.renderingStartTime>Ju&&d!==1073741824&&(l.flags|=128,v=!0,Uc(C,!1),l.lanes=4194304);C.isBackwards?(q.sibling=l.child,l.child=q):(d=C.last,d!==null?d.sibling=q:l.child=q,C.last=q)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=_t(),l.sibling=null,d=Nt.current,bt(Nt,v?d&1|2:d&1),l):(Rn(l),null);case 22:case 23:return y0(),v=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(yr&1073741824)!==0&&(Rn(l),l.subtreeFlags&6&&(l.flags|=8192)):Rn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function _q(a,l){switch(Cy(l),l.tag){case 1:return er(l.type)&&Gd(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ku(),Pt(Zn),Pt(Pn),$y(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Fy(l),null;case 13:if(Pt(Nt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Bu()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Pt(Nt),null;case 4:return Ku(),null;case 10:return Oy(l.type._context),null;case 22:case 23:return y0(),null;case 24:return null;default:return null}}var hh=!1,In=!1,wq=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Qu(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(v){Ft(a,l,v)}else d.current=null}function a0(a,l,d){try{d()}catch(v){Ft(a,l,v)}}var FE=!1;function xq(a,l){if(yy=na,a=gT(),cy(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var b=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var q=0,z=-1,K=-1,se=0,we=0,Te=a,_e=null;t:for(;;){for(var Re;Te!==d||b!==0&&Te.nodeType!==3||(z=q+b),Te!==C||v!==0&&Te.nodeType!==3||(K=q+v),Te.nodeType===3&&(q+=Te.nodeValue.length),(Re=Te.firstChild)!==null;)_e=Te,Te=Re;for(;;){if(Te===a)break t;if(_e===d&&++se===b&&(z=q),_e===C&&++we===v&&(K=q),(Re=Te.nextSibling)!==null)break;Te=_e,_e=Te.parentNode}Te=Re}d=z===-1||K===-1?null:{start:z,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(_y={focusedElem:a,selectionRange:d},na=!1,Me=l;Me!==null;)if(l=Me,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Me=a;else for(;Me!==null;){l=Me;try{var Ae=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Le=Ae.memoizedProps,Ut=Ae.memoizedState,ne=l.stateNode,Y=ne.getSnapshotBeforeUpdate(l.elementType===l.type?Le:Kr(l.type,Le),Ut);ne.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ie=l.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Ft(l,l.return,Se)}if(a=l.sibling,a!==null){a.return=l.return,Me=a;break}Me=l.return}return Ae=FE,FE=!1,Ae}function jc(a,l,d){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&a)===a){var C=b.destroy;b.destroy=void 0,C!==void 0&&a0(l,d,C)}b=b.next}while(b!==v)}}function ph(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var v=d.create;d.destroy=v()}d=d.next}while(d!==l)}}function s0(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function qE(a){var l=a.alternate;l!==null&&(a.alternate=null,qE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Ii],delete l[Mc],delete l[Ty],delete l[rq],delete l[iq])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function $E(a){return a.tag===5||a.tag===3||a.tag===4}function UE(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$E(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function u0(a,l,d){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Wd));else if(v!==4&&(a=a.child,a!==null))for(u0(a,l,d),a=a.sibling;a!==null;)u0(a,l,d),a=a.sibling}function l0(a,l,d){var v=a.tag;if(v===5||v===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(v!==4&&(a=a.child,a!==null))for(l0(a,l,d),a=a.sibling;a!==null;)l0(a,l,d),a=a.sibling}var vn=null,Yr=!1;function fa(a,l,d){for(d=d.child;d!==null;)jE(a,l,d),d=d.sibling}function jE(a,l,d){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(uo,d)}catch{}switch(d.tag){case 5:In||Qu(d,l);case 6:var v=vn,b=Yr;vn=null,fa(a,l,d),vn=v,Yr=b,vn!==null&&(Yr?(a=vn,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):vn.removeChild(d.stateNode));break;case 18:vn!==null&&(Yr?(a=vn,d=d.stateNode,a.nodeType===8?by(a.parentNode,d):a.nodeType===1&&by(a,d),Br(a)):by(vn,d.stateNode));break;case 4:v=vn,b=Yr,vn=d.stateNode.containerInfo,Yr=!0,fa(a,l,d),vn=v,Yr=b;break;case 0:case 11:case 14:case 15:if(!In&&(v=d.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){b=v=v.next;do{var C=b,q=C.destroy;C=C.tag,q!==void 0&&((C&2)!==0||(C&4)!==0)&&a0(d,l,q),b=b.next}while(b!==v)}fa(a,l,d);break;case 1:if(!In&&(Qu(d,l),v=d.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=d.memoizedProps,v.state=d.memoizedState,v.componentWillUnmount()}catch(z){Ft(d,l,z)}fa(a,l,d);break;case 21:fa(a,l,d);break;case 22:d.mode&1?(In=(v=In)||d.memoizedState!==null,fa(a,l,d),In=v):fa(a,l,d);break;default:fa(a,l,d)}}function zE(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new wq),l.forEach(function(v){var b=kq.bind(null,a,v);d.has(v)||(d.add(v),v.then(b,b))})}}function Qr(a,l){var d=l.deletions;if(d!==null)for(var v=0;v<d.length;v++){var b=d[v];try{var C=a,q=l,z=q;e:for(;z!==null;){switch(z.tag){case 5:vn=z.stateNode,Yr=!1;break e;case 3:vn=z.stateNode.containerInfo,Yr=!0;break e;case 4:vn=z.stateNode.containerInfo,Yr=!0;break e}z=z.return}if(vn===null)throw Error(n(160));jE(C,q,b),vn=null,Yr=!1;var K=b.alternate;K!==null&&(K.return=null),b.return=null}catch(se){Ft(b,l,se)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)BE(l,a),l=l.sibling}function BE(a,l){var d=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Qr(l,a),Ai(a),v&4){try{jc(3,a,a.return),ph(3,a)}catch(Le){Ft(a,a.return,Le)}try{jc(5,a,a.return)}catch(Le){Ft(a,a.return,Le)}}break;case 1:Qr(l,a),Ai(a),v&512&&d!==null&&Qu(d,d.return);break;case 5:if(Qr(l,a),Ai(a),v&512&&d!==null&&Qu(d,d.return),a.flags&32){var b=a.stateNode;try{hn(b,"")}catch(Le){Ft(a,a.return,Le)}}if(v&4&&(b=a.stateNode,b!=null)){var C=a.memoizedProps,q=d!==null?d.memoizedProps:C,z=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{z==="input"&&C.type==="radio"&&C.name!=null&&gt(b,C),Ko(z,q);var se=Ko(z,C);for(q=0;q<K.length;q+=2){var we=K[q],Te=K[q+1];we==="style"?rs(b,Te):we==="dangerouslySetInnerHTML"?to(b,Te):we==="children"?hn(b,Te):S(b,we,Te,se)}switch(z){case"input":kt(b,C);break;case"textarea":qn(b,C);break;case"select":var _e=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!C.multiple;var Re=C.value;Re!=null?Fn(b,!!C.multiple,Re,!1):_e!==!!C.multiple&&(C.defaultValue!=null?Fn(b,!!C.multiple,C.defaultValue,!0):Fn(b,!!C.multiple,C.multiple?[]:"",!1))}b[Mc]=C}catch(Le){Ft(a,a.return,Le)}}break;case 6:if(Qr(l,a),Ai(a),v&4){if(a.stateNode===null)throw Error(n(162));b=a.stateNode,C=a.memoizedProps;try{b.nodeValue=C}catch(Le){Ft(a,a.return,Le)}}break;case 3:if(Qr(l,a),Ai(a),v&4&&d!==null&&d.memoizedState.isDehydrated)try{Br(l.containerInfo)}catch(Le){Ft(a,a.return,Le)}break;case 4:Qr(l,a),Ai(a);break;case 13:Qr(l,a),Ai(a),b=a.child,b.flags&8192&&(C=b.memoizedState!==null,b.stateNode.isHidden=C,!C||b.alternate!==null&&b.alternate.memoizedState!==null||(d0=_t())),v&4&&zE(a);break;case 22:if(we=d!==null&&d.memoizedState!==null,a.mode&1?(In=(se=In)||we,Qr(l,a),In=se):Qr(l,a),Ai(a),v&8192){if(se=a.memoizedState!==null,(a.stateNode.isHidden=se)&&!we&&(a.mode&1)!==0)for(Me=a,we=a.child;we!==null;){for(Te=Me=we;Me!==null;){switch(_e=Me,Re=_e.child,_e.tag){case 0:case 11:case 14:case 15:jc(4,_e,_e.return);break;case 1:Qu(_e,_e.return);var Ae=_e.stateNode;if(typeof Ae.componentWillUnmount=="function"){v=_e,d=_e.return;try{l=v,Ae.props=l.memoizedProps,Ae.state=l.memoizedState,Ae.componentWillUnmount()}catch(Le){Ft(v,d,Le)}}break;case 5:Qu(_e,_e.return);break;case 22:if(_e.memoizedState!==null){GE(Te);continue}}Re!==null?(Re.return=_e,Me=Re):GE(Te)}we=we.sibling}e:for(we=null,Te=a;;){if(Te.tag===5){if(we===null){we=Te;try{b=Te.stateNode,se?(C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(z=Te.stateNode,K=Te.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null,z.style.display=ns("display",q))}catch(Le){Ft(a,a.return,Le)}}}else if(Te.tag===6){if(we===null)try{Te.stateNode.nodeValue=se?"":Te.memoizedProps}catch(Le){Ft(a,a.return,Le)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===a)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===a)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===a)break e;we===Te&&(we=null),Te=Te.return}we===Te&&(we=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Qr(l,a),Ai(a),v&4&&zE(a);break;case 21:break;default:Qr(l,a),Ai(a)}}function Ai(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if($E(d)){var v=d;break e}d=d.return}throw Error(n(160))}switch(v.tag){case 5:var b=v.stateNode;v.flags&32&&(hn(b,""),v.flags&=-33);var C=UE(a);l0(a,C,b);break;case 3:case 4:var q=v.stateNode.containerInfo,z=UE(a);u0(a,z,q);break;default:throw Error(n(161))}}catch(K){Ft(a,a.return,K)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function bq(a,l,d){Me=a,WE(a)}function WE(a,l,d){for(var v=(a.mode&1)!==0;Me!==null;){var b=Me,C=b.child;if(b.tag===22&&v){var q=b.memoizedState!==null||hh;if(!q){var z=b.alternate,K=z!==null&&z.memoizedState!==null||In;z=hh;var se=In;if(hh=q,(In=K)&&!se)for(Me=b;Me!==null;)q=Me,K=q.child,q.tag===22&&q.memoizedState!==null?KE(b):K!==null?(K.return=q,Me=K):KE(b);for(;C!==null;)Me=C,WE(C),C=C.sibling;Me=b,hh=z,In=se}HE(a)}else(b.subtreeFlags&8772)!==0&&C!==null?(C.return=b,Me=C):HE(a)}}function HE(a){for(;Me!==null;){var l=Me;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:In||ph(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!In)if(d===null)v.componentDidMount();else{var b=l.elementType===l.type?d.memoizedProps:Kr(l.type,d.memoizedProps);v.componentDidUpdate(b,d.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var C=l.updateQueue;C!==null&&GT(l,C,v);break;case 3:var q=l.updateQueue;if(q!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}GT(l,q,d)}break;case 5:var z=l.stateNode;if(d===null&&l.flags&4){d=z;var K=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&d.focus();break;case"img":K.src&&(d.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var se=l.alternate;if(se!==null){var we=se.memoizedState;if(we!==null){var Te=we.dehydrated;Te!==null&&Br(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}In||l.flags&512&&s0(l)}catch(_e){Ft(l,l.return,_e)}}if(l===a){Me=null;break}if(d=l.sibling,d!==null){d.return=l.return,Me=d;break}Me=l.return}}function GE(a){for(;Me!==null;){var l=Me;if(l===a){Me=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Me=d;break}Me=l.return}}function KE(a){for(;Me!==null;){var l=Me;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{ph(4,l)}catch(K){Ft(l,d,K)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var b=l.return;try{v.componentDidMount()}catch(K){Ft(l,b,K)}}var C=l.return;try{s0(l)}catch(K){Ft(l,C,K)}break;case 5:var q=l.return;try{s0(l)}catch(K){Ft(l,q,K)}}}catch(K){Ft(l,l.return,K)}if(l===a){Me=null;break}var z=l.sibling;if(z!==null){z.return=l.return,Me=z;break}Me=l.return}}var Tq=Math.ceil,mh=O.ReactCurrentDispatcher,c0=O.ReactCurrentOwner,Ar=O.ReactCurrentBatchConfig,ct=0,sn=null,Wt=null,yn=0,yr=0,Xu=aa(0),Zt=0,zc=null,Ts=0,gh=0,f0=0,Bc=null,nr=null,d0=0,Ju=1/0,xo=null,vh=!1,h0=null,da=null,yh=!1,ha=null,_h=0,Wc=0,p0=null,wh=-1,xh=0;function zn(){return(ct&6)!==0?_t():wh!==-1?wh:wh=_t()}function pa(a){return(a.mode&1)===0?1:(ct&2)!==0&&yn!==0?yn&-yn:aq.transition!==null?(xh===0&&(xh=$t()),xh):(a=st,a!==0||(a=window.event,a=a===void 0?16:_c(a.type)),a)}function Xr(a,l,d,v){if(50<Wc)throw Wc=0,p0=null,Error(n(185));$r(a,d,v),((ct&2)===0||a!==sn)&&(a===sn&&((ct&2)===0&&(gh|=d),Zt===4&&ma(a,yn)),rr(a,v),d===1&&ct===0&&(l.mode&1)===0&&(Ju=_t()+500,Yd&&ua()))}function rr(a,l){var d=a.callbackNode;it(a,l);var v=xe(a,a===sn?yn:0);if(v===0)d!==null&&ls(d),a.callbackNode=null,a.callbackPriority=0;else if(l=v&-v,a.callbackPriority!==l){if(d!=null&&ls(d),l===1)a.tag===0?oq(QE.bind(null,a)):NT(QE.bind(null,a)),tq(function(){(ct&6)===0&&ua()}),d=null;else{switch(ea(v)){case 1:d=so;break;case 4:d=Ti;break;case 16:d=Qn;break;case 536870912:d=_u;break;default:d=Qn}d=iS(d,YE.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function YE(a,l){if(wh=-1,xh=0,(ct&6)!==0)throw Error(n(327));var d=a.callbackNode;if(Zu()&&a.callbackNode!==d)return null;var v=xe(a,a===sn?yn:0);if(v===0)return null;if((v&30)!==0||(v&a.expiredLanes)!==0||l)l=bh(a,v);else{l=v;var b=ct;ct|=2;var C=JE();(sn!==a||yn!==l)&&(xo=null,Ju=_t()+500,Ss(a,l));do try{Pq();break}catch(z){XE(a,z)}while(!0);Ay(),mh.current=C,ct=b,Wt!==null?l=0:(sn=null,yn=0,l=Zt)}if(l!==0){if(l===2&&(b=wt(a),b!==0&&(v=b,l=m0(a,b))),l===1)throw d=zc,Ss(a,0),ma(a,v),rr(a,_t()),d;if(l===6)ma(a,v);else{if(b=a.current.alternate,(v&30)===0&&!Eq(b)&&(l=bh(a,v),l===2&&(C=wt(a),C!==0&&(v=C,l=m0(a,C))),l===1))throw d=zc,Ss(a,0),ma(a,v),rr(a,_t()),d;switch(a.finishedWork=b,a.finishedLanes=v,l){case 0:case 1:throw Error(n(345));case 2:Ps(a,nr,xo);break;case 3:if(ma(a,v),(v&130023424)===v&&(l=d0+500-_t(),10<l)){if(xe(a,0)!==0)break;if(b=a.suspendedLanes,(b&v)!==v){zn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=xy(Ps.bind(null,a,nr,xo),l);break}Ps(a,nr,xo);break;case 4:if(ma(a,v),(v&4194240)===v)break;for(l=a.eventTimes,b=-1;0<v;){var q=31-pn(v);C=1<<q,q=l[q],q>b&&(b=q),v&=~C}if(v=b,v=_t()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Tq(v/1960))-v,10<v){a.timeoutHandle=xy(Ps.bind(null,a,nr,xo),v);break}Ps(a,nr,xo);break;case 5:Ps(a,nr,xo);break;default:throw Error(n(329))}}}return rr(a,_t()),a.callbackNode===d?YE.bind(null,a):null}function m0(a,l){var d=Bc;return a.current.memoizedState.isDehydrated&&(Ss(a,l).flags|=256),a=bh(a,l),a!==2&&(l=nr,nr=d,l!==null&&g0(l)),a}function g0(a){nr===null?nr=a:nr.push.apply(nr,a)}function Eq(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var v=0;v<d.length;v++){var b=d[v],C=b.getSnapshot;b=b.value;try{if(!Hr(C(),b))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ma(a,l){for(l&=~f0,l&=~gh,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-pn(l),v=1<<d;a[d]=-1,l&=~v}}function QE(a){if((ct&6)!==0)throw Error(n(327));Zu();var l=xe(a,0);if((l&1)===0)return rr(a,_t()),null;var d=bh(a,l);if(a.tag!==0&&d===2){var v=wt(a);v!==0&&(l=v,d=m0(a,v))}if(d===1)throw d=zc,Ss(a,0),ma(a,l),rr(a,_t()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ps(a,nr,xo),rr(a,_t()),null}function v0(a,l){var d=ct;ct|=1;try{return a(l)}finally{ct=d,ct===0&&(Ju=_t()+500,Yd&&ua())}}function Es(a){ha!==null&&ha.tag===0&&(ct&6)===0&&Zu();var l=ct;ct|=1;var d=Ar.transition,v=st;try{if(Ar.transition=null,st=1,a)return a()}finally{st=v,Ar.transition=d,ct=l,(ct&6)===0&&ua()}}function y0(){yr=Xu.current,Pt(Xu)}function Ss(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,eq(d)),Wt!==null)for(d=Wt.return;d!==null;){var v=d;switch(Cy(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Gd();break;case 3:Ku(),Pt(Zn),Pt(Pn),$y();break;case 5:Fy(v);break;case 4:Ku();break;case 13:Pt(Nt);break;case 19:Pt(Nt);break;case 10:Oy(v.type._context);break;case 22:case 23:y0()}d=d.return}if(sn=a,Wt=a=ga(a.current,null),yn=yr=l,Zt=0,zc=null,f0=gh=Ts=0,nr=Bc=null,ws!==null){for(l=0;l<ws.length;l++)if(d=ws[l],v=d.interleaved,v!==null){d.interleaved=null;var b=v.next,C=d.pending;if(C!==null){var q=C.next;C.next=b,v.next=q}d.pending=v}ws=null}return a}function XE(a,l){do{var d=Wt;try{if(Ay(),oh.current=lh,ah){for(var v=Lt.memoizedState;v!==null;){var b=v.queue;b!==null&&(b.pending=null),v=v.next}ah=!1}if(bs=0,an=Jt=Lt=null,Vc=!1,Fc=0,c0.current=null,d===null||d.return===null){Zt=1,zc=l,Wt=null;break}e:{var C=a,q=d.return,z=d,K=l;if(l=yn,z.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var se=K,we=z,Te=we.tag;if((we.mode&1)===0&&(Te===0||Te===11||Te===15)){var _e=we.alternate;_e?(we.updateQueue=_e.updateQueue,we.memoizedState=_e.memoizedState,we.lanes=_e.lanes):(we.updateQueue=null,we.memoizedState=null)}var Re=bE(q);if(Re!==null){Re.flags&=-257,TE(Re,q,z,C,l),Re.mode&1&&xE(C,se,l),l=Re,K=se;var Ae=l.updateQueue;if(Ae===null){var Le=new Set;Le.add(K),l.updateQueue=Le}else Ae.add(K);break e}else{if((l&1)===0){xE(C,se,l),_0();break e}K=Error(n(426))}}else if(At&&z.mode&1){var Ut=bE(q);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),TE(Ut,q,z,C,l),ky(Yu(K,z));break e}}C=K=Yu(K,z),Zt!==4&&(Zt=2),Bc===null?Bc=[C]:Bc.push(C),C=q;do{switch(C.tag){case 3:C.flags|=65536,l&=-l,C.lanes|=l;var ne=_E(C,K,l);HT(C,ne);break e;case 1:z=K;var Y=C.type,ie=C.stateNode;if((C.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(da===null||!da.has(ie)))){C.flags|=65536,l&=-l,C.lanes|=l;var Se=wE(C,z,l);HT(C,Se);break e}}C=C.return}while(C!==null)}eS(d)}catch(Ve){l=Ve,Wt===d&&d!==null&&(Wt=d=d.return);continue}break}while(!0)}function JE(){var a=mh.current;return mh.current=lh,a===null?lh:a}function _0(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),sn===null||(Ts&268435455)===0&&(gh&268435455)===0||ma(sn,yn)}function bh(a,l){var d=ct;ct|=2;var v=JE();(sn!==a||yn!==l)&&(xo=null,Ss(a,l));do try{Sq();break}catch(b){XE(a,b)}while(!0);if(Ay(),ct=d,mh.current=v,Wt!==null)throw Error(n(261));return sn=null,yn=0,Zt}function Sq(){for(;Wt!==null;)ZE(Wt)}function Pq(){for(;Wt!==null&&!vu();)ZE(Wt)}function ZE(a){var l=rS(a.alternate,a,yr);a.memoizedProps=a.pendingProps,l===null?eS(a):Wt=l,c0.current=null}function eS(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=yq(d,l,yr),d!==null){Wt=d;return}}else{if(d=_q(d,l),d!==null){d.flags&=32767,Wt=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Zt=6,Wt=null;return}}if(l=l.sibling,l!==null){Wt=l;return}Wt=l=a}while(l!==null);Zt===0&&(Zt=5)}function Ps(a,l,d){var v=st,b=Ar.transition;try{Ar.transition=null,st=1,Cq(a,l,d,v)}finally{Ar.transition=b,st=v}return null}function Cq(a,l,d,v){do Zu();while(ha!==null);if((ct&6)!==0)throw Error(n(327));d=a.finishedWork;var b=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var C=d.lanes|d.childLanes;if(xt(a,C),a===sn&&(Wt=sn=null,yn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||yh||(yh=!0,iS(Qn,function(){return Zu(),null})),C=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||C){C=Ar.transition,Ar.transition=null;var q=st;st=1;var z=ct;ct|=4,c0.current=null,xq(a,d),BE(d,a),GF(_y),na=!!yy,_y=yy=null,a.current=d,bq(d),gc(),ct=z,st=q,Ar.transition=C}else a.current=d;if(yh&&(yh=!1,ha=a,_h=b),C=a.pendingLanes,C===0&&(da=null),wu(d.stateNode),rr(a,_t()),l!==null)for(v=a.onRecoverableError,d=0;d<l.length;d++)b=l[d],v(b.value,{componentStack:b.stack,digest:b.digest});if(vh)throw vh=!1,a=h0,h0=null,a;return(_h&1)!==0&&a.tag!==0&&Zu(),C=a.pendingLanes,(C&1)!==0?a===p0?Wc++:(Wc=0,p0=a):Wc=0,ua(),null}function Zu(){if(ha!==null){var a=ea(_h),l=Ar.transition,d=st;try{if(Ar.transition=null,st=16>a?16:a,ha===null)var v=!1;else{if(a=ha,ha=null,_h=0,(ct&6)!==0)throw Error(n(331));var b=ct;for(ct|=4,Me=a.current;Me!==null;){var C=Me,q=C.child;if((Me.flags&16)!==0){var z=C.deletions;if(z!==null){for(var K=0;K<z.length;K++){var se=z[K];for(Me=se;Me!==null;){var we=Me;switch(we.tag){case 0:case 11:case 15:jc(8,we,C)}var Te=we.child;if(Te!==null)Te.return=we,Me=Te;else for(;Me!==null;){we=Me;var _e=we.sibling,Re=we.return;if(qE(we),we===se){Me=null;break}if(_e!==null){_e.return=Re,Me=_e;break}Me=Re}}}var Ae=C.alternate;if(Ae!==null){var Le=Ae.child;if(Le!==null){Ae.child=null;do{var Ut=Le.sibling;Le.sibling=null,Le=Ut}while(Le!==null)}}Me=C}}if((C.subtreeFlags&2064)!==0&&q!==null)q.return=C,Me=q;else e:for(;Me!==null;){if(C=Me,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:jc(9,C,C.return)}var ne=C.sibling;if(ne!==null){ne.return=C.return,Me=ne;break e}Me=C.return}}var Y=a.current;for(Me=Y;Me!==null;){q=Me;var ie=q.child;if((q.subtreeFlags&2064)!==0&&ie!==null)ie.return=q,Me=ie;else e:for(q=Y;Me!==null;){if(z=Me,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:ph(9,z)}}catch(Ve){Ft(z,z.return,Ve)}if(z===q){Me=null;break e}var Se=z.sibling;if(Se!==null){Se.return=z.return,Me=Se;break e}Me=z.return}}if(ct=b,ua(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(uo,a)}catch{}v=!0}return v}finally{st=d,Ar.transition=l}}return!1}function tS(a,l,d){l=Yu(d,l),l=_E(a,l,1),a=ca(a,l,1),l=zn(),a!==null&&($r(a,1,l),rr(a,l))}function Ft(a,l,d){if(a.tag===3)tS(a,a,d);else for(;l!==null;){if(l.tag===3){tS(l,a,d);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(da===null||!da.has(v))){a=Yu(d,a),a=wE(l,a,1),l=ca(l,a,1),a=zn(),l!==null&&($r(l,1,a),rr(l,a));break}}l=l.return}}function Rq(a,l,d){var v=a.pingCache;v!==null&&v.delete(l),l=zn(),a.pingedLanes|=a.suspendedLanes&d,sn===a&&(yn&d)===d&&(Zt===4||Zt===3&&(yn&130023424)===yn&&500>_t()-d0?Ss(a,0):f0|=d),rr(a,l)}function nS(a,l){l===0&&((a.mode&1)===0?l=1:(l=Qe,Qe<<=1,(Qe&130023424)===0&&(Qe=4194304)));var d=zn();a=yo(a,l),a!==null&&($r(a,l,d),rr(a,d))}function Iq(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),nS(a,d)}function kq(a,l){var d=0;switch(a.tag){case 13:var v=a.stateNode,b=a.memoizedState;b!==null&&(d=b.retryLane);break;case 19:v=a.stateNode;break;default:throw Error(n(314))}v!==null&&v.delete(l),nS(a,d)}var rS;rS=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||Zn.current)tr=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return tr=!1,vq(a,l,d);tr=(a.flags&131072)!==0}else tr=!1,At&&(l.flags&1048576)!==0&&LT(l,Xd,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;dh(a,l),a=l.pendingProps;var b=Uu(l,Pn.current);Gu(l,d),b=zy(null,l,v,a,b,d);var C=By();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,er(v)?(C=!0,Kd(l)):C=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ly(l),b.updater=ch,l.stateNode=b,b._reactInternals=l,Qy(l,v,a,d),l=e0(null,l,v,!0,C,d)):(l.tag=0,At&&C&&Py(l),jn(null,l,b,d),l=l.child),l;case 16:v=l.elementType;e:{switch(dh(a,l),a=l.pendingProps,b=v._init,v=b(v._payload),l.type=v,b=l.tag=Aq(v),a=Kr(v,a),b){case 0:l=Zy(null,l,v,a,d);break e;case 1:l=IE(null,l,v,a,d);break e;case 11:l=EE(null,l,v,a,d);break e;case 14:l=SE(null,l,v,Kr(v.type,a),d);break e}throw Error(n(306,v,""))}return l;case 0:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:Kr(v,b),Zy(a,l,v,b,d);case 1:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:Kr(v,b),IE(a,l,v,b,d);case 3:e:{if(kE(l),a===null)throw Error(n(387));v=l.pendingProps,C=l.memoizedState,b=C.element,WT(a,l),rh(l,v,null,d);var q=l.memoizedState;if(v=q.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){b=Yu(Error(n(423)),l),l=ME(a,l,v,d,b);break e}else if(v!==b){b=Yu(Error(n(424)),l),l=ME(a,l,v,d,b);break e}else for(vr=oa(l.stateNode.containerInfo.firstChild),gr=l,At=!0,Gr=null,d=zT(l,null,v,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Bu(),v===b){l=wo(a,l,d);break e}jn(a,l,v,d)}l=l.child}return l;case 5:return KT(l),a===null&&Iy(l),v=l.type,b=l.pendingProps,C=a!==null?a.memoizedProps:null,q=b.children,wy(v,b)?q=null:C!==null&&wy(v,C)&&(l.flags|=32),RE(a,l),jn(a,l,q,d),l.child;case 6:return a===null&&Iy(l),null;case 13:return AE(a,l,d);case 4:return Vy(l,l.stateNode.containerInfo),v=l.pendingProps,a===null?l.child=Wu(l,null,v,d):jn(a,l,v,d),l.child;case 11:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:Kr(v,b),EE(a,l,v,b,d);case 7:return jn(a,l,l.pendingProps,d),l.child;case 8:return jn(a,l,l.pendingProps.children,d),l.child;case 12:return jn(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(v=l.type._context,b=l.pendingProps,C=l.memoizedProps,q=b.value,bt(eh,v._currentValue),v._currentValue=q,C!==null)if(Hr(C.value,q)){if(C.children===b.children&&!Zn.current){l=wo(a,l,d);break e}}else for(C=l.child,C!==null&&(C.return=l);C!==null;){var z=C.dependencies;if(z!==null){q=C.child;for(var K=z.firstContext;K!==null;){if(K.context===v){if(C.tag===1){K=_o(-1,d&-d),K.tag=2;var se=C.updateQueue;if(se!==null){se=se.shared;var we=se.pending;we===null?K.next=K:(K.next=we.next,we.next=K),se.pending=K}}C.lanes|=d,K=C.alternate,K!==null&&(K.lanes|=d),Dy(C.return,d,l),z.lanes|=d;break}K=K.next}}else if(C.tag===10)q=C.type===l.type?null:C.child;else if(C.tag===18){if(q=C.return,q===null)throw Error(n(341));q.lanes|=d,z=q.alternate,z!==null&&(z.lanes|=d),Dy(q,d,l),q=C.sibling}else q=C.child;if(q!==null)q.return=C;else for(q=C;q!==null;){if(q===l){q=null;break}if(C=q.sibling,C!==null){C.return=q.return,q=C;break}q=q.return}C=q}jn(a,l,b.children,d),l=l.child}return l;case 9:return b=l.type,v=l.pendingProps.children,Gu(l,d),b=kr(b),v=v(b),l.flags|=1,jn(a,l,v,d),l.child;case 14:return v=l.type,b=Kr(v,l.pendingProps),b=Kr(v.type,b),SE(a,l,v,b,d);case 15:return PE(a,l,l.type,l.pendingProps,d);case 17:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:Kr(v,b),dh(a,l),l.tag=1,er(v)?(a=!0,Kd(l)):a=!1,Gu(l,d),vE(l,v,b),Qy(l,v,b,d),e0(null,l,v,!0,a,d);case 19:return DE(a,l,d);case 22:return CE(a,l,d)}throw Error(n(156,l.tag))};function iS(a,l){return Jo(a,l)}function Mq(a,l,d,v){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(a,l,d,v){return new Mq(a,l,d,v)}function w0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Aq(a){if(typeof a=="function")return w0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===V)return 11;if(a===X)return 14}return 2}function ga(a,l){var d=a.alternate;return d===null?(d=Or(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Th(a,l,d,v,b,C){var q=2;if(v=a,typeof a=="function")w0(a)&&(q=1);else if(typeof a=="string")q=5;else e:switch(a){case M:return Cs(d.children,b,C,l);case R:q=8,b|=8;break;case k:return a=Or(12,d,l,b|2),a.elementType=k,a.lanes=C,a;case A:return a=Or(13,d,l,b),a.elementType=A,a.lanes=C,a;case H:return a=Or(19,d,l,b),a.elementType=H,a.lanes=C,a;case J:return Eh(d,b,C,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:q=10;break e;case L:q=9;break e;case V:q=11;break e;case X:q=14;break e;case Q:q=16,v=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=Or(q,d,l,b),l.elementType=a,l.type=v,l.lanes=C,l}function Cs(a,l,d,v){return a=Or(7,a,v,l),a.lanes=d,a}function Eh(a,l,d,v){return a=Or(22,a,v,l),a.elementType=J,a.lanes=d,a.stateNode={isHidden:!1},a}function x0(a,l,d){return a=Or(6,a,null,l),a.lanes=d,a}function b0(a,l,d){return l=Or(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Oq(a,l,d,v,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sn(0),this.expirationTimes=Sn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.identifierPrefix=v,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function T0(a,l,d,v,b,C,q,z,K){return a=new Oq(a,l,d,z,K),l===1?(l=1,C===!0&&(l|=8)):l=0,C=Or(3,null,null,l),a.current=C,C.stateNode=a,C.memoizedState={element:v,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ly(C),a}function Dq(a,l,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:v==null?null:""+v,children:a,containerInfo:l,implementation:d}}function oS(a){if(!a)return sa;a=a._reactInternals;e:{if(hr(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(er(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(er(d))return OT(a,d,l)}return l}function aS(a,l,d,v,b,C,q,z,K){return a=T0(d,v,!0,a,b,C,q,z,K),a.context=oS(null),d=a.current,v=zn(),b=pa(d),C=_o(v,b),C.callback=l??null,ca(d,C,b),a.current.lanes=b,$r(a,b,v),rr(a,v),a}function Sh(a,l,d,v){var b=l.current,C=zn(),q=pa(b);return d=oS(d),l.context===null?l.context=d:l.pendingContext=d,l=_o(C,q),l.payload={element:a},v=v===void 0?null:v,v!==null&&(l.callback=v),a=ca(b,l,q),a!==null&&(Xr(a,b,q,C),nh(a,b,q)),q}function Ph(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function sS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function E0(a,l){sS(a,l),(a=a.alternate)&&sS(a,l)}function Nq(){return null}var uS=typeof reportError=="function"?reportError:function(a){console.error(a)};function S0(a){this._internalRoot=a}Ch.prototype.render=S0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Sh(a,l,null,null)},Ch.prototype.unmount=S0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Es(function(){Sh(null,a,null,null)}),l[po]=null}};function Ch(a){this._internalRoot=a}Ch.prototype.unstable_scheduleHydration=function(a){if(a){var l=Cd();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Si.length&&l!==0&&l<Si[d].priority;d++);Si.splice(d,0,a),d===0&&kd(a)}};function P0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Rh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function lS(){}function Lq(a,l,d,v,b){if(b){if(typeof v=="function"){var C=v;v=function(){var se=Ph(q);C.call(se)}}var q=aS(l,v,a,0,null,!1,!1,"",lS);return a._reactRootContainer=q,a[po]=q.current,Ic(a.nodeType===8?a.parentNode:a),Es(),q}for(;b=a.lastChild;)a.removeChild(b);if(typeof v=="function"){var z=v;v=function(){var se=Ph(K);z.call(se)}}var K=T0(a,0,!1,null,null,!1,!1,"",lS);return a._reactRootContainer=K,a[po]=K.current,Ic(a.nodeType===8?a.parentNode:a),Es(function(){Sh(l,K,d,v)}),K}function Ih(a,l,d,v,b){var C=d._reactRootContainer;if(C){var q=C;if(typeof b=="function"){var z=b;b=function(){var K=Ph(q);z.call(K)}}Sh(l,q,a,b)}else q=Lq(d,l,a,b,v);return Ph(q)}Sd=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Je(l.pendingLanes);d!==0&&(Zo(l,d|1),rr(l,_t()),(ct&6)===0&&(Ju=_t()+500,ua()))}break;case 13:Es(function(){var v=yo(a,1);if(v!==null){var b=zn();Xr(v,a,1,b)}}),E0(a,1)}},Tu=function(a){if(a.tag===13){var l=yo(a,134217728);if(l!==null){var d=zn();Xr(l,a,134217728,d)}E0(a,134217728)}},Pd=function(a){if(a.tag===13){var l=pa(a),d=yo(a,l);if(d!==null){var v=zn();Xr(d,a,l,v)}E0(a,l)}},Cd=function(){return st},Rd=function(a,l){var d=st;try{return st=a,l()}finally{st=d}},G=function(a,l,d){switch(l){case"input":if(kt(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var v=d[l];if(v!==a&&v.form===a.form){var b=Hd(v);if(!b)throw Error(n(90));fe(v),kt(v,b)}}}break;case"textarea":qn(a,d);break;case"select":l=d.value,l!=null&&Fn(a,!!d.multiple,l,!1)}},Er=v0,bi=Es;var Vq={usingClientEntryPoint:!1,Events:[Ac,qu,Hd,Qt,cr,v0]},Hc={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fq={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=us(a),a===null?null:a.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||Nq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{uo=kh.inject(Fq),$n=kh}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vq,ir.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P0(l))throw Error(n(200));return Dq(a,l,null,d)},ir.createRoot=function(a,l){if(!P0(a))throw Error(n(299));var d=!1,v="",b=uS;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=T0(a,1,!1,null,null,d,!1,v,b),a[po]=l.current,Ic(a.nodeType===8?a.parentNode:a),new S0(l)},ir.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=us(l),a=a===null?null:a.stateNode,a},ir.flushSync=function(a){return Es(a)},ir.hydrate=function(a,l,d){if(!Rh(l))throw Error(n(200));return Ih(null,a,l,!0,d)},ir.hydrateRoot=function(a,l,d){if(!P0(a))throw Error(n(405));var v=d!=null&&d.hydratedSources||null,b=!1,C="",q=uS;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onRecoverableError!==void 0&&(q=d.onRecoverableError)),l=aS(l,null,a,1,d??null,b,!1,C,q),a[po]=l.current,Ic(a),v)for(a=0;a<v.length;a++)d=v[a],b=d._getVersion,b=b(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,b]:l.mutableSourceEagerHydrationData.push(d,b);return new Ch(l)},ir.render=function(a,l,d){if(!Rh(l))throw Error(n(200));return Ih(null,a,l,!1,d)},ir.unmountComponentAtNode=function(a){if(!Rh(a))throw Error(n(40));return a._reactRootContainer?(Es(function(){Ih(null,null,a,!1,function(){a._reactRootContainer=null,a[po]=null})}),!0):!1},ir.unstable_batchedUpdates=v0,ir.unstable_renderSubtreeIntoContainer=function(a,l,d,v){if(!Rh(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Ih(a,l,d,!1,v)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var vS;function aO(){if(vS)return I0.exports;vS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),I0.exports=Kq(),I0.exports}var yS;function Yq(){if(yS)return Ah;yS=1;var t=aO();return Ah.createRoot=t.createRoot,Ah.hydrateRoot=t.hydrateRoot,Ah}var Qq=Yq(),Kc={},_S;function Xq(){if(_S)return Kc;_S=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.parse=s,Kc.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,_){const y=new o,w=g.length;if(w<2)return y;const x=(_==null?void 0:_.decode)||h;let T=0;do{const E=g.indexOf("=",T);if(E===-1)break;const S=g.indexOf(";",T),O=S===-1?w:S;if(E>O){T=g.lastIndexOf(";",E-1)+1;continue}const N=u(g,T,E),$=c(g,E,N),M=g.slice(N,$);if(y[M]===void 0){let R=u(g,E+1,O),k=c(g,O,R);const I=x(g.slice(R,k));y[M]=I}T=O+1}while(T<w);return y}function u(g,_,y){do{const w=g.charCodeAt(_);if(w!==32&&w!==9)return _}while(++_<y);return y}function c(g,_,y){for(;_>y;){const w=g.charCodeAt(--_);if(w!==32&&w!==9)return _+1}return y}function f(g,_,y){const w=(y==null?void 0:y.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const x=w(_);if(!e.test(x))throw new TypeError(`argument val is invalid: ${_}`);let T=g+"="+x;if(!y)return T;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);T+="; Max-Age="+y.maxAge}if(y.domain){if(!n.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);T+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);T+="; Path="+y.path}if(y.expires){if(!m(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);T+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(T+="; HttpOnly"),y.secure&&(T+="; Secure"),y.partitioned&&(T+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return T}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return i.call(g)==="[object Date]"}return Kc}Xq();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wS="popstate";function Jq(t={}){function e(i,o){let{pathname:s="/",search:u="",hash:c=""}=uu(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),qw("",{pathname:s,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof o=="string"?o:$f(o))}function r(i,o){Fr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return e$(e,n,r,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zq(){return Math.random().toString(36).substring(2,10)}function xS(t,e){return{usr:t.state,key:t.key,idx:e}}function qw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uu(e):e,state:n,key:e&&e.key||r||Zq()}}function $f({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function e$(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u="POP",c=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function m(){u="POP";let x=h(),T=x==null?null:x-f;f=x,c&&c({action:u,location:w.location,delta:T})}function g(x,T){u="PUSH";let E=qw(w.location,x,T);n&&n(E,x),f=h()+1;let S=xS(E,f),O=w.createHref(E);try{s.pushState(S,"",O)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(O)}o&&c&&c({action:u,location:w.location,delta:1})}function _(x,T){u="REPLACE";let E=qw(w.location,x,T);n&&n(E,x),f=h();let S=xS(E,f),O=w.createHref(E);s.replaceState(S,"",O),o&&c&&c({action:u,location:w.location,delta:0})}function y(x){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof x=="string"?x:$f(x);return E=E.replace(/ $/,"%20"),Ot(T,`No window.location.(origin|href) available to create URL for href: ${E}`),new URL(E,T)}let w={get action(){return u},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wS,m),c=x,()=>{i.removeEventListener(wS,m),c=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let T=y(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:_,go(x){return s.go(x)}};return w}function sO(t,e,n="/"){return t$(t,e,n,!1)}function t$(t,e,n,r){let i=typeof e=="string"?uu(e):e,o=Lo(i.pathname||"/",n);if(o==null)return null;let s=uO(t);n$(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=h$(o);u=f$(s[c],f,r)}return u}function uO(t,e=[],n=[],r=""){let i=(o,s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Ot(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=No([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),uO(o.children,e,h,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:l$(f,o.index),routesMeta:h})};return t.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,s);else for(let c of lO(o.path))i(o,s,c)}),e}function lO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=lO(r.join("/")),u=[];return u.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...s),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function n$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var r$=/^:[\w-]+$/,i$=3,o$=2,a$=1,s$=10,u$=-2,bS=t=>t==="*";function l$(t,e){let n=t.split("/"),r=n.length;return n.some(bS)&&(r+=u$),e&&(r+=o$),n.filter(i=>!bS(i)).reduce((i,o)=>i+(r$.test(o)?i$:o===""?a$:s$),r)}function c$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f$(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",m=pg({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=pg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:No([o,m.pathname]),pathnameBase:v$(No([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=No([o,m.pathnameBase]))}return s}function pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:m},g)=>{if(h==="*"){let y=u[g]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const _=u[g];return m&&!_?f[h]=void 0:f[h]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:s,pattern:t}}function d$(t,e=!1,n=!0){Fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function h$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Lo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function p$(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uu(t):t;return{pathname:n?n.startsWith("/")?n:m$(n,e):e,search:y$(r),hash:_$(i)}}function m$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function A0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ix(t){let e=g$(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ox(t,e,n,r=!1){let i;typeof t=="string"?i=uu(t):(i={...t},Ot(!i.pathname||!i.pathname.includes("?"),A0("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),A0("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),A0("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=p$(i,u),f=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var No=t=>t.join("/").replace(/\/\/+/g,"/"),v$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var cO=["POST","PUT","PATCH","DELETE"];new Set(cO);var x$=["GET",...cO];new Set(x$);var Yl=F.createContext(null);Yl.displayName="DataRouter";var rv=F.createContext(null);rv.displayName="DataRouterState";var fO=F.createContext({isTransitioning:!1});fO.displayName="ViewTransition";var b$=F.createContext(new Map);b$.displayName="Fetchers";var T$=F.createContext(null);T$.displayName="Await";var yi=F.createContext(null);yi.displayName="Navigation";var nd=F.createContext(null);nd.displayName="Location";var Ji=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var ax=F.createContext(null);ax.displayName="RouteError";function E$(t,{relative:e}={}){Ot(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(yi),{hash:i,pathname:o,search:s}=rd(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:No([n,o])),r.createHref({pathname:u,search:s,hash:i})}function Ql(){return F.useContext(nd)!=null}function Xa(){return Ot(Ql(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(nd).location}var dO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hO(t){F.useContext(yi).static||F.useLayoutEffect(t)}function pO(){let{isDataRoute:t}=F.useContext(Ji);return t?V$():S$()}function S$(){Ot(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Yl),{basename:e,navigator:n}=F.useContext(yi),{matches:r}=F.useContext(Ji),{pathname:i}=Xa(),o=JSON.stringify(ix(r)),s=F.useRef(!1);return hO(()=>{s.current=!0}),F.useCallback((c,f={})=>{if(Fr(s.current,dO),!s.current)return;if(typeof c=="number"){n.go(c);return}let h=ox(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:No([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,i,t])}F.createContext(null);function rd(t,{relative:e}={}){let{matches:n}=F.useContext(Ji),{pathname:r}=Xa(),i=JSON.stringify(ix(n));return F.useMemo(()=>ox(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function P$(t,e){return mO(t,e)}function mO(t,e,n,r){var E;Ot(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=F.useContext(yi),{matches:s}=F.useContext(Ji),u=s[s.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let S=m&&m.path||"";gO(f,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Xa(),_;if(e){let S=typeof e=="string"?uu(e):e;Ot(h==="/"||((E=S.pathname)==null?void 0:E.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),_=S}else _=g;let y=_.pathname||"/",w=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:sO(t,{pathname:w});Fr(m||x!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Fr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=M$(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:No([h,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:No([h,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&T?F.createElement(nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function C$(){let t=L$(),e=w$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}var R$=F.createElement(C$,null),I$=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Ji.Provider,{value:this.props.routeContext},F.createElement(ax.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function k$({routeContext:t,match:e,children:n}){let r=F.useContext(Yl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ji.Provider,{value:t},n)}function M$(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Ot(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,f,h)=>{let m,g=!1,_=null,y=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||R$,s&&(u<0&&h===0?(gO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,h+1)),x=()=>{let T;return m?T=_:g?T=y:f.route.Component?T=F.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,F.createElement(k$,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?F.createElement(I$,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}function sx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A$(t){let e=F.useContext(Yl);return Ot(e,sx(t)),e}function O$(t){let e=F.useContext(rv);return Ot(e,sx(t)),e}function D$(t){let e=F.useContext(Ji);return Ot(e,sx(t)),e}function ux(t){let e=D$(t),n=e.matches[e.matches.length-1];return Ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function N$(){return ux("useRouteId")}function L$(){var r;let t=F.useContext(ax),e=O$("useRouteError"),n=ux("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function V$(){let{router:t}=A$("useNavigate"),e=ux("useNavigate"),n=F.useRef(!1);return hO(()=>{n.current=!0}),F.useCallback(async(i,o={})=>{Fr(n.current,dO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var TS={};function gO(t,e,n){!e&&!TS[t]&&(TS[t]=!0,Fr(!1,n))}F.memo(F$);function F$({routes:t,future:e,state:n}){return mO(t,void 0,n,e)}function q$({to:t,replace:e,state:n,relative:r}){Ot(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(yi);Fr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=F.useContext(Ji),{pathname:s}=Xa(),u=pO(),c=ox(t,ix(o),s,r==="path"),f=JSON.stringify(c);return F.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function gl(t){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ot(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=uu(n));let{pathname:c="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,_=F.useMemo(()=>{let y=Lo(c,s);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:r}},[s,c,f,h,m,g,r]);return Fr(_!=null,`<Router basename="${s}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:F.createElement(yi.Provider,{value:u},F.createElement(nd.Provider,{children:e,value:_}))}function U$({children:t,location:e}){return P$($w(t),e)}function $w(t,e=[]){let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,$w(r.props.children,o));return}Ot(r.type===gl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$w(r.props.children,o)),n.push(s)}),n}var Jm="get",Zm="application/x-www-form-urlencoded";function iv(t){return t!=null&&typeof t.tagName=="string"}function j$(t){return iv(t)&&t.tagName.toLowerCase()==="button"}function z$(t){return iv(t)&&t.tagName.toLowerCase()==="form"}function B$(t){return iv(t)&&t.tagName.toLowerCase()==="input"}function W$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H$(t,e){return t.button===0&&(!e||e==="_self")&&!W$(t)}var Oh=null;function G$(){if(Oh===null)try{new FormData(document.createElement("form"),0),Oh=!1}catch{Oh=!0}return Oh}var K$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function O0(t){return t!=null&&!K$.has(t)?(Fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zm}"`),null):t}function Y$(t,e){let n,r,i,o,s;if(z$(t)){let u=t.getAttribute("action");r=u?Lo(u,e):null,n=t.getAttribute("method")||Jm,i=O0(t.getAttribute("enctype"))||Zm,o=new FormData(t)}else if(j$(t)||B$(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Lo(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Jm,i=O0(t.getAttribute("formenctype"))||O0(u.getAttribute("enctype"))||Zm,o=new FormData(u,t),!G$()){let{name:f,type:h,value:m}=t;if(h==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,m)}}else{if(iv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jm,r=null,i=Zm,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function lx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Q$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function J$(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Q$(o,n);return s.links?s.links():[]}return[]}));return nU(r.flat(1).filter(X$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ES(t,e,n,r,i,o){let s=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,f)=>s(c,f)||u(c,f)):o==="data"?e.filter((c,f)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(s(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Z$(t,e,{includeHydrateFallback:n}={}){return eU(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function eU(t){return[...new Set(t)]}function tU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nU(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(tU(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function rU(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Lo(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vO(){let t=F.useContext(Yl);return lx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iU(){let t=F.useContext(rv);return lx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cx=F.createContext(void 0);cx.displayName="FrameworkContext";function yO(){let t=F.useContext(cx);return lx(t,"You must render this element inside a <HydratedRouter> element"),t}function oU(t,e){let n=F.useContext(cx),[r,i]=F.useState(!1),[o,s]=F.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=e,g=F.useRef(null);F.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let w=T=>{T.forEach(E=>{s(E.isIntersecting)})},x=new IntersectionObserver(w,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),F.useEffect(()=>{if(r){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},y=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Yc(u,_),onBlur:Yc(c,y),onMouseEnter:Yc(f,_),onMouseLeave:Yc(h,y),onTouchStart:Yc(m,_)}]:[!1,g,{}]}function Yc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aU({page:t,...e}){let{router:n}=vO(),r=F.useMemo(()=>sO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(uU,{page:t,matches:r,...e}):null}function sU(t){let{manifest:e,routeModules:n}=yO(),[r,i]=F.useState([]);return F.useEffect(()=>{let o=!1;return J$(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function uU({page:t,matches:e,...n}){let r=Xa(),{manifest:i,routeModules:o}=yO(),{basename:s}=vO(),{loaderData:u,matches:c}=iU(),f=F.useMemo(()=>ES(t,e,c,i,r,"data"),[t,e,c,i,r]),h=F.useMemo(()=>ES(t,e,c,i,r,"assets"),[t,e,c,i,r]),m=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(e.forEach(T=>{var S;let E=i.routes[T.route.id];!E||!E.hasLoader||(!f.some(O=>O.route.id===T.route.id)&&T.route.id in u&&((S=o[T.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?w=!0:y.add(T.route.id))}),y.size===0)return[];let x=rU(t,s);return w&&y.size>0&&x.searchParams.set("_routes",e.filter(T=>y.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[s,u,r,i,f,e,t,o]),g=F.useMemo(()=>Z$(h,i),[h,i]),_=sU(h);return F.createElement(F.Fragment,null,m.map(y=>F.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),g.map(y=>F.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),_.map(({key:y,link:w})=>F.createElement("link",{key:y,...w})))}function lU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_O&&(window.__reactRouterVersion="7.5.0")}catch{}function cU({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=Jq({window:n,v5Compat:!0}));let i=r.current,[o,s]=F.useState({action:i.action,location:i.location}),u=F.useCallback(c=>{F.startTransition(()=>s(c))},[s]);return F.useLayoutEffect(()=>i.listen(u),[i,u]),F.createElement($$,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var wO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fx=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:m,...g},_){let{basename:y}=F.useContext(yi),w=typeof f=="string"&&wO.test(f),x,T=!1;if(typeof f=="string"&&w&&(x=f,_O))try{let k=new URL(window.location.href),I=f.startsWith("//")?new URL(k.protocol+f):new URL(f),L=Lo(I.pathname,y);I.origin===k.origin&&L!=null?f=L+I.search+I.hash:T=!0}catch{Fr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=E$(f,{relative:i}),[S,O,N]=oU(r,g),$=pU(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:i,viewTransition:m});function M(k){e&&e(k),k.defaultPrevented||$(k)}let R=F.createElement("a",{...g,...N,href:x||E,onClick:T||o?e:M,ref:lU(_,O),target:c,"data-discover":!w&&n==="render"?"true":void 0});return S&&!w?F.createElement(F.Fragment,null,R,F.createElement(aU,{page:E})):R});fx.displayName="Link";var fU=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:u,children:c,...f},h){let m=rd(s,{relative:f.relative}),g=Xa(),_=F.useContext(rv),{navigator:y,basename:w}=F.useContext(yi),x=_!=null&&_U(m)&&u===!0,T=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,E=g.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(E=E.toLowerCase(),S=S?S.toLowerCase():null,T=T.toLowerCase()),S&&w&&(S=Lo(S,w)||S);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=E===T||!i&&E.startsWith(T)&&E.charAt(O)==="/",$=S!=null&&(S===T||!i&&S.startsWith(T)&&S.charAt(T.length)==="/"),M={isActive:N,isPending:$,isTransitioning:x},R=N?e:void 0,k;typeof r=="function"?k=r(M):k=[r,N?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(M):o;return F.createElement(fx,{...f,"aria-current":R,className:k,ref:h,style:I,to:s,viewTransition:u},typeof c=="function"?c(M):c)});fU.displayName="NavLink";var dU=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Jm,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:m,...g},_)=>{let y=vU(),w=yU(u,{relative:f}),x=s.toLowerCase()==="get"?"get":"post",T=typeof u=="string"&&wO.test(u),E=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,N=(O==null?void 0:O.getAttribute("formmethod"))||s;y(O||S.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:o,relative:f,preventScrollReset:h,viewTransition:m})};return F.createElement("form",{ref:_,method:x,action:w,onSubmit:r?c:E,...g,"data-discover":!T&&t==="render"?"true":void 0})});dU.displayName="Form";function hU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xO(t){let e=F.useContext(Yl);return Ot(e,hU(t)),e}function pU(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let u=pO(),c=Xa(),f=rd(t,{relative:o});return F.useCallback(h=>{if(H$(h,e)){h.preventDefault();let m=n!==void 0?n:$f(c)===$f(f);u(t,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[c,u,f,n,r,e,t,i,o,s])}var mU=0,gU=()=>`__${String(++mU)}__`;function vU(){let{router:t}=xO("useSubmit"),{basename:e}=F.useContext(yi),n=N$();return F.useCallback(async(r,i={})=>{let{action:o,method:s,encType:u,formData:c,body:f}=Y$(r,e);if(i.navigate===!1){let h=i.fetcherKey||gU();await t.fetch(h,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:f,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function yU(t,{relative:e}={}){let{basename:n}=F.useContext(yi),r=F.useContext(Ji);Ot(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...rd(t||".",{relative:e})},s=Xa();if(t==null){o.search=s.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();o.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:No([n,o.pathname])),$f(o)}function _U(t,e={}){let n=F.useContext(fO);Ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xO("useViewTransitionState"),i=rd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Lo(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Lo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pg(i.pathname,s)!=null||pg(i.pathname,o)!=null}new TextEncoder;var id=aO();const wU=Xi(id),xU=()=>{};var SS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},TO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,_=f&63;c||(_=64,s||(g=64)),r.push(n[h],n[m],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||m==null)throw new TU;const g=o<<2|u>>4;if(r.push(g),f!==64){const _=u<<4&240|f>>2;if(r.push(_),m!==64){const y=f<<6&192|m;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EU=function(t){const e=bO(t);return TO.encodeByteArray(e,!0)},mg=function(t){return EU(t).replace(/\./g,"")},EO=function(t){try{return TO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=()=>SU().__FIREBASE_DEFAULTS__,CU=()=>{if(typeof process>"u"||typeof SS>"u")return;const t=SS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EO(t[1]);return e&&JSON.parse(e)},ov=()=>{try{return xU()||PU()||CU()||RU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SO=t=>{var e,n;return(n=(e=ov())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IU=t=>{const e=SO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PO=()=>{var t;return(t=ov())===null||t===void 0?void 0:t.config},CO=t=>{var e;return(e=ov())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mg(JSON.stringify(n)),mg(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function OU(){var t;const e=(t=ov())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VU(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FU(){return!OU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qU(){try{return typeof indexedDB=="object"}catch{return!1}}function $U(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU="FirebaseError";class Wo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UU,Object.setPrototypeOf(this,Wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,od.prototype.create)}}class od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jU(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Wo(i,u,r)}}function jU(t,e){return t.replace(zU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zU=/\{\$([^}]+)}/g;function BU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(PS(o)&&PS(s)){if(!Js(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WU(t,e){const n=new HU(t,e);return n.subscribe.bind(n)}class HU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=D0),i.error===void 0&&(i.error=D0),i.complete===void 0&&(i.complete=D0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function D0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QU(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YU(t){return t===Bs?void 0:t}function QU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const JU={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ZU=ot.INFO,e4={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},t4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=e4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dx{constructor(e){this.name=e,this._logLevel=ZU,this._logHandler=t4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const n4=(t,e)=>e.some(n=>t instanceof n);let CS,RS;function r4(){return CS||(CS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i4(){return RS||(RS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RO=new WeakMap,Uw=new WeakMap,IO=new WeakMap,N0=new WeakMap,hx=new WeakMap;function o4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ma(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&RO.set(n,t)}).catch(()=>{}),hx.set(e,t),e}function a4(t){if(Uw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Uw.set(t,e)}let jw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s4(t){jw=t(jw)}function u4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(L0(this),e,...n);return IO.set(r,e.sort?e.sort():[e]),Ma(r)}:i4().includes(t)?function(...e){return t.apply(L0(this),e),Ma(RO.get(this))}:function(...e){return Ma(t.apply(L0(this),e))}}function l4(t){return typeof t=="function"?u4(t):(t instanceof IDBTransaction&&a4(t),n4(t,r4())?new Proxy(t,jw):t)}function Ma(t){if(t instanceof IDBRequest)return o4(t);if(N0.has(t))return N0.get(t);const e=l4(t);return e!==t&&(N0.set(t,e),hx.set(e,t)),e}const L0=t=>hx.get(t);function c4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=Ma(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ma(s.result),c.oldVersion,c.newVersion,Ma(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const f4=["get","getKey","getAll","getAllKeys","count"],d4=["put","add","delete","clear"],V0=new Map;function IS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(V0.get(e))return V0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f4.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return V0.set(e,o),o}s4(t=>({...t,get:(e,n,r)=>IS(e,n)||t.get(e,n,r),has:(e,n)=>!!IS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zw="@firebase/app",kS="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new dx("@firebase/app"),m4="@firebase/app-compat",g4="@firebase/analytics-compat",v4="@firebase/analytics",y4="@firebase/app-check-compat",_4="@firebase/app-check",w4="@firebase/auth",x4="@firebase/auth-compat",b4="@firebase/database",T4="@firebase/data-connect",E4="@firebase/database-compat",S4="@firebase/functions",P4="@firebase/functions-compat",C4="@firebase/installations",R4="@firebase/installations-compat",I4="@firebase/messaging",k4="@firebase/messaging-compat",M4="@firebase/performance",A4="@firebase/performance-compat",O4="@firebase/remote-config",D4="@firebase/remote-config-compat",N4="@firebase/storage",L4="@firebase/storage-compat",V4="@firebase/firestore",F4="@firebase/vertexai",q4="@firebase/firestore-compat",$4="firebase",U4="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="[DEFAULT]",j4={[zw]:"fire-core",[m4]:"fire-core-compat",[v4]:"fire-analytics",[g4]:"fire-analytics-compat",[_4]:"fire-app-check",[y4]:"fire-app-check-compat",[w4]:"fire-auth",[x4]:"fire-auth-compat",[b4]:"fire-rtdb",[T4]:"fire-data-connect",[E4]:"fire-rtdb-compat",[S4]:"fire-fn",[P4]:"fire-fn-compat",[C4]:"fire-iid",[R4]:"fire-iid-compat",[I4]:"fire-fcm",[k4]:"fire-fcm-compat",[M4]:"fire-perf",[A4]:"fire-perf-compat",[O4]:"fire-rc",[D4]:"fire-rc-compat",[N4]:"fire-gcs",[L4]:"fire-gcs-compat",[V4]:"fire-fst",[q4]:"fire-fst-compat",[F4]:"fire-vertex","fire-js":"fire-js",[$4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map,z4=new Map,Ww=new Map;function MS(t,e){try{t.container.addComponent(e)}catch(n){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Al(t){const e=t.name;if(Ww.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;Ww.set(e,t);for(const n of gg.values())MS(n,t);for(const n of z4.values())MS(n,t);return!0}function px(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new od("app","Firebase",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=U4;function kO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Aa.create("bad-app-name",{appName:String(i)});if(n||(n=PO()),!n)throw Aa.create("no-options");const o=gg.get(i);if(o){if(Js(n,o.options)&&Js(r,o.config))return o;throw Aa.create("duplicate-app",{appName:i})}const s=new XU(i);for(const c of Ww.values())s.addComponent(c);const u=new W4(n,r,s);return gg.set(i,u),u}function MO(t=Bw){const e=gg.get(t);if(!e&&t===Bw&&PO())return kO();if(!e)throw Aa.create("no-app",{appName:t});return e}function Oa(t,e,n){var r;let i=(r=j4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(u.join(" "));return}Al(new Zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebase-heartbeat-database",G4=1,Uf="firebase-heartbeat-store";let F0=null;function AO(){return F0||(F0=c4(H4,G4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Aa.create("idb-open",{originalErrorMessage:t.message})})),F0}async function K4(t){try{const n=(await AO()).transaction(Uf),r=await n.objectStore(Uf).get(OO(t));return await n.done,r}catch(e){if(e instanceof Wo)Vo.warn(e.message);else{const n=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vo.warn(n.message)}}}async function AS(t,e){try{const r=(await AO()).transaction(Uf,"readwrite");await r.objectStore(Uf).put(e,OO(t)),await r.done}catch(n){if(n instanceof Wo)Vo.warn(n.message);else{const r=Aa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vo.warn(r.message)}}}function OO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=1024,Q4=30;class X4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Q4){const s=e3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OS(),{heartbeatsToSend:r,unsentEntries:i}=J4(this._heartbeatsCache.heartbeats),o=mg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vo.warn(n),""}}}function OS(){return new Date().toISOString().substring(0,10)}function J4(t,e=Y4){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qU()?$U().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function DS(t){return mg(JSON.stringify({version:2,heartbeats:t})).length}function e3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){Al(new Zs("platform-logger",e=>new h4(e),"PRIVATE")),Al(new Zs("heartbeat",e=>new X4(e),"PRIVATE")),Oa(zw,kS,t),Oa(zw,kS,"esm2017"),Oa("fire-js","")}t3("");var NS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,DO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function k(){}k.prototype=R.prototype,M.D=R.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(I,L,V){for(var A=Array(arguments.length-2),H=2;H<arguments.length;H++)A[H-2]=arguments[H];return R.prototype[L].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,k){k||(k=0);var I=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)I[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;16>L;++L)I[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=M.g[0],k=M.g[1],L=M.g[2];var V=M.g[3],A=R+(V^k&(L^V))+I[0]+3614090360&4294967295;R=k+(A<<7&4294967295|A>>>25),A=V+(L^R&(k^L))+I[1]+3905402710&4294967295,V=R+(A<<12&4294967295|A>>>20),A=L+(k^V&(R^k))+I[2]+606105819&4294967295,L=V+(A<<17&4294967295|A>>>15),A=k+(R^L&(V^R))+I[3]+3250441966&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(V^k&(L^V))+I[4]+4118548399&4294967295,R=k+(A<<7&4294967295|A>>>25),A=V+(L^R&(k^L))+I[5]+1200080426&4294967295,V=R+(A<<12&4294967295|A>>>20),A=L+(k^V&(R^k))+I[6]+2821735955&4294967295,L=V+(A<<17&4294967295|A>>>15),A=k+(R^L&(V^R))+I[7]+4249261313&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(V^k&(L^V))+I[8]+1770035416&4294967295,R=k+(A<<7&4294967295|A>>>25),A=V+(L^R&(k^L))+I[9]+2336552879&4294967295,V=R+(A<<12&4294967295|A>>>20),A=L+(k^V&(R^k))+I[10]+4294925233&4294967295,L=V+(A<<17&4294967295|A>>>15),A=k+(R^L&(V^R))+I[11]+2304563134&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(V^k&(L^V))+I[12]+1804603682&4294967295,R=k+(A<<7&4294967295|A>>>25),A=V+(L^R&(k^L))+I[13]+4254626195&4294967295,V=R+(A<<12&4294967295|A>>>20),A=L+(k^V&(R^k))+I[14]+2792965006&4294967295,L=V+(A<<17&4294967295|A>>>15),A=k+(R^L&(V^R))+I[15]+1236535329&4294967295,k=L+(A<<22&4294967295|A>>>10),A=R+(L^V&(k^L))+I[1]+4129170786&4294967295,R=k+(A<<5&4294967295|A>>>27),A=V+(k^L&(R^k))+I[6]+3225465664&4294967295,V=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(V^R))+I[11]+643717713&4294967295,L=V+(A<<14&4294967295|A>>>18),A=k+(V^R&(L^V))+I[0]+3921069994&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(L^V&(k^L))+I[5]+3593408605&4294967295,R=k+(A<<5&4294967295|A>>>27),A=V+(k^L&(R^k))+I[10]+38016083&4294967295,V=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(V^R))+I[15]+3634488961&4294967295,L=V+(A<<14&4294967295|A>>>18),A=k+(V^R&(L^V))+I[4]+3889429448&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(L^V&(k^L))+I[9]+568446438&4294967295,R=k+(A<<5&4294967295|A>>>27),A=V+(k^L&(R^k))+I[14]+3275163606&4294967295,V=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(V^R))+I[3]+4107603335&4294967295,L=V+(A<<14&4294967295|A>>>18),A=k+(V^R&(L^V))+I[8]+1163531501&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(L^V&(k^L))+I[13]+2850285829&4294967295,R=k+(A<<5&4294967295|A>>>27),A=V+(k^L&(R^k))+I[2]+4243563512&4294967295,V=R+(A<<9&4294967295|A>>>23),A=L+(R^k&(V^R))+I[7]+1735328473&4294967295,L=V+(A<<14&4294967295|A>>>18),A=k+(V^R&(L^V))+I[12]+2368359562&4294967295,k=L+(A<<20&4294967295|A>>>12),A=R+(k^L^V)+I[5]+4294588738&4294967295,R=k+(A<<4&4294967295|A>>>28),A=V+(R^k^L)+I[8]+2272392833&4294967295,V=R+(A<<11&4294967295|A>>>21),A=L+(V^R^k)+I[11]+1839030562&4294967295,L=V+(A<<16&4294967295|A>>>16),A=k+(L^V^R)+I[14]+4259657740&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(k^L^V)+I[1]+2763975236&4294967295,R=k+(A<<4&4294967295|A>>>28),A=V+(R^k^L)+I[4]+1272893353&4294967295,V=R+(A<<11&4294967295|A>>>21),A=L+(V^R^k)+I[7]+4139469664&4294967295,L=V+(A<<16&4294967295|A>>>16),A=k+(L^V^R)+I[10]+3200236656&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(k^L^V)+I[13]+681279174&4294967295,R=k+(A<<4&4294967295|A>>>28),A=V+(R^k^L)+I[0]+3936430074&4294967295,V=R+(A<<11&4294967295|A>>>21),A=L+(V^R^k)+I[3]+3572445317&4294967295,L=V+(A<<16&4294967295|A>>>16),A=k+(L^V^R)+I[6]+76029189&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(k^L^V)+I[9]+3654602809&4294967295,R=k+(A<<4&4294967295|A>>>28),A=V+(R^k^L)+I[12]+3873151461&4294967295,V=R+(A<<11&4294967295|A>>>21),A=L+(V^R^k)+I[15]+530742520&4294967295,L=V+(A<<16&4294967295|A>>>16),A=k+(L^V^R)+I[2]+3299628645&4294967295,k=L+(A<<23&4294967295|A>>>9),A=R+(L^(k|~V))+I[0]+4096336452&4294967295,R=k+(A<<6&4294967295|A>>>26),A=V+(k^(R|~L))+I[7]+1126891415&4294967295,V=R+(A<<10&4294967295|A>>>22),A=L+(R^(V|~k))+I[14]+2878612391&4294967295,L=V+(A<<15&4294967295|A>>>17),A=k+(V^(L|~R))+I[5]+4237533241&4294967295,k=L+(A<<21&4294967295|A>>>11),A=R+(L^(k|~V))+I[12]+1700485571&4294967295,R=k+(A<<6&4294967295|A>>>26),A=V+(k^(R|~L))+I[3]+2399980690&4294967295,V=R+(A<<10&4294967295|A>>>22),A=L+(R^(V|~k))+I[10]+4293915773&4294967295,L=V+(A<<15&4294967295|A>>>17),A=k+(V^(L|~R))+I[1]+2240044497&4294967295,k=L+(A<<21&4294967295|A>>>11),A=R+(L^(k|~V))+I[8]+1873313359&4294967295,R=k+(A<<6&4294967295|A>>>26),A=V+(k^(R|~L))+I[15]+4264355552&4294967295,V=R+(A<<10&4294967295|A>>>22),A=L+(R^(V|~k))+I[6]+2734768916&4294967295,L=V+(A<<15&4294967295|A>>>17),A=k+(V^(L|~R))+I[13]+1309151649&4294967295,k=L+(A<<21&4294967295|A>>>11),A=R+(L^(k|~V))+I[4]+4149444226&4294967295,R=k+(A<<6&4294967295|A>>>26),A=V+(k^(R|~L))+I[11]+3174756917&4294967295,V=R+(A<<10&4294967295|A>>>22),A=L+(R^(V|~k))+I[2]+718787259&4294967295,L=V+(A<<15&4294967295|A>>>17),A=k+(V^(L|~R))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+V&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var k=R-this.blockSize,I=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=k;)i(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<R;)if(I[L++]=M.charCodeAt(V++),L==this.blockSize){i(this,I),L=0;break}}else for(;V<R;)if(I[L++]=M[V++],L==this.blockSize){i(this,I),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var k=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=k&255,k/=256;for(this.u(M),M=Array(16),R=k=0;4>R;++R)for(var I=0;32>I;I+=8)M[k++]=this.g[R]>>>I&255;return M};function o(M,R){var k=u;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=R(M)}function s(M,R){this.h=R;for(var k=[],I=!0,L=M.length-1;0<=L;L--){var V=M[L]|0;I&&V==R||(k[L]=V,I=!1)}this.g=k}var u={};function c(M){return-128<=M&&128>M?o(M,function(R){return new s([R|0],0>R?-1:0)}):new s([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return m;if(0>M)return x(f(-M));for(var R=[],k=1,I=0;M>=k;I++)R[I]=M/k|0,k*=4294967296;return new s(R,0)}function h(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return x(h(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(R,8)),I=m,L=0;L<M.length;L+=8){var V=Math.min(8,M.length-L),A=parseInt(M.substring(L,L+V),R);8>V?(V=f(Math.pow(R,V)),I=I.j(V).add(f(A))):(I=I.j(k),I=I.add(f(A)))}return I}var m=c(0),g=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(w(this))return-x(this).m();for(var M=0,R=1,k=0;k<this.g.length;k++){var I=this.i(k);M+=(0<=I?I:4294967296+I)*R,R*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(y(this))return"0";if(w(this))return"-"+x(this).toString(M);for(var R=f(Math.pow(M,6)),k=this,I="";;){var L=O(k,R).g;k=T(k,L.j(R));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=L,y(k))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function y(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function w(M){return M.h==-1}t.l=function(M){return M=T(this,M),w(M)?-1:y(M)?0:1};function x(M){for(var R=M.g.length,k=[],I=0;I<R;I++)k[I]=~M.g[I];return new s(k,~M.h).add(g)}t.abs=function(){return w(this)?x(this):this},t.add=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],I=0,L=0;L<=R;L++){var V=I+(this.i(L)&65535)+(M.i(L)&65535),A=(V>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);I=A>>>16,V&=65535,A&=65535,k[L]=A<<16|V}return new s(k,k[k.length-1]&-2147483648?-1:0)};function T(M,R){return M.add(x(R))}t.j=function(M){if(y(this)||y(M))return m;if(w(this))return w(M)?x(this).j(x(M)):x(x(this).j(M));if(w(M))return x(this.j(x(M)));if(0>this.l(_)&&0>M.l(_))return f(this.m()*M.m());for(var R=this.g.length+M.g.length,k=[],I=0;I<2*R;I++)k[I]=0;for(I=0;I<this.g.length;I++)for(var L=0;L<M.g.length;L++){var V=this.i(I)>>>16,A=this.i(I)&65535,H=M.i(L)>>>16,X=M.i(L)&65535;k[2*I+2*L]+=A*X,E(k,2*I+2*L),k[2*I+2*L+1]+=V*X,E(k,2*I+2*L+1),k[2*I+2*L+1]+=A*H,E(k,2*I+2*L+1),k[2*I+2*L+2]+=V*H,E(k,2*I+2*L+2)}for(I=0;I<R;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=R;I<2*R;I++)k[I]=0;return new s(k,0)};function E(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function S(M,R){this.g=M,this.h=R}function O(M,R){if(y(R))throw Error("division by zero");if(y(M))return new S(m,m);if(w(M))return R=O(x(M),R),new S(x(R.g),x(R.h));if(w(R))return R=O(M,x(R)),new S(x(R.g),R.h);if(30<M.g.length){if(w(M)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var k=g,I=R;0>=I.l(M);)k=N(k),I=N(I);var L=$(k,1),V=$(I,1);for(I=$(I,2),k=$(k,2);!y(I);){var A=V.add(I);0>=A.l(M)&&(L=L.add(k),V=A),I=$(I,1),k=$(k,1)}return R=T(M,L.j(R)),new S(L,R)}for(L=m;0<=M.l(R);){for(k=Math.max(1,Math.floor(M.m()/R.m())),I=Math.ceil(Math.log(k)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=f(k),A=V.j(R);w(A)||0<A.l(M);)k-=I,V=f(k),A=V.j(R);y(V)&&(V=g),L=L.add(V),M=T(M,A)}return new S(L,M)}t.A=function(M){return O(this,M).h},t.and=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],I=0;I<R;I++)k[I]=this.i(I)&M.i(I);return new s(k,this.h&M.h)},t.or=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],I=0;I<R;I++)k[I]=this.i(I)|M.i(I);return new s(k,this.h|M.h)},t.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],I=0;I<R;I++)k[I]=this.i(I)^M.i(I);return new s(k,this.h^M.h)};function N(M){for(var R=M.g.length+1,k=[],I=0;I<R;I++)k[I]=M.i(I)<<1|M.i(I-1)>>>31;return new s(k,M.h)}function $(M,R){var k=R>>5;R%=32;for(var I=M.g.length-k,L=[],V=0;V<I;V++)L[V]=0<R?M.i(V+k)>>>R|M.i(V+k+1)<<32-R:M.i(V+k);return new s(L,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DO=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Da=s}).apply(typeof NS<"u"?NS:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NO,Tf,LO,eg,Hw,VO,FO,qO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,P,D){return p==Array.prototype||p==Object.prototype||(p[P]=D.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var P=0;P<p.length;++P){var D=p[P];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(p,P){if(P)e:{var D=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var Z=p[U];if(!(Z in D))break e;D=D[Z]}p=p[p.length-1],U=D[p],P=P(U),P!=U&&P!=null&&e(D,p,{configurable:!0,writable:!0,value:P})}}function o(p,P){p instanceof String&&(p+="");var D=0,U=!1,Z={next:function(){if(!U&&D<p.length){var he=D++;return{value:P(he,p[he]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(p){return p||function(){return o(this,function(P,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(p){var P=typeof p;return P=P!="object"?P:p?Array.isArray(p)?"array":P:"null",P=="array"||P=="object"&&typeof p.length=="number"}function f(p){var P=typeof p;return P=="object"&&p!=null||P=="function"}function h(p,P,D){return p.call.apply(p.bind,arguments)}function m(p,P,D){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,U),p.apply(P,Z)}}return function(){return p.apply(P,arguments)}}function g(p,P,D){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,g.apply(null,arguments)}function _(p,P){var D=Array.prototype.slice.call(arguments,1);return function(){var U=D.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function y(p,P){function D(){}D.prototype=P.prototype,p.aa=P.prototype,p.prototype=new D,p.prototype.constructor=p,p.Qb=function(U,Z,he){for(var Ce=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)Ce[yt-2]=arguments[yt];return P.prototype[Z].apply(U,Ce)}}function w(p){const P=p.length;if(0<P){const D=Array(P);for(let U=0;U<P;U++)D[U]=p[U];return D}return[]}function x(p,P){for(let D=1;D<arguments.length;D++){const U=arguments[D];if(c(U)){const Z=p.length||0,he=U.length||0;p.length=Z+he;for(let Ce=0;Ce<he;Ce++)p[Z+Ce]=U[Ce]}else p.push(U)}}class T{constructor(P,D){this.i=P,this.j=D,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function E(p){return/^[\s\xa0]*$/.test(p)}function S(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function O(p){return O[" "](p),p}O[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function $(p,P,D){for(const U in p)P.call(D,p[U],U,p)}function M(p,P){for(const D in p)P.call(void 0,p[D],D,p)}function R(p){const P={};for(const D in p)P[D]=p[D];return P}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,P){let D,U;for(let Z=1;Z<arguments.length;Z++){U=arguments[Z];for(D in U)p[D]=U[D];for(let he=0;he<k.length;he++)D=k[he],Object.prototype.hasOwnProperty.call(U,D)&&(p[D]=U[D])}}function L(p){var P=1;p=p.split(":");const D=[];for(;0<P&&p.length;)D.push(p.shift()),P--;return p.length&&D.push(p.join(":")),D}function V(p){u.setTimeout(()=>{throw p},0)}function A(){var p=ue;let P=null;return p.g&&(P=p.g,p.g=p.g.next,p.g||(p.h=null),P.next=null),P}class H{constructor(){this.h=this.g=null}add(P,D){const U=X.get();U.set(P,D),this.h?this.h.next=U:this.g=U,this.h=U}}var X=new T(()=>new Q,p=>p.reset());class Q{constructor(){this.next=this.g=this.h=null}set(P,D){this.h=P,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let J,j=!1,ue=new H,re=()=>{const p=u.Promise.resolve(void 0);J=()=>{p.then(W)}};var W=()=>{for(var p;p=A();){try{p.h.call(p.g)}catch(D){V(D)}var P=X;P.j(p),100>P.h&&(P.h++,p.next=P.g,P.g=p)}j=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(p,P){this.type=p,this.g=this.target=P,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,P=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const D=()=>{};u.addEventListener("test",D,P),u.removeEventListener("test",D,P)}catch{}return p}();function te(p,P){if(le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var D=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=P,P=p.relatedTarget){if(N){e:{try{O(P.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(P=null)}}else D=="mouseover"?P=p.fromElement:D=="mouseout"&&(P=p.toElement);this.relatedTarget=P,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:pe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&te.aa.h.call(this)}}y(te,le);var pe={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function de(p,P,D,U,Z){this.listener=p,this.proxy=null,this.src=P,this.type=D,this.capture=!!U,this.ha=Z,this.key=++Pe,this.da=this.fa=!1}function me(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p){this.src=p,this.g={},this.h=0}be.prototype.add=function(p,P,D,U,Z){var he=p.toString();p=this.g[he],p||(p=this.g[he]=[],this.h++);var Ce=Xe(p,P,U,Z);return-1<Ce?(P=p[Ce],D||(P.fa=!1)):(P=new de(P,this.src,he,!!U,Z),P.fa=D,p.push(P)),P};function fe(p,P){var D=P.type;if(D in p.g){var U=p.g[D],Z=Array.prototype.indexOf.call(U,P,void 0),he;(he=0<=Z)&&Array.prototype.splice.call(U,Z,1),he&&(me(P),p.g[D].length==0&&(delete p.g[D],p.h--))}}function Xe(p,P,D,U){for(var Z=0;Z<p.length;++Z){var he=p[Z];if(!he.da&&he.listener==P&&he.capture==!!D&&he.ha==U)return Z}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),ht={};function gt(p,P,D,U,Z){if(Array.isArray(P)){for(var he=0;he<P.length;he++)gt(p,P[he],D,U,Z);return null}return D=pt(D),p&&p[ce]?p.K(P,D,f(U)?!!U.capture:!1,Z):kt(p,P,D,!1,U,Z)}function kt(p,P,D,U,Z,he){if(!P)throw Error("Invalid event type");var Ce=f(Z)?!!Z.capture:!!Z,yt=qr(p);if(yt||(p[Be]=yt=new be(p)),D=yt.add(P,D,U,Ce,he),D.proxy)return D;if(U=ur(),D.proxy=U,U.src=p,U.listener=D,p.addEventListener)B||(Z=Ce),Z===void 0&&(Z=!1),p.addEventListener(P.toString(),U,Z);else if(p.attachEvent)p.attachEvent(Fn(P.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return D}function ur(){function p(D){return P.call(p.src,p.listener,D)}const P=qe;return p}function Vn(p,P,D,U,Z){if(Array.isArray(P))for(var he=0;he<P.length;he++)Vn(p,P[he],D,U,Z);else U=f(U)?!!U.capture:!!U,D=pt(D),p&&p[ce]?(p=p.i,P=String(P).toString(),P in p.g&&(he=p.g[P],D=Xe(he,D,U,Z),-1<D&&(me(he[D]),Array.prototype.splice.call(he,D,1),he.length==0&&(delete p.g[P],p.h--)))):p&&(p=qr(p))&&(P=p.g[P.toString()],p=-1,P&&(p=Xe(P,D,U,Z)),(D=-1<p?P[p]:null)&&lr(D))}function lr(p){if(typeof p!="number"&&p&&!p.da){var P=p.src;if(P&&P[ce])fe(P.i,p);else{var D=p.type,U=p.proxy;P.removeEventListener?P.removeEventListener(D,U,p.capture):P.detachEvent?P.detachEvent(Fn(D),U):P.addListener&&P.removeListener&&P.removeListener(U),(D=qr(P))?(fe(D,p),D.h==0&&(D.src=null,P[Be]=null)):me(p)}}}function Fn(p){return p in ht?ht[p]:ht[p]="on"+p}function qe(p,P){if(p.da)p=!0;else{P=new te(P,this);var D=p.listener,U=p.ha||p.src;p.fa&&lr(p),p=D.call(U,P)}return p}function qr(p){return p=p[Be],p instanceof be?p:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function pt(p){return typeof p=="function"?p:(p[qn]||(p[qn]=function(P){return p.handleEvent(P)}),p[qn])}function Et(){oe.call(this),this.i=new be(this),this.M=this,this.F=null}y(Et,oe),Et.prototype[ce]=!0,Et.prototype.removeEventListener=function(p,P,D,U){Vn(this,p,P,D,U)};function vt(p,P){var D,U=p.F;if(U)for(D=[];U;U=U.F)D.push(U);if(p=p.M,U=P.type||P,typeof P=="string")P=new le(P,p);else if(P instanceof le)P.target=P.target||p;else{var Z=P;P=new le(U,p),I(P,Z)}if(Z=!0,D)for(var he=D.length-1;0<=he;he--){var Ce=P.g=D[he];Z=zt(Ce,U,!0,P)&&Z}if(Ce=P.g=p,Z=zt(Ce,U,!0,P)&&Z,Z=zt(Ce,U,!1,P)&&Z,D)for(he=0;he<D.length;he++)Ce=P.g=D[he],Z=zt(Ce,U,!1,P)&&Z}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var p=this.i,P;for(P in p.g){for(var D=p.g[P],U=0;U<D.length;U++)me(D[U]);delete p.g[P],p.h--}}this.F=null},Et.prototype.K=function(p,P,D,U){return this.i.add(String(p),P,!1,D,U)},Et.prototype.L=function(p,P,D,U){return this.i.add(String(p),P,!0,D,U)};function zt(p,P,D,U){if(P=p.i.g[String(P)],!P)return!0;P=P.concat();for(var Z=!0,he=0;he<P.length;++he){var Ce=P[he];if(Ce&&!Ce.da&&Ce.capture==D){var yt=Ce.listener,Xt=Ce.ha||Ce.src;Ce.fa&&fe(p.i,Ce),Z=yt.call(Xt,U)!==!1&&Z}}return Z&&!U.defaultPrevented}function to(p,P,D){if(typeof p=="function")D&&(p=g(p,D));else if(p&&typeof p.handleEvent=="function")p=g(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:u.setTimeout(p,P||0)}function hn(p){p.g=to(()=>{p.g=null,p.i&&(p.i=!1,hn(p))},p.l);const P=p.h;p.h=null,p.m.apply(null,P)}class Hn extends oe{constructor(P,D){super(),this.m=P,this.l=D,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(p){oe.call(this),this.h=p,this.g={}}y(no,oe);var ns=[];function rs(p){$(p.g,function(P,D){this.g.hasOwnProperty(D)&&lr(P)},p),p.g={}}no.prototype.N=function(){no.aa.N.call(this),rs(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=u.JSON.stringify,os=u.JSON.parse,Ko=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function xi(){}xi.prototype.h=null;function ro(p){return p.h||(p.h=p.i())}function G(){}var ae={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){le.call(this,"d")}y(ye,le);function Ee(){le.call(this,"c")}y(Ee,le);var Qt={},cr=null;function Er(){return cr=cr||new Et}Qt.La="serverreachability";function bi(p){le.call(this,Qt.La,p)}y(bi,le);function Gn(p){const P=Er();vt(P,new bi(P))}Qt.STAT_EVENT="statevent";function as(p,P){le.call(this,Qt.STAT_EVENT,p),this.stat=P}y(as,le);function Dt(p){const P=Er();vt(P,new as(P,p))}Qt.Ma="timingevent";function Yo(p,P){le.call(this,Qt.Ma,p),this.size=P}y(Yo,le);function fr(p,P){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},P)}function io(){this.g=!0}io.prototype.xa=function(){this.g=!1};function oo(p,P,D,U,Z,he){p.info(function(){if(p.g)if(he)for(var Ce="",yt=he.split("&"),Xt=0;Xt<yt.length;Xt++){var ut=yt[Xt].split("=");if(1<ut.length){var on=ut[0];ut=ut[1];var Bt=on.split("_");Ce=2<=Bt.length&&Bt[1]=="type"?Ce+(on+"="+ut+"&"):Ce+(on+"=redacted&")}}else Ce=null;else Ce=he;return"XMLHTTP REQ ("+U+") [attempt "+Z+"]: "+P+`
`+D+`
`+Ce})}function Qo(p,P,D,U,Z,he,Ce){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Z+"]: "+P+`
`+D+`
`+he+" "+Ce})}function dr(p,P,D,U){p.info(function(){return"XMLHTTP TEXT ("+P+"): "+mc(p,D)+(U?" "+U:"")})}function ss(p,P){p.info(function(){return"TIMEOUT: "+P})}io.prototype.info=function(){};function mc(p,P){if(!p.g)return P;if(!P)return null;try{var D=JSON.parse(P);if(D){for(p=0;p<D.length;p++)if(Array.isArray(D[p])){var U=D[p];if(!(2>U.length)){var Z=U[1];if(Array.isArray(Z)&&!(1>Z.length)){var he=Z[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Ce=1;Ce<Z.length;Ce++)Z[Ce]=""}}}}return is(D)}catch{return P}}var Kn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function En(){}y(En,xi),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},hr=new En;function Yn(p,P,D,U){this.j=p,this.i=P,this.l=D,this.R=U||1,this.U=new no(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}var us={},Xo={};function Jo(p,P,D){p.L=1,p.v=Zo(wt(P)),p.m=D,p.P=!0,ls(p,null)}function ls(p,P){p.F=Date.now(),_t(p),p.A=wt(p.v);var D=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),ta(D.i,"t",U),p.C=0,D=p.j.J,p.h=new ao,p.g=Ld(p.j,D?P:null,!p.m),0<p.O&&(p.M=new Hn(g(p.Y,p,p.g),p.O)),P=p.U,D=p.g,U=p.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(ns[0]=Z.toString()),Z=ns);for(var he=0;he<Z.length;he++){var Ce=gt(D,Z[he],U||P.handleEvent,!1,P.h||P);if(!Ce)break;P.g[Ce.key]=Ce}P=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,P)):(p.u="GET",p.g.ea(p.A,p.u,null,P)),Gn(),oo(p.i,p.u,p.A,p.l,p.R,p.m)}Yn.prototype.ca=function(p){p=p.target;const P=this.M;P&&Jn(p)==3?P.j():this.Y(p)},Yn.prototype.Y=function(p){try{if(p==this.g)e:{const Bt=Jn(this.g);var P=this.g.Ba();const Cr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||wc(this.g)))){this.J||Bt!=4||P==7||(P==8||0>=Cr?Gn(3):Gn(2)),so(this);var D=this.g.Z();this.X=D;t:if(vu(this)){var U=wc(this.g);p="";var Z=U.length,he=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Ti(this);var Ce="";break t}this.h.i=new u.TextDecoder}for(P=0;P<Z;P++)this.h.h=!0,p+=this.h.i.decode(U[P],{stream:!(he&&P==Z-1)});U.length=0,this.h.g+=p,this.C=0,Ce=this.h.g}else Ce=this.g.oa();if(this.o=D==200,Qo(this.i,this.u,this.A,this.l,this.R,Bt,D),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,Xt=this.g;if((yt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(yt)){var ut=yt;break t}}ut=null}if(D=ut)dr(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,D);else{this.o=!1,this.s=3,Dt(12),Qn(this),Ti(this);break e}}if(this.P){D=!0;let mr;for(;!this.J&&this.C<Ce.length;)if(mr=gc(this,Ce),mr==Xo){Bt==4&&(this.s=4,Dt(14),D=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==us){this.s=4,Dt(15),dr(this.i,this.l,Ce,"[Invalid Chunk]"),D=!1;break}else dr(this.i,this.l,mr,null),cs(this,mr);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||Ce.length!=0||this.h.h||(this.s=1,Dt(16),D=!1),this.o=this.o&&D,!D)dr(this.i,this.l,Ce,"[Invalid Chunked Response]"),Qn(this),Ti(this);else if(0<Ce.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+Ce.length),bc(on),on.M=!0,Dt(11))}}else dr(this.i,this.l,Ce,null),cs(this,Ce);Bt==4&&Qn(this),this.o&&!this.J&&(Bt==4?Mu(this.j,this):(this.o=!1,_t(this)))}else Pu(this.g),D==400&&0<Ce.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Qn(this),Ti(this)}}}catch{}finally{}};function vu(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function gc(p,P){var D=p.C,U=P.indexOf(`
`,D);return U==-1?Xo:(D=Number(P.substring(D,U)),isNaN(D)?us:(U+=1,U+D>P.length?Xo:(P=P.slice(U,U+D),p.C=U+D,P)))}Yn.prototype.cancel=function(){this.J=!0,Qn(this)};function _t(p){p.S=Date.now()+p.I,yu(p,p.I)}function yu(p,P){if(p.B!=null)throw Error("WatchDog timer not null");p.B=fr(g(p.ba,p),P)}function so(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Yn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ss(this.i,this.A),this.L!=2&&(Gn(),Dt(17)),Qn(this),this.s=2,Ti(this)):yu(this,this.S-p)};function Ti(p){p.j.G==0||p.J||Mu(p.j,p)}function Qn(p){so(p);var P=p.M;P&&typeof P.ma=="function"&&P.ma(),p.M=null,rs(p.U),p.g&&(P=p.g,p.g=null,P.abort(),P.ma())}function cs(p,P){try{var D=p.j;if(D.G!=0&&(D.g==p||pn(D.h,p))){if(!p.K&&pn(D.h,p)&&D.G==3){try{var U=D.Da.g.parse(P)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Z=U;if(Z[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<p.F)ku(D),Wr(D);else break e;Iu(D),Dt(18)}}else D.za=Z[1],0<D.za-D.T&&37500>Z[2]&&D.F&&D.v==0&&!D.C&&(D.C=fr(g(D.Za,D),6e3));if(1>=wu(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else ho(D,11)}else if((p.K||D.g==p)&&ku(D),!E(P))for(Z=D.Da.g.parse(P),P=0;P<Z.length;P++){let ut=Z[P];if(D.T=ut[0],ut=ut[1],D.G==2)if(ut[0]=="c"){D.K=ut[1],D.ia=ut[2];const on=ut[3];on!=null&&(D.la=on,D.j.info("VER="+D.la));const Bt=ut[4];Bt!=null&&(D.Aa=Bt,D.j.info("SVER="+D.Aa));const Cr=ut[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(U=1.5*Cr,D.L=U,D.j.info("backChannelRequestTimeoutMs_="+U)),U=D;const mr=p.g;if(mr){const ms=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var he=U.h;he.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(fs(he,he.h),he.h=null))}if(U.D){const Ou=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ou&&(U.ya=Ou,xt(U.I,U.D,Ou))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-p.F,D.j.info("Handshake RTT: "+D.R+"ms")),U=D;var Ce=p;if(U.qa=Nd(U,U.J?U.ia:null,U.W),Ce.K){xu(U.h,Ce);var yt=Ce,Xt=U.L;Xt&&(yt.I=Xt),yt.B&&(so(yt),_t(yt)),U.g=Ce}else ps(U);0<D.i.length&&Ci(D)}else ut[0]!="stop"&&ut[0]!="close"||ho(D,7);else D.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?ho(D,7):gn(D):ut[0]!="noop"&&D.l&&D.l.ta(ut),D.v=0)}}Gn(4)}catch{}}var _u=class{constructor(p,P){this.g=p,this.map=P}};function uo(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $n(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function wu(p){return p.h?1:p.g?p.g.size:0}function pn(p,P){return p.h?p.h==P:p.g?p.g.has(P):!1}function fs(p,P){p.g?p.g.add(P):p.h=P}function xu(p,P){p.h&&p.h==P?p.h=null:p.g&&p.g.has(P)&&p.g.delete(P)}uo.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function bu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let P=p.i;for(const D of p.g.values())P=P.concat(D.D);return P}return w(p.i)}function Ie(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var P=[],D=p.length,U=0;U<D;U++)P.push(p[U]);return P}P=[],D=0;for(U in p)P[D++]=p[U];return P}function Qe(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var P=[];p=p.length;for(var D=0;D<p;D++)P.push(D);return P}P=[],D=0;for(const U in p)P[D++]=U;return P}}}function Je(p,P){if(p.forEach&&typeof p.forEach=="function")p.forEach(P,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,P,void 0);else for(var D=Qe(p),U=Ie(p),Z=U.length,he=0;he<Z;he++)P.call(void 0,U[he],D&&D[he],p)}var xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rn(p,P){if(p){p=p.split("&");for(var D=0;D<p.length;D++){var U=p[D].indexOf("="),Z=null;if(0<=U){var he=p[D].substring(0,U);Z=p[D].substring(U+1)}else he=p[D];P(he,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function it(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof it){this.h=p.h,$t(this,p.j),this.o=p.o,this.g=p.g,Sn(this,p.s),this.l=p.l;var P=p.i,D=new Ei;D.i=P.i,P.g&&(D.g=new Map(P.g),D.h=P.h),$r(this,D),this.m=p.m}else p&&(P=String(p).match(xe))?(this.h=!1,$t(this,P[1]||"",!0),this.o=st(P[2]||""),this.g=st(P[3]||"",!0),Sn(this,P[4]),this.l=st(P[5]||"",!0),$r(this,P[6]||"",!0),this.m=st(P[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}it.prototype.toString=function(){var p=[],P=this.j;P&&p.push(ea(P,Tu,!0),":");var D=this.g;return(D||P=="file")&&(p.push("//"),(P=this.o)&&p.push(ea(P,Tu,!0),"@"),p.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&p.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&p.push("/"),p.push(ea(D,D.charAt(0)=="/"?Cd:Pd,!0))),(D=this.i.toString())&&p.push("?",D),(D=this.m)&&p.push("#",ea(D,vc)),p.join("")};function wt(p){return new it(p)}function $t(p,P,D){p.j=D?st(P,!0):P,p.j&&(p.j=p.j.replace(/:$/,""))}function Sn(p,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);p.s=P}else p.s=null}function $r(p,P,D){P instanceof Ei?(p.i=P,Si(p.i,p.h)):(D||(P=ea(P,Rd)),p.i=new Ei(P,p.h))}function xt(p,P,D){p.i.set(P,D)}function Zo(p){return xt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function st(p,P){return p?P?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ea(p,P,D){return typeof p=="string"?(p=encodeURI(p).replace(P,Sd),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Sd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Tu=/[#\/\?@]/g,Pd=/[#\?:]/g,Cd=/[#\?]/g,Rd=/[#\?@]/g,vc=/#/g;function Ei(p,P){this.h=this.g=null,this.i=p||null,this.j=!!P}function mn(p){p.g||(p.g=new Map,p.h=0,p.i&&rn(p.i,function(P,D){p.add(decodeURIComponent(P.replace(/\+/g," ")),D)}))}t=Ei.prototype,t.add=function(p,P){mn(this),this.i=null,p=Pr(this,p);var D=this.g.get(p);return D||this.g.set(p,D=[]),D.push(P),this.h+=1,this};function Ur(p,P){mn(p),P=Pr(p,P),p.g.has(P)&&(p.i=null,p.h-=p.g.get(P).length,p.g.delete(P))}function jr(p,P){return mn(p),P=Pr(p,P),p.g.has(P)}t.forEach=function(p,P){mn(this),this.g.forEach(function(D,U){D.forEach(function(Z){p.call(P,Z,U,this)},this)},this)},t.na=function(){mn(this);const p=Array.from(this.g.values()),P=Array.from(this.g.keys()),D=[];for(let U=0;U<P.length;U++){const Z=p[U];for(let he=0;he<Z.length;he++)D.push(P[U])}return D},t.V=function(p){mn(this);let P=[];if(typeof p=="string")jr(this,p)&&(P=P.concat(this.g.get(Pr(this,p))));else{p=Array.from(this.g.values());for(let D=0;D<p.length;D++)P=P.concat(p[D])}return P},t.set=function(p,P){return mn(this),this.i=null,p=Pr(this,p),jr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[P]),this.h+=1,this},t.get=function(p,P){return p?(p=this.V(p),0<p.length?String(p[0]):P):P};function ta(p,P,D){Ur(p,P),0<D.length&&(p.i=null,p.g.set(Pr(p,P),w(D)),p.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],P=Array.from(this.g.keys());for(var D=0;D<P.length;D++){var U=P[D];const he=encodeURIComponent(String(U)),Ce=this.V(U);for(U=0;U<Ce.length;U++){var Z=he;Ce[U]!==""&&(Z+="="+encodeURIComponent(String(Ce[U]))),p.push(Z)}}return this.i=p.join("&")};function Pr(p,P){return P=String(P),p.j&&(P=P.toLowerCase()),P}function Si(p,P){P&&!p.j&&(mn(p),p.i=null,p.g.forEach(function(D,U){var Z=U.toLowerCase();U!=Z&&(Ur(this,U),ta(this,Z,D))},p)),p.j=P}function iy(p,P){const D=new io;if(u.Image){const U=new Image;U.onload=_(Xn,D,"TestLoadImage: loaded",!0,P,U),U.onerror=_(Xn,D,"TestLoadImage: error",!1,P,U),U.onabort=_(Xn,D,"TestLoadImage: abort",!1,P,U),U.ontimeout=_(Xn,D,"TestLoadImage: timeout",!1,P,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else P(!1)}function Id(p,P){const D=new io,U=new AbortController,Z=setTimeout(()=>{U.abort(),Xn(D,"TestPingServer: timeout",!1,P)},1e4);fetch(p,{signal:U.signal}).then(he=>{clearTimeout(Z),he.ok?Xn(D,"TestPingServer: ok",!0,P):Xn(D,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(Z),Xn(D,"TestPingServer: error",!1,P)})}function Xn(p,P,D,U,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),U(D)}catch{}}function oy(){this.g=new Ko}function kd(p,P,D){const U=D||"";try{Je(p,function(Z,he){let Ce=Z;f(Z)&&(Ce=is(Z)),P.push(U+he+"="+encodeURIComponent(Ce))})}catch(Z){throw P.push(U+"type="+encodeURIComponent("_badmap")),Z}}function lo(p){this.l=p.Ub||null,this.j=p.eb||!1}y(lo,xi),lo.prototype.g=function(){return new ds(this.l,this.j)},lo.prototype.i=function(p){return function(){return p}}({});function ds(p,P){Et.call(this),this.D=p,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ds,Et),t=ds.prototype,t.open=function(p,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=P,this.readyState=1,Br(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(P.body=p),(this.D||u).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Md(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Md(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var P=p.value?p.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!p.done}))&&(this.response=this.responseText+=P)}p.done?zr(this):Br(this),this.readyState==3&&Md(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,zr(this))},t.Qa=function(p){this.g&&(this.response=p,zr(this))},t.ga=function(){this.g&&zr(this)};function zr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Br(p)}t.setRequestHeader=function(p,P){this.u.append(p,P)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],P=this.h.entries();for(var D=P.next();!D.done;)D=D.value,p.push(D[0]+": "+D[1]),D=P.next();return p.join(`\r
`)};function Br(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function co(p){let P="";return $(p,function(D,U){P+=U,P+=":",P+=D,P+=`\r
`}),P}function na(p,P,D){e:{for(U in D){var U=!1;break e}U=!0}U||(D=co(D),typeof p=="string"?D!=null&&encodeURIComponent(String(D)):xt(p,P,D))}function Mt(p){Et.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Mt,Et);var ay=/^https?$/i,yc=["POST","PUT"];t=Mt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,P,D,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);P=P?P.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?ro(this.o):ro(hr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(P,String(p),!0),this.B=!1}catch(he){hs(this,he);return}if(p=D||"",D=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Z in U)D.set(Z,U[Z]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const he of U.keys())D.set(he,U.get(he));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(D.keys()).find(he=>he.toLowerCase()=="content-type"),Z=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(yc,P,void 0))||U||Z||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ce]of D)this.g.setRequestHeader(he,Ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Su(this),this.u=!0,this.g.send(p),this.u=!1}catch(he){hs(this,he)}};function hs(p,P){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=P,p.m=5,Eu(p),pr(p)}function Eu(p){p.A||(p.A=!0,vt(p,"complete"),vt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,vt(this,"complete"),vt(this,"abort"),pr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_c(this):this.bb())},t.bb=function(){_c(this)};function _c(p){if(p.h&&typeof s<"u"&&(!p.v[1]||Jn(p)!=4||p.Z()!=2)){if(p.u&&Jn(p)==4)to(p.Ea,0,p);else if(vt(p,"readystatechange"),Jn(p)==4){p.h=!1;try{const Ce=p.Z();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var D;if(!(D=P)){var U;if(U=Ce===0){var Z=String(p.D).match(xe)[1]||null;!Z&&u.self&&u.self.location&&(Z=u.self.location.protocol.slice(0,-1)),U=!ay.test(Z?Z.toLowerCase():"")}D=U}if(D)vt(p,"complete"),vt(p,"success");else{p.m=6;try{var he=2<Jn(p)?p.g.statusText:""}catch{he=""}p.l=he+" ["+p.Z()+"]",Eu(p)}}finally{pr(p)}}}}function pr(p,P){if(p.g){Su(p);const D=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,P||vt(p,"ready");try{D.onreadystatechange=U}catch{}}}function Su(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Jn(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var P=this.g.responseText;return p&&P.indexOf(p)==0&&(P=P.substring(p.length)),os(P)}};function wc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Pu(p){const P={};p=(p.g&&2<=Jn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(E(p[U]))continue;var D=L(p[U]);const Z=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const he=P[Z]||[];P[Z]=he,he.push(D)}M(P,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(p,P,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||P}function xc(p){this.Aa=0,this.i=[],this.j=new io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,p),this.cb=Pi("retryDelaySeedMs",1e4,p),this.Wa=Pi("forwardChannelMaxRetries",2,p),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new uo(p&&p.concurrentRequestLimit),this.Da=new oy,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xc.prototype,t.la=8,t.G=1,t.connect=function(p,P,D,U){Dt(0),this.W=p,this.H=P||{},D&&U!==void 0&&(this.H.OSID=D,this.H.OAID=U),this.F=this.X,this.I=Nd(this,null,this.W),Ci(this)};function gn(p){if(Cu(p),p.G==3){var P=p.U++,D=wt(p.I);if(xt(D,"SID",p.K),xt(D,"RID",P),xt(D,"TYPE","terminate"),fo(p,D),P=new Yn(p,p.j,P),P.L=2,P.v=Zo(wt(D)),D=!1,u.navigator&&u.navigator.sendBeacon)try{D=u.navigator.sendBeacon(P.v.toString(),"")}catch{}!D&&u.Image&&(new Image().src=P.v,D=!0),D||(P.g=Ld(P.j,null),P.g.ea(P.v)),P.F=Date.now(),_t(P)}Dd(p)}function Wr(p){p.g&&(bc(p),p.g.cancel(),p.g=null)}function Cu(p){Wr(p),p.u&&(u.clearTimeout(p.u),p.u=null),ku(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Ci(p){if(!$n(p.h)&&!p.s){p.s=!0;var P=p.Ga;J||re(),j||(J(),j=!0),ue.add(P,p),p.B=0}}function sy(p,P){return wu(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=P.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=fr(g(p.Ga,p,P),Od(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Z=new Yn(this,this.j,p);let he=this.o;if(this.S&&(he?(he=R(he),I(he,this.S)):he=this.S),this.m!==null||this.O||(Z.H=he,he=null),this.P)e:{for(var P=0,D=0;D<this.i.length;D++){t:{var U=this.i[D];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(P+=U,4096<P){P=D;break e}if(P===4096||D===this.i.length-1){P=D+1;break e}}P=1e3}else P=1e3;P=ra(this,Z,P),D=wt(this.I),xt(D,"RID",p),xt(D,"CVER",22),this.D&&xt(D,"X-HTTP-Session-Id",this.D),fo(this,D),he&&(this.O?P="headers="+encodeURIComponent(String(co(he)))+"&"+P:this.m&&na(D,this.m,he)),fs(this.h,Z),this.Ua&&xt(D,"TYPE","init"),this.P?(xt(D,"$req",P),xt(D,"SID","null"),Z.T=!0,Jo(Z,D,null)):Jo(Z,D,P),this.G=2}}else this.G==3&&(p?Ru(this,p):this.i.length==0||$n(this.h)||Ru(this))};function Ru(p,P){var D;P?D=P.l:D=p.U++;const U=wt(p.I);xt(U,"SID",p.K),xt(U,"RID",D),xt(U,"AID",p.T),fo(p,U),p.m&&p.o&&na(U,p.m,p.o),D=new Yn(p,p.j,D,p.B+1),p.m===null&&(D.H=p.o),P&&(p.i=P.D.concat(p.i)),P=ra(p,D,1e3),D.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),fs(p.h,D),Jo(D,U,P)}function fo(p,P){p.H&&$(p.H,function(D,U){xt(P,U,D)}),p.l&&Je({},function(D,U){xt(P,U,D)})}function ra(p,P,D){D=Math.min(p.i.length,D);var U=p.l?g(p.l.Na,p.l,p):null;e:{var Z=p.i;let he=-1;for(;;){const Ce=["count="+D];he==-1?0<D?(he=Z[0].g,Ce.push("ofs="+he)):he=0:Ce.push("ofs="+he);let yt=!0;for(let Xt=0;Xt<D;Xt++){let ut=Z[Xt].g;const on=Z[Xt].map;if(ut-=he,0>ut)he=Math.max(0,Z[Xt].g-100),yt=!1;else try{kd(on,Ce,"req"+ut+"_")}catch{U&&U(on)}}if(yt){U=Ce.join("&");break e}}}return p=p.i.splice(0,D),P.D=p,U}function ps(p){if(!p.g&&!p.u){p.Y=1;var P=p.Fa;J||re(),j||(J(),j=!0),ue.add(P,p),p.v=0}}function Iu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=fr(g(p.Fa,p),Od(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=fr(g(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Wr(this),Ad(this))};function bc(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Ad(p){p.g=new Yn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var P=wt(p.qa);xt(P,"RID","rpc"),xt(P,"SID",p.K),xt(P,"AID",p.T),xt(P,"CI",p.F?"0":"1"),!p.F&&p.ja&&xt(P,"TO",p.ja),xt(P,"TYPE","xmlhttp"),fo(p,P),p.m&&p.o&&na(P,p.m,p.o),p.L&&(p.g.I=p.L);var D=p.g;p=p.ia,D.L=1,D.v=Zo(wt(P)),D.m=null,D.P=!0,ls(D,p)}t.Za=function(){this.C!=null&&(this.C=null,Wr(this),Iu(this),Dt(19))};function ku(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Mu(p,P){var D=null;if(p.g==P){ku(p),bc(p),p.g=null;var U=2}else if(pn(p.h,P))D=P.D,xu(p.h,P),U=1;else return;if(p.G!=0){if(P.o)if(U==1){D=P.m?P.m.length:0,P=Date.now()-P.F;var Z=p.B;U=Er(),vt(U,new Yo(U,D)),Ci(p)}else ps(p);else if(Z=P.s,Z==3||Z==0&&0<P.X||!(U==1&&sy(p,P)||U==2&&Iu(p)))switch(D&&0<D.length&&(P=p.h,P.i=P.i.concat(D)),Z){case 1:ho(p,5);break;case 4:ho(p,10);break;case 3:ho(p,6);break;default:ho(p,2)}}}function Od(p,P){let D=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(D*=2),D*P}function ho(p,P){if(p.j.info("Error code "+P),P==2){var D=g(p.fb,p),U=p.Xa;const Z=!U;U=new it(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||$t(U,"https"),Zo(U),Z?iy(U.toString(),D):Id(U.toString(),D)}else Dt(2);p.G=0,p.l&&p.l.sa(P),Dd(p),Cu(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Dd(p){if(p.G=0,p.ka=[],p.l){const P=bu(p.h);(P.length!=0||p.i.length!=0)&&(x(p.ka,P),x(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Nd(p,P,D){var U=D instanceof it?wt(D):new it(D);if(U.g!="")P&&(U.g=P+"."+U.g),Sn(U,U.s);else{var Z=u.location;U=Z.protocol,P=P?P+"."+Z.hostname:Z.hostname,Z=+Z.port;var he=new it(null);U&&$t(he,U),P&&(he.g=P),Z&&Sn(he,Z),D&&(he.l=D),U=he}return D=p.D,P=p.ya,D&&P&&xt(U,D,P),xt(U,"VER",p.la),fo(p,U),U}function Ld(p,P,D){if(P&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=p.Ca&&!p.pa?new Mt(new lo({eb:D})):new Mt(p.pa),P.Ha(p.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}t=Tc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Au(){}Au.prototype.g=function(p,P){return new Un(p,P)};function Un(p,P){Et.call(this),this.g=new xc(P),this.l=p,this.h=P&&P.messageUrlParams||null,p=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(p?p["X-WebChannel-Content-Type"]=P.messageContentType:p={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(p?p["X-WebChannel-Client-Profile"]=P.va:p={"X-WebChannel-Client-Profile":P.va}),this.g.S=p,(p=P&&P.Sb)&&!E(p)&&(this.g.m=p),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!E(P)&&(this.g.D=P,p=this.h,p!==null&&P in p&&(p=this.h,P in p&&delete p[P])),this.j=new Ri(this)}y(Un,Et),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){gn(this.g)},Un.prototype.o=function(p){var P=this.g;if(typeof p=="string"){var D={};D.__data__=p,p=D}else this.u&&(D={},D.__data__=is(p),p=D);P.i.push(new _u(P.Ya++,p)),P.G==3&&Ci(P)},Un.prototype.N=function(){this.g.l=null,delete this.j,gn(this.g),delete this.g,Un.aa.N.call(this)};function Vd(p){ye.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var P=p.__sm__;if(P){e:{for(const D in P){p=D;break e}p=void 0}(this.i=p)&&(p=this.i,P=P!==null&&p in P?P[p]:void 0),this.data=P}else this.data=p}y(Vd,ye);function Fd(){Ee.call(this),this.status=1}y(Fd,Ee);function Ri(p){this.g=p}y(Ri,Tc),Ri.prototype.ua=function(){vt(this.g,"a")},Ri.prototype.ta=function(p){vt(this.g,new Vd(p))},Ri.prototype.sa=function(p){vt(this.g,new Fd)},Ri.prototype.ra=function(){vt(this.g,"b")},Au.prototype.createWebChannel=Au.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,qO=function(){return new Au},FO=function(){return Er()},VO=Qt,Hw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,eg=Kn,Sr.COMPLETE="complete",LO=Sr,G.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Tf=G,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,NO=Mt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const LS="@firebase/firestore",VS="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new dx("@firebase/firestore");function vl(){return eu.logLevel}function ke(t,...e){if(eu.logLevel<=ot.DEBUG){const n=e.map(mx);eu.debug(`Firestore (${Jl}): ${t}`,...n)}}function Fo(t,...e){if(eu.logLevel<=ot.ERROR){const n=e.map(mx);eu.error(`Firestore (${Jl}): ${t}`,...n)}}function Ol(t,...e){if(eu.logLevel<=ot.WARN){const n=e.map(mx);eu.warn(`Firestore (${Jl}): ${t}`,...n)}}function mx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+t;throw Fo(e),new Error(e)}function mt(t,e){t||We()}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class r3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i3{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Na,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Na)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new $O(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Dn(e)}}class o3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s3{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ui(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new FS(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string"),this.R=n.token,new FS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=u3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function Gw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return tt(r,i);{const o=UO(),s=l3(o.encode(qS(t,n)),o.encode(qS(e,n)));return s!==0?s:tt(r,i)}}n+=r>65535?2:1}return tt(t.length,e.length)}function qS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function l3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function Dl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=-62135596800,US=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*US);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$S)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/US}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$S;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Rt(0,0))}static max(){return new Ke(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(),r===void 0?r=e.length-n:r>e.length-n&&We(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Vi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),i=Vi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Gw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class It extends Vi{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const c3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Vi{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return c3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jS}static keyField(){return new xn([jS])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ne(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Ne(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(It.fromString(e))}static fromName(e){return new Ue(It.fromString(e).popFirst(5))}static empty(){return new Ue(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=-1;function f3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new qa(i,Ue.empty(),e)}function d3(t){return new qa(t.readTime,t.key,jf)}class qa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qa(Ke.min(),Ue.empty(),jf)}static max(){return new qa(Ke.max(),Ue.empty(),jf)}}function h3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==p3)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,o=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++o,s&&o===i&&n()},c=>r(c))}),s=!0,o===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(h=>{s[f]=h,++u,u===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new ge((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function g3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}av.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=-1;function sv(t){return t==null}function vg(t){return t===0&&1/t==-1/0}function v3(t){return typeof t=="number"&&Number.isInteger(t)&&!vg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="";function y3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zS(e)),e=_3(t.get(n),e);return zS(e)}function _3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case zO:n+="";break;default:n+=o}}return n}function zS(t){return t+zO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new wn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,n,r,i,o){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(e){return new WS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class WS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new fi([])}unionWith(e){let n=new tn(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WO("Invalid base64 string: "+o):o}}(e);return new bn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const w3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(t){if(mt(!!t),typeof t=="string"){let e=0;const n=w3.exec(t);if(mt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="server_timestamp",GO="__type__",KO="__previous_value__",YO="__local_write_time__";function vx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GO])===null||n===void 0?void 0:n.stringValue)===HO}function uv(t){const e=t.mapValue.fields[KO];return vx(e)?uv(e):e}function zf(t){const e=$a(t.mapValue.fields[YO].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,i,o,s,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}const yg="(default)";class Bf{constructor(e,n){this.projectId=e,this.database=n||yg}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database===yg}isEqual(e){return e instanceof Bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="__type__",b3="__max__",Lh={mapValue:{}},XO="__vector__",_g="value";function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vx(t)?4:E3(t)?9007199254740991:T3(t)?10:11:We()}function Hi(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zf(t).isEqual(zf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=$a(i.timestampValue),u=$a(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ua(i.bytesValue).isEqual(Ua(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return jt(i.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return jt(i.integerValue)===jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=jt(i.doubleValue),u=jt(o.doubleValue);return s===u?vg(s)===vg(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(BS(s)!==BS(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Hi(s[c],u[c])))return!1;return!0}(t,e);default:return We()}}function Wf(t,e){return(t.values||[]).find(n=>Hi(n,e))!==void 0}function Nl(t,e){if(t===e)return 0;const n=ja(t),r=ja(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const u=jt(o.integerValue||o.doubleValue),c=jt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return HS(t.timestampValue,e.timestampValue);case 4:return HS(zf(t),zf(e));case 5:return Gw(t.stringValue,e.stringValue);case 6:return function(o,s){const u=Ua(o),c=Ua(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const u=o.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=tt(u[f],c[f]);if(h!==0)return h}return tt(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const u=tt(jt(o.latitude),jt(s.latitude));return u!==0?u:tt(jt(o.longitude),jt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var u,c,f,h;const m=o.fields||{},g=s.fields||{},_=(u=m[_g])===null||u===void 0?void 0:u.arrayValue,y=(c=g[_g])===null||c===void 0?void 0:c.arrayValue,w=tt(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:GS(_,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Lh.mapValue&&s===Lh.mapValue)return 0;if(o===Lh.mapValue)return 1;if(s===Lh.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=Gw(c[m],h[m]);if(g!==0)return g;const _=Nl(u[c[m]],f[h[m]]);if(_!==0)return _}return tt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw We()}}function HS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=$a(t),r=$a(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function GS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Nl(n[i],r[i]);if(o)return o}return tt(n.length,r.length)}function Ll(t){return Kw(t)}function Kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$a(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Kw(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Kw(n.fields[s])}`;return i+"}"}(t.mapValue):We()}function tg(t){switch(ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uv(t);return e?16+tg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+tg(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return lu(r.fields,(o,s)=>{i+=o.length+tg(s)}),i}(t.mapValue);default:throw We()}}function KS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yw(t){return!!t&&"integerValue"in t}function yx(t){return!!t&&"arrayValue"in t}function YS(t){return!!t&&"nullValue"in t}function QS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ng(t){return!!t&&"mapValue"in t}function T3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[QO])===null||n===void 0?void 0:n.stringValue)===XO}function kf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===b3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ng(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kf(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=kf(s):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ng(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ng(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Lr(kf(this.value))}}function JO(t){const e=[];return lu(t.fields,(n,r)=>{const i=new xn([n]);if(ng(r)){const o=JO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Nn(e,0,Ke.min(),Ke.min(),Ke.min(),Lr.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Ke.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Ke.min(),Ke.min(),Lr.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Ke.min(),Ke.min(),Lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.position=e,this.inclusive=n}}function XS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Ue.comparator(Ue.fromName(s.referenceValue),n.key):r=Nl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n="asc"){this.field=e,this.dir=n}}function S3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{}class Kt extends ZO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new C3(e,n,r):n==="array-contains"?new k3(e,r):n==="in"?new M3(e,r):n==="not-in"?new A3(e,r):n==="array-contains-any"?new O3(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R3(e,r):new I3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Nl(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends ZO{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mi(e,n)}matches(e){return e2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function e2(t){return t.op==="and"}function t2(t){return P3(t)&&e2(t)}function P3(t){for(const e of t.filters)if(e instanceof mi)return!1;return!0}function Qw(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+Ll(t.value);if(t2(t))return t.filters.map(e=>Qw(e)).join(",");{const e=t.filters.map(n=>Qw(n)).join(",");return`${t.op}(${e})`}}function n2(t,e){return t instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.field.isEqual(i.field)&&Hi(r.value,i.value)}(t,e):t instanceof mi?function(r,i){return i instanceof mi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,u)=>o&&n2(s,i.filters[u]),!0):!1}(t,e):void We()}function r2(t){return t instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ll(n.value)}`}(t):t instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(r2).join(" ,")+"}"}(t):"Filter"}class C3 extends Kt{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class R3 extends Kt{constructor(e,n){super(e,"in",n),this.keys=i2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I3 extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=i2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class k3 extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yx(n)&&Wf(n.arrayValue,this.value)}}class M3 extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wf(this.value.arrayValue,n)}}class A3 extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wf(this.value.arrayValue,n)}}class O3 extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.le=null}}function ZS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new D3(t,e,n,r,i,o,s)}function _x(t){const e=Ye(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ll(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ll(r)).join(",")),e.le=n}return e.le}function wx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JS(t.startAt,e.startAt)&&JS(t.endAt,e.endAt)}function Xw(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N3(t,e,n,r,i,o,s,u){return new sd(t,e,n,r,i,o,s,u)}function o2(t){return new sd(t)}function eP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a2(t){return t.collectionGroup!==null}function Mf(t){const e=Ye(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new tn(xn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new xg(o,r))}),n.has(xn.keyField().canonicalString())||e.he.push(new xg(xn.keyField(),r))}return e.he}function $i(t){const e=Ye(t);return e.Pe||(e.Pe=L3(e,Mf(t))),e.Pe}function L3(t,e){if(t.limitType==="F")return ZS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new xg(i.field,o)});const n=t.endAt?new wg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wg(t.startAt.position,t.startAt.inclusive):null;return ZS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jw(t,e){const n=t.filters.concat([e]);return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zw(t,e,n){return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lv(t,e){return wx($i(t),$i(e))&&t.limitType===e.limitType}function s2(t){return`${_x($i(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>r2(i)).join(", ")}]`),sv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ll(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ll(i)).join(",")),`Target(${r})`}($i(t))}; limitType=${t.limitType})`}function cv(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const f=XS(s,u,c);return s.inclusive?f<=0:f<0}(r.startAt,Mf(r),i)||r.endAt&&!function(s,u,c){const f=XS(s,u,c);return s.inclusive?f>=0:f>0}(r.endAt,Mf(r),i))}(t,e)}function V3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u2(t){return(e,n)=>{let r=!1;for(const i of Mf(t)){const o=F3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function F3(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(o,s,u){const c=s.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Nl(c,f):We()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return BO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Vt(Ue.comparator);function qo(){return q3}const l2=new Vt(Ue.comparator);function Ef(...t){let e=l2;for(const n of t)e=e.insert(n.key,n);return e}function c2(t){let e=l2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hs(){return Af()}function f2(){return Af()}function Af(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const $3=new Vt(Ue.comparator),U3=new tn(Ue.comparator);function at(...t){let e=U3;for(const n of t)e=e.add(n);return e}const j3=new tn(tt);function z3(){return j3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(e)?"-0":e}}function d2(t){return{integerValue:""+t}}function B3(t,e){return v3(e)?d2(e):xx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this._=void 0}}function W3(t,e,n){return t instanceof bg?function(i,o){const s={fields:{[GO]:{stringValue:HO},[YO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vx(o)&&(o=uv(o)),o&&(s.fields[KO]=o),{mapValue:s}}(n,e):t instanceof Hf?p2(t,e):t instanceof Gf?m2(t,e):function(i,o){const s=h2(i,o),u=tP(s)+tP(i.Ie);return Yw(s)&&Yw(i.Ie)?d2(u):xx(i.serializer,u)}(t,e)}function H3(t,e,n){return t instanceof Hf?p2(t,e):t instanceof Gf?m2(t,e):n}function h2(t,e){return t instanceof Tg?function(r){return Yw(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bg extends fv{}class Hf extends fv{constructor(e){super(),this.elements=e}}function p2(t,e){const n=g2(e);for(const r of t.elements)n.some(i=>Hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gf extends fv{constructor(e){super(),this.elements=e}}function m2(t,e){let n=g2(e);for(const r of t.elements)n=n.filter(i=>!Hi(i,r));return{arrayValue:{values:n}}}class Tg extends fv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tP(t){return jt(t.integerValue||t.doubleValue)}function g2(t){return yx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function G3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hf&&i instanceof Hf||r instanceof Gf&&i instanceof Gf?Dl(r.elements,i.elements,Hi):r instanceof Tg&&i instanceof Tg?Hi(r.Ie,i.Ie):r instanceof bg&&i instanceof bg}(t.transform,e.transform)}class K3{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dv{}function v2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bx(t.key,hi.none()):new ud(t.key,t.data,hi.none());{const n=t.data,r=Lr.empty();let i=new tn(xn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new fu(t.key,r,new fi(i.toArray()),hi.none())}}function Y3(t,e,n){t instanceof ud?function(i,o,s){const u=i.value.clone(),c=rP(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):t instanceof fu?function(i,o,s){if(!rg(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=rP(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(y2(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Of(t,e,n,r){return t instanceof ud?function(o,s,u,c){if(!rg(o.precondition,s))return u;const f=o.value.clone(),h=iP(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof fu?function(o,s,u,c){if(!rg(o.precondition,s))return u;const f=iP(o.fieldTransforms,c,s),h=s.data;return h.setAll(y2(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,u){return rg(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,n)}function Q3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=h2(r.transform,i||null);o!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,o))}return n||null}function nP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dl(r,i,(o,s)=>G3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ud extends dv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fu extends dv{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function y2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rP(t,e,n){const r=new Map;mt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,H3(s,u,n[i]))}return r}function iP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,W3(o,s,e))}return r}class bx extends dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X3 extends dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Y3(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Of(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Of(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f2();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=v2(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,(n,r)=>nP(n,r))&&Dl(this.baseMutations,e.baseMutations,(n,r)=>nP(n,r))}}class Tx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length);let i=function(){return $3}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Tx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,lt;function tj(t){switch(t){case ve.OK:return We();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return We()}}function _2(t){if(t===void 0)return Fo("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Ht.OK:return ve.OK;case Ht.CANCELLED:return ve.CANCELLED;case Ht.UNKNOWN:return ve.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ve.INTERNAL;case Ht.UNAVAILABLE:return ve.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ve.NOT_FOUND;case Ht.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Ht.ABORTED:return ve.ABORTED;case Ht.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Ht.DATA_LOSS:return ve.DATA_LOSS;default:return We()}}(lt=Ht||(Ht={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new Da([4294967295,4294967295],0);function oP(t){const e=UO().encode(t),n=new DO;return n.update(e),new Uint8Array(n.digest())}function aP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Da([n,r],0),new Da([i,o],0)]}class Ex{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sf(`Invalid padding: ${n}`);if(r<0)throw new Sf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Da.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Da.fromNumber(r)));return i.compare(nj)===1&&(i=new Da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=oP(e),[r,i]=aP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ex(o,i,n);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.Ee===0)return;const n=oP(e),[r,i]=aP(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hv(Ke.min(),i,new Vt(tt),qo(),at())}}class ld{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ld(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class w2{constructor(e,n){this.targetId=e,this.ge=n}}class x2{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sP{constructor(){this.pe=0,this.ye=uP(),this.we=bn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=at(),n=at(),r=at();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We()}}),new ld(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=uP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,mt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class rj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qo(),this.$e=Vh(),this.Ue=Vh(),this.Ke=new Vt(tt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:We()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(Xw(o))if(r===0){const s=new Ue(o.path);this.ze(n,s,Nn.newNoDocument(s,Ke.min()))}else mt(r===1);else{const s=this.et(n);if(s!==r){const u=this.tt(e),c=u?this.nt(u,e,s):1;if(c!==0){this.Ye(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=Ua(r).toUint8Array()}catch(c){if(c instanceof WO)return Ol("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Ex(s,i,o)}catch(c){return Ol(c instanceof Sf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ee===0?null:u}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const u=this.Xe(s);if(u){if(o.current&&Xw(u.target)){const c=new Ue(u.target.path);this._t(c).has(s)||this.ut(s,c)||this.ze(s,c,Nn.newNoDocument(c,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=at();this.Ue.forEach((o,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Xe(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new hv(e,n,this.Ke,this.Qe,r);return this.Qe=qo(),this.$e=Vh(),this.Ue=Vh(),this.Ke=new Vt(tt),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new sP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new tn(tt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new tn(tt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new sP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new Vt(Ue.comparator)}function uP(){return new Vt(Ue.comparator)}const ij={asc:"ASCENDING",desc:"DESCENDING"},oj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aj={and:"AND",or:"OR"};class sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function e1(t,e){return t.useProto3Json||sv(e)?e:{value:e}}function Eg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uj(t,e){return Eg(t,e.toTimestamp())}function Ui(t){return mt(!!t),Ke.fromTimestamp(function(n){const r=$a(n);return new Rt(r.seconds,r.nanos)}(t))}function Sx(t,e){return t1(t,e).canonicalString()}function t1(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function T2(t){const e=It.fromString(t);return mt(R2(e)),e}function n1(t,e){return Sx(t.databaseId,e.path)}function q0(t,e){const n=T2(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(S2(n))}function E2(t,e){return Sx(t.databaseId,e)}function lj(t){const e=T2(t);return e.length===4?It.emptyPath():S2(e)}function r1(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S2(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lP(t,e,n){return{name:n1(t,e),fields:n.value.mapValue.fields}}function cj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,h){return f.useProto3Json?(mt(h===void 0||typeof h=="string"),bn.fromBase64String(h||"")):(mt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ve.UNKNOWN:_2(f.code);return new Ne(h,f.message||"")}(s);n=new x2(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=q0(t,r.document.name),o=Ui(r.document.updateTime),s=r.document.createTime?Ui(r.document.createTime):Ke.min(),u=new Lr({mapValue:{fields:r.document.fields}}),c=Nn.newFoundDocument(i,o,s,u),f=r.targetIds||[],h=r.removedTargetIds||[];n=new ig(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=q0(t,r.document),o=r.readTime?Ui(r.readTime):Ke.min(),s=Nn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new ig([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=q0(t,r.document),o=r.removedTargetIds||[];n=new ig([],o,i,null)}else{if(!("filter"in e))return We();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ej(i,o),u=r.targetId;n=new w2(u,s)}}return n}function fj(t,e){let n;if(e instanceof ud)n={update:lP(t,e.key,e.value)};else if(e instanceof bx)n={delete:n1(t,e.key)};else if(e instanceof fu)n={update:lP(t,e.key,e.data),updateMask:wj(e.fieldMask)};else{if(!(e instanceof X3))return We();n={verify:n1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const u=s.transform;if(u instanceof bg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Tg)return{fieldPath:s.field.canonicalString(),increment:u.Ie};throw We()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:We()}(t,e.precondition)),n}function dj(t,e){return t&&t.length>0?(mt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ui(i.updateTime):Ui(o);return s.isEqual(Ke.min())&&(s=Ui(o)),new K3(s,i.transformResults||[])}(n,e))):[]}function hj(t,e){return{documents:[E2(t,e.path)]}}function pj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=E2(t,i);const o=function(f){if(f.length!==0)return C2(mi.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(h=>function(g){return{field:_l(g.field),direction:vj(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=e1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:n,parent:i}}function mj(t){let e=lj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(m){const g=P2(m);return g instanceof mi&&t2(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(y){return new xg(wl(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(m){let g;return g=typeof m=="object"?m.value:m,sv(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,_=m.values||[];return new wg(_,g)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const g=!m.before,_=m.values||[];return new wg(_,g)}(n.endAt)),N3(e,i,s,o,u,"F",c,f)}function gj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function P2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wl(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wl(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wl(n.unaryFilter.field);return Kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(n){return Kt.create(wl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(r=>P2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(n.compositeFilter.op))}(t):We()}function vj(t){return ij[t]}function yj(t){return oj[t]}function _j(t){return aj[t]}function _l(t){return{fieldPath:t.canonicalString()}}function wl(t){return xn.fromServerFormat(t.fieldPath)}function C2(t){return t instanceof Kt?function(n){if(n.op==="=="){if(QS(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(YS(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QS(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(YS(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:yj(n.op),value:n.value}}}(t):t instanceof mi?function(n){const r=n.getFilters().map(i=>C2(i));return r.length===1?r[0]:{compositeFilter:{op:_j(n.op),filters:r}}}(t):We()}function wj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r,i,o=Ke.min(),s=Ke.min(),u=bn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.Tt=e}}function bj(t){const e=mj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.Tn=new Ej}addToCollectionParentIndex(e,n){return this.Tn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(qa.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(qa.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class Ej{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(It.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I2=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(I2,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Vl(0)}static Kn(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="LruGarbageCollector",Sj=1048576;function dP([t,e],[n,r]){const i=tt(t,n);return i===0?tt(e,r):i}class Pj{constructor(e){this.Hn=e,this.buffer=new tn(dP),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Cj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(fP,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ec(n)?ke(fP,"Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.er(3e5)})}}class Rj{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(av.ae);const r=new Pj(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(cP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,u,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,u=Date.now(),this.removeTargets(e,r,n))).next(m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(f=Date.now(),vl()<=ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}function Ij(t,e){return new Rj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.changes=new cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Of(r.mutation,i,fi.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){const i=Hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ef();return o.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,u)=>{n.set(s,u)})})}computeViews(e,n,r,i){let o=qo();const s=Af(),u=function(){return Af()}();return n.forEach((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof fu)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Of(h.mutation,f,h.mutation.getFieldMask(),Rt.now())):s.set(f.key,fi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,h)=>s.set(f,h)),n.forEach((f,h)=>{var m;return u.set(f,new Mj(h,(m=s.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Af();let i=new Vt((s,u)=>s-u),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||fi.empty();h=u.applyToLocalView(f,h),r.set(c,h);const m=(i.get(u.batchId)||at()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,m=f2();h.forEach(g=>{if(!o.has(g)){const _=v2(n.get(g),r.get(g));_!==null&&m.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ge.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ge.resolve(Hs());let u=jf,c=o;return s.next(f=>ge.forEach(f,(h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?ge.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,at())).next(h=>({batchId:u,changes:c2(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let i=Ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ef();return this.indexManager.getCollectionParents(e,o).next(u=>ge.forEach(u,c=>{const f=function(m,g){return new sd(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Nn.newInvalidDocument(h)))});let u=Ef();return s.forEach((c,f)=>{const h=o.get(c);h!==void 0&&Of(h.mutation,f,fi.empty(),Rt.now()),cv(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ge.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:bj(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.overlays=new Vt(Ue.comparator),this.Rr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hs();return ge.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Hs(),o=n.length+1,s=new Ue(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Vt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=Hs(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Hs(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return ge.resolve(u)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Z3(n,r));let o=this.Rr.get(n);o===void 0&&(o=at(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Vr=new tn(ln.mr),this.gr=new tn(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new ln(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ue(new It([])),r=new ln(n,e),i=new ln(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ue(new It([])),r=new ln(n,e),i=new ln(n,e+1);let o=at();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ln(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ue.comparator(e.key,n.key)||tt(e.Cr,n.Cr)}static pr(e,n){return tt(e.Cr,n.Cr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new tn(ln.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new J3(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Mr=this.Mr.add(new ln(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(s)}lookupMutationBatch(e,n){return ge.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?gx:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),i=new ln(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const u=this.Or(s.Cr);o.push(u)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(tt);return n.forEach(i=>{const o=new ln(i,0),s=new ln(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],u=>{r=r.add(u.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ue.isDocumentKey(o)||(o=o.child(""));const s=new ln(new Ue(o),0);let u=new tn(tt);return this.Mr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Cr)),!0)},s),ge.resolve(this.Br(u))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(n.mutations,i=>{const o=new ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new ln(n,0),i=this.Mr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.kr=e,this.docs=function(){return new Vt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=qo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Nn.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=qo();const s=n.path,u=new Ue(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||h3(d3(h),r)<=0||(i.has(h.key)||cv(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,n,r,i){We()}qr(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fj(this)}getSize(e){return ge.resolve(this.size)}}class Fj extends kj{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.persistence=e,this.Qr=new cu(n=>_x(n),wx),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Px,this.targetCount=0,this.Kr=Vl.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ge.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.zn(n),ge.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ge.waitFor(o).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ge.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new av(0),this.zr=!1,this.zr=!0,this.jr=new Nj,this.referenceDelegate=e(this),this.Hr=new qj(this),this.indexManager=new Tj,this.remoteDocumentCache=function(i){return new Vj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new xj(n),this.Yr=new Oj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Lj(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new $j(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class $j extends m3{constructor(e){super(),this.currentSequenceNumber=e}}class Cx{constructor(e){this.persistence=e,this.ti=new Px,this.ni=null}static ri(e){return new Cx(e)}get ii(){if(this.ni)return this.ni;throw We()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ge.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const i=Ue.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ge.or([()=>ge.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Sg{constructor(e,n){this.persistence=e,this.oi=new cu(r=>y3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ij(this,n)}static ri(e,n){return new Sg(e,n)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ge.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?ge.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(u=>{u||(r++,o.removeEntry(s,Ke.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ge.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=tg(e.data.value)),n}ar(e,n,r){return ge.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=at(),i=at();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Rx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return FU()?8:g3(Ln())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Uj;return this._s(e,n,s).next(u=>{if(o.result=u,this.Xi)return this.us(e,n,s,u.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(vl()<=ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(vl()<=ot.DEBUG&&ke("QueryEngine","Query:",yl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(vl()<=ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):ge.resolve())}rs(e,n){if(eP(n))return ge.resolve(null);let r=$i(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zw(n,null,"F"),r=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=at(...o);return this.ns.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.cs(n,u);return this.ls(n,f,s,c.readTime)?this.rs(e,Zw(n,null,"F")):this.hs(e,f,n,c)}))})))}ss(e,n,r,i){return eP(n)||i.isEqual(Ke.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?ge.resolve(null):(vl()<=ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yl(n)),this.hs(e,s,n,f3(i,jf)).next(u=>u))})}cs(e,n){let r=new tn(u2(e));return n.forEach((i,o)=>{cv(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return vl()<=ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ns.getDocumentsMatchingQuery(e,n,qa.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="LocalStore",zj=3e8;class Bj{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Vt(tt),this.Is=new cu(o=>_x(o),wx),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aj(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Wj(t,e,n,r){return new Bj(t,e,n,r)}async function M2(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],u=[];let c=at();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Rs:f,removedBatchIds:s,addedBatchIds:u}))})})}function Hj(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const m=f.batch,g=m.keys();let _=ge.resolve();return g.forEach(y=>{_=_.next(()=>h.getEntry(c,y)).next(w=>{const x=f.docVersions.get(y);mt(x!==null),w.version.compareTo(x)<0&&(m.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=at();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function A2(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Gj(t,e){const n=Ye(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const u=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;u.push(n.Hr.removeMatchingKeys(o,h.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(o,h.addedDocuments,m)));let _=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(bn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(m,_),function(w,x,T){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=zj?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,_,h)&&u.push(n.Hr.updateTargetData(o,_))});let c=qo(),f=at();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),u.push(Kj(o,s,e.documentUpdates).next(h=>{c=h.Vs,f=h.fs})),!r.isEqual(Ke.min())){const h=n.Hr.getLastRemoteSnapshotVersion(o).next(m=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(h)}return ge.waitFor(u).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,f)).next(()=>c)}).then(o=>(n.Ts=i,o))}function Kj(t,e,n){let r=at(),i=at();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=qo();return n.forEach((u,c)=>{const f=o.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):ke(Ix,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Vs:s,fs:i}})}function Yj(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qj(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,ge.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new ka(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function i1(t,e,n){const r=Ye(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ec(s))throw s;ke(Ix,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function hP(t,e,n){const r=Ye(t);let i=Ke.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const m=Ye(c),g=m.Is.get(h);return g!==void 0?ge.resolve(m.Ts.get(g)):m.Hr.getTargetData(f,h)}(r,s,$i(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,u.targetId).next(c=>{o=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:Ke.min(),n?o:at())).next(u=>(Xj(r,V3(e),u),{documents:u,gs:o})))}function Xj(t,e,n){let r=t.Es.get(e)||Ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class pP{constructor(){this.activeTargetIds=z3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jj{constructor(){this.ho=new pP,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="ConnectivityMonitor";class gP{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(mP,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(mP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function o1(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="RestConnection",e5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===yg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=o1(),u=this.bo(e,n.toUriEncodedString());ke($0,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,o),this.vo(e,u,c,r).then(f=>(ke($0,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ol($0,`RPC '${e}' ${s} failed with error: `,f,"url: ",u,"request:",r),f})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=e5[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class r5 extends t5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=o1();return new Promise((s,u)=>{const c=new NO;c.setWithCredentials(!0),c.listenOnce(LO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case eg.NO_ERROR:const h=c.getResponseJson();ke(kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case eg.TIMEOUT:ke(kn,`RPC '${e}' ${o} timed out`),u(new Ne(ve.DEADLINE_EXCEEDED,"Request time out"));break;case eg.HTTP_ERROR:const m=c.getStatus();if(ke(kn,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const y=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(T)>=0?T:ve.UNKNOWN}(_.status);u(new Ne(y,_.message))}else u(new Ne(ve.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Ne(ve.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{ke(kn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);ke(kn,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}Wo(e,n,r){const i=o1(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qO(),u=FO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");ke(kn,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let g=!1,_=!1;const y=new n5({Fo:x=>{_?ke(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(ke(kn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),ke(kn,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Mo:()=>m.close()}),w=(x,T,E)=>{x.listen(T,S=>{try{E(S)}catch(O){setTimeout(()=>{throw O},0)}})};return w(m,Tf.EventType.OPEN,()=>{_||(ke(kn,`RPC '${e}' stream ${i} transport opened.`),y.Qo())}),w(m,Tf.EventType.CLOSE,()=>{_||(_=!0,ke(kn,`RPC '${e}' stream ${i} transport closed`),y.Uo())}),w(m,Tf.EventType.ERROR,x=>{_||(_=!0,Ol(kn,`RPC '${e}' stream ${i} transport errored:`,x),y.Uo(new Ne(ve.UNAVAILABLE,"The operation could not be completed")))}),w(m,Tf.EventType.MESSAGE,x=>{var T;if(!_){const E=x.data[0];mt(!!E);const S=E,O=(S==null?void 0:S.error)||((T=S[0])===null||T===void 0?void 0:T.error);if(O){ke(kn,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let $=function(k){const I=Ht[k];if(I!==void 0)return _2(I)}(N),M=O.message;$===void 0&&($=ve.INTERNAL,M="Unknown error status: "+N+" with message "+O.message),_=!0,y.Uo(new Ne($,M)),m.close()}else ke(kn,`RPC '${e}' stream ${i} received:`,E),y.Ko(E)}}),w(u,VO.STAT_EVENT,x=>{x.stat===Hw.PROXY?ke(kn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Hw.NOPROXY&&ke(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}function U0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return new sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="PersistentStream";class D2{constructor(e,n,r,i,o,s,u,c){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new O2(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Fo(n.toString()),Fo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ne(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(vP,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ke(vP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i5 extends D2{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=cj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Ui(s.readTime):Ke.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=r1(this.serializer),n.addTarget=function(o,s){let u;const c=s.target;if(u=Xw(c)?{documents:hj(o,c)}:{query:pj(o,c).ht},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=b2(o,s.resumeToken);const f=e1(o,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Ke.min())>0){u.readTime=Eg(o,s.snapshotVersion.toTimestamp());const f=e1(o,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=gj(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=r1(this.serializer),n.removeTarget=e,this.I_(n)}}class o5 extends D2{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=dj(e.writeResults,e.commitTime),r=Ui(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=r1(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fj(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{}class s5 extends a5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,t1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ve.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Co(e,t1(n,r),i,s,u,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ve.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class u5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fo(n),this.N_=!1):ke("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="RemoteStore";class l5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{du(this)&&(ke(tu,"Restarting streams for network reachability change."),await async function(c){const f=Ye(c);f.W_.add(4),await cd(f),f.j_.set("Unknown"),f.W_.delete(4),await mv(f)}(this))})}),this.j_=new u5(r,i)}}async function mv(t){if(du(t))for(const e of t.G_)await e(!0)}async function cd(t){for(const e of t.G_)await e(!1)}function N2(t,e){const n=Ye(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Ox(n)?Ax(n):tc(n).c_()&&Mx(n,e))}function kx(t,e){const n=Ye(t),r=tc(n);n.K_.delete(e),r.c_()&&L2(n,e),n.K_.size===0&&(r.c_()?r.P_():du(n)&&n.j_.set("Unknown"))}function Mx(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tc(t).y_(e)}function L2(t,e){t.H_.Ne(e),tc(t).w_(e)}function Ax(t){t.H_=new rj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),tc(t).start(),t.j_.B_()}function Ox(t){return du(t)&&!tc(t).u_()&&t.K_.size>0}function du(t){return Ye(t).W_.size===0}function V2(t){t.H_=void 0}async function c5(t){t.j_.set("Online")}async function f5(t){t.K_.forEach((e,n)=>{Mx(t,e)})}async function d5(t,e){V2(t),Ox(t)?(t.j_.q_(e),Ax(t)):t.j_.set("Unknown")}async function h5(t,e,n){if(t.j_.set("Online"),e instanceof x2&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const u of o.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.K_.delete(u),i.H_.removeTarget(u))}(t,e)}catch(r){ke(tu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pg(t,r)}else if(e instanceof ig?t.H_.We(e):e instanceof w2?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ke.min()))try{const r=await A2(t.localStore);n.compareTo(r)>=0&&await function(o,s){const u=o.H_.ot(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.K_.get(f);h&&o.K_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=o.K_.get(c);if(!h)return;o.K_.set(c,h.withResumeToken(bn.EMPTY_BYTE_STRING,h.snapshotVersion)),L2(o,c);const m=new ka(h.target,c,f,h.sequenceNumber);Mx(o,m)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ke(tu,"Failed to raise snapshot:",r),await Pg(t,r)}}async function Pg(t,e,n){if(!ec(e))throw e;t.W_.add(1),await cd(t),t.j_.set("Offline"),n||(n=()=>A2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(tu,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await mv(t)})}function F2(t,e){return e().catch(n=>Pg(t,n,e))}async function gv(t){const e=Ye(t),n=za(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:gx;for(;p5(e);)try{const i=await Yj(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,m5(e,i)}catch(i){await Pg(e,i)}q2(e)&&$2(e)}function p5(t){return du(t)&&t.U_.length<10}function m5(t,e){t.U_.push(e);const n=za(t);n.c_()&&n.S_&&n.b_(e.mutations)}function q2(t){return du(t)&&!za(t).u_()&&t.U_.length>0}function $2(t){za(t).start()}async function g5(t){za(t).C_()}async function v5(t){const e=za(t);for(const n of t.U_)e.b_(n.mutations)}async function y5(t,e,n){const r=t.U_.shift(),i=Tx.from(r,e,n);await F2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gv(t)}async function _5(t,e){e&&za(t).S_&&await async function(r,i){if(function(s){return tj(s)&&s!==ve.ABORTED}(i.code)){const o=r.U_.shift();za(r).h_(),await F2(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await gv(r)}}(t,e),q2(t)&&$2(t)}async function yP(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),ke(tu,"RemoteStore received new credentials");const r=du(n);n.W_.add(3),await cd(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await mv(n)}async function w5(t,e){const n=Ye(t);e?(n.W_.delete(2),await mv(n)):e||(n.W_.add(2),await cd(n),n.j_.set("Unknown"))}function tc(t){return t.J_||(t.J_=function(n,r,i){const o=Ye(n);return o.M_(),new i5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:c5.bind(null,t),No:f5.bind(null,t),Lo:d5.bind(null,t),p_:h5.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ox(t)?Ax(t):t.j_.set("Unknown")):(await t.J_.stop(),V2(t))})),t.J_}function za(t){return t.Y_||(t.Y_=function(n,r,i){const o=Ye(n);return o.M_(),new o5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:g5.bind(null,t),Lo:_5.bind(null,t),D_:v5.bind(null,t),v_:y5.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await gv(t)):(await t.Y_.stop(),t.U_.length>0&&(ke(tu,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new Dx(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nx(t,e){if(Fo("AsyncQueue",`${e}: ${t}`),ec(t))return new Ne(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Ef(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.Z_=new Vt(Ue.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):We():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fl{constructor(e,n,r,i,o,s,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(u=>{s.push({type:0,doc:u})}),new Fl(e,n,El.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class b5{constructor(){this.queries=wP(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ye(n),o=i.queries;i.queries=wP(),o.forEach((s,u)=>{for(const c of u.ta)c.onError(r)})})(this,new Ne(ve.ABORTED,"Firestore shutting down"))}}function wP(){return new cu(t=>s2(t),lv)}async function T5(t,e){const n=Ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new x5,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=Nx(s,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&Lx(n)}async function E5(t,e){const n=Ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S5(t,e){const n=Ye(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.ta)u.oa(i)&&(r=!0);s.ea=i}}r&&Lx(n)}function P5(t,e,n){const r=Ye(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function Lx(t){t.ia.forEach(e=>{e.next()})}var a1,xP;(xP=a1||(a1={}))._a="default",xP.Cache="cache";class C5{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==a1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.key=e}}class j2{constructor(e){this.key=e}}class R5{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=at(),this.mutatedKeys=at(),this.ya=u2(e),this.wa=new El(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new _P,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),_=cv(this.query,m)?m:null,y=!!g&&this.mutatedKeys.has(g.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;g&&_?g.data.isEqual(_.data)?y!==w&&(r.track({type:3,doc:_}),x=!0):this.va(g,_)||(r.track({type:2,doc:_}),x=!0,(c&&this.ya(_,c)>0||f&&this.ya(_,f)<0)&&(u=!0)):!g&&_?(r.track({type:0,doc:_}),x=!0):g&&!_&&(r.track({type:1,doc:g}),x=!0,(c||f)&&(u=!0)),x&&(_?(s=s.add(_),o=w?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{wa:s,Da:r,ls:u,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((h,m)=>function(_,y){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return w(_)-w(y)}(h.type,m.type)||this.ya(h.doc,m.doc)),this.Ca(r),i=i!=null&&i;const u=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,f=c!==this.ga;return this.ga=c,s.length!==0||f?{snapshot:new Fl(this.query,e.wa,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _P,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=at(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new j2(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new U2(r))}),n}Oa(e){this.fa=e.gs,this.pa=at();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vx="SyncEngine";class I5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class k5{constructor(e){this.key=e,this.Ba=!1}}class M5{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new cu(u=>s2(u),lv),this.qa=new Map,this.Qa=new Set,this.$a=new Vt(Ue.comparator),this.Ua=new Map,this.Ka=new Px,this.Wa={},this.Ga=new Map,this.za=Vl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function A5(t,e,n=!0){const r=K2(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await z2(r,e,n,!0),i}async function O5(t,e){const n=K2(t);await z2(n,e,!0,!1)}async function z2(t,e,n,r){const i=await Qj(t.localStore,$i(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await D5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&N2(t.remoteStore,i),u}async function D5(t,e,n,r,i){t.Ha=(m,g,_)=>async function(w,x,T,E){let S=x.view.ba(T);S.ls&&(S=await hP(w.localStore,x.query,!1).then(({documents:M})=>x.view.ba(M,S)));const O=E&&E.targetChanges.get(x.targetId),N=E&&E.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(S,w.isPrimaryClient,O,N);return TP(w,x.targetId,$.Ma),$.snapshot}(t,m,g,_);const o=await hP(t.localStore,e,!0),s=new R5(e,o.gs),u=s.ba(o.documents),c=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);TP(t,n,f.Ma);const h=new I5(e,n,s);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),f.snapshot}async function N5(t,e,n){const r=Ye(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!lv(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await i1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kx(r.remoteStore,i.targetId),s1(r,i.targetId)}).catch(Zl)):(s1(r,i.targetId),await i1(r.localStore,i.targetId,!0))}async function L5(t,e){const n=Ye(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kx(n.remoteStore,r.targetId))}async function V5(t,e,n){const r=B5(t);try{const i=await function(s,u){const c=Ye(s),f=Rt.now(),h=u.reduce((_,y)=>_.add(y.key),at());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let y=qo(),w=at();return c.ds.getEntries(_,h).next(x=>{y=x,y.forEach((T,E)=>{E.isValidDocument()||(w=w.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,y)).next(x=>{m=x;const T=[];for(const E of u){const S=Q3(E,m.get(E.key).overlayedDocument);S!=null&&T.push(new fu(E.key,S,JO(S.value.mapValue),hi.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,T,u)}).next(x=>{g=x;const T=x.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(_,x.batchId,T)})}).then(()=>({batchId:g.batchId,changes:c2(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Wa[s.currentUser.toKey()];f||(f=new Vt(tt)),f=f.insert(u,c),s.Wa[s.currentUser.toKey()]=f}(r,i.batchId,n),await fd(r,i.changes),await gv(r.remoteStore)}catch(i){const o=Nx(i,"Failed to persist write");n.reject(o)}}async function B2(t,e){const n=Ye(t);try{const r=await Gj(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ua.get(o);s&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?mt(s.Ba):i.removedDocuments.size>0&&(mt(s.Ba),s.Ba=!1))}),await fd(n,r,e)}catch(r){await Zl(r)}}function bP(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const u=s.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ye(s);c.onlineState=u;let f=!1;c.queries.forEach((h,m)=>{for(const g of m.ta)g.sa(u)&&(f=!0)}),f&&Lx(c)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F5(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),o=i&&i.key;if(o){let s=new Vt(Ue.comparator);s=s.insert(o,Nn.newNoDocument(o,Ke.min()));const u=at().add(o),c=new hv(Ke.min(),new Map,new Vt(tt),s,u);await B2(r,c),r.$a=r.$a.remove(o),r.Ua.delete(e),Fx(r)}else await i1(r.localStore,e,!1).then(()=>s1(r,e,n)).catch(Zl)}async function q5(t,e){const n=Ye(t),r=e.batch.batchId;try{const i=await Hj(n.localStore,e);H2(n,r,null),W2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fd(n,i)}catch(i){await Zl(i)}}async function $5(t,e,n){const r=Ye(t);try{const i=await function(s,u){const c=Ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(m=>(mt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(r.localStore,e);H2(r,e,n),W2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fd(r,i)}catch(i){await Zl(i)}}function W2(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function H2(t,e,n){const r=Ye(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function s1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||G2(t,r)})}function G2(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(kx(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Fx(t))}function TP(t,e,n){for(const r of n)r instanceof U2?(t.Ka.addReference(r.key,e),U5(t,r)):r instanceof j2?(ke(Vx,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||G2(t,r.key)):We()}function U5(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ke(Vx,"New document in limbo: "+n),t.Qa.add(r),Fx(t))}function Fx(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ue(It.fromString(e)),r=t.za.next();t.Ua.set(r,new k5(n)),t.$a=t.$a.insert(n,r),N2(t.remoteStore,new ka($i(o2(n.path)),r,"TargetPurposeLimboResolution",av.ae))}}async function fd(t,e,n){const r=Ye(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((u,c)=>{s.push(r.Ha(c,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=Rx.Yi(c.targetId,f);o.push(m)}}))}),await Promise.all(s),r.La.p_(i),await async function(c,f){const h=Ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ge.forEach(f,g=>ge.forEach(g.Hi,_=>h.persistence.referenceDelegate.addReference(m,g.targetId,_)).next(()=>ge.forEach(g.Ji,_=>h.persistence.referenceDelegate.removeReference(m,g.targetId,_)))))}catch(m){if(!ec(m))throw m;ke(Ix,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const _=h.Ts.get(g),y=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(y);h.Ts=h.Ts.insert(g,w)}}}(r.localStore,o))}async function j5(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){ke(Vx,"User change. New user:",e.toKey());const r=await M2(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(u=>{u.forEach(c=>{c.reject(new Ne(ve.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fd(n,r.Rs)}}function z5(t,e){const n=Ye(t),r=n.Ua.get(e);if(r&&r.Ba)return at().add(r.key);{let i=at();const o=n.qa.get(e);if(!o)return i;for(const s of o){const u=n.ka.get(s);i=i.unionWith(u.view.Sa)}return i}}function K2(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F5.bind(null,e),e.La.p_=S5.bind(null,e.eventManager),e.La.Ja=P5.bind(null,e.eventManager),e}function B5(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$5.bind(null,e),e}class Cg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Wj(this.persistence,new jj,e.initialUser,this.serializer)}Xa(e){return new k2(Cx.ri,this.serializer)}Za(e){return new Jj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cg.provider={build:()=>new Cg};class W5 extends Cg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){mt(this.persistence.referenceDelegate instanceof Sg);const r=this.persistence.referenceDelegate.garbageCollector;return new Cj(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new k2(r=>Sg.ri(r,n),this.serializer)}}class u1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j5.bind(null,this.syncEngine),await w5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b5}()}createDatastore(e){const n=pv(e.databaseInfo.databaseId),r=function(o){return new r5(o)}(e.databaseInfo);return function(o,s,u,c){return new s5(o,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,u){return new l5(r,i,o,s,u)}(this.localStore,this.datastore,e.asyncQueue,n=>bP(this.syncEngine,n,0),function(){return gP.D()?new gP:new Zj}())}createSyncEngine(e,n){return function(i,o,s,u,c,f,h){const m=new M5(i,o,s,u,c,f);return h&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ye(i);ke(tu,"RemoteStore shutting down."),o.W_.add(5),await cd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}u1.provider={build:()=>new u1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class G5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=jO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ke(Ba,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ke(Ba,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function j0(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K5(t);ke(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yP(e.remoteStore,i)),t._onlineComponents=e}async function K5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Ba,"Using user provided OfflineComponentProvider");try{await j0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await j0(t,new Cg)}}else ke(Ba,"Using default OfflineComponentProvider"),await j0(t,new W5(void 0));return t._offlineComponents}async function Y2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Ba,"Using user provided OnlineComponentProvider"),await EP(t,t._uninitializedComponentsProvider._online)):(ke(Ba,"Using default OnlineComponentProvider"),await EP(t,new u1))),t._onlineComponents}function Y5(t){return Y2(t).then(e=>e.syncEngine)}async function Q5(t){const e=await Y2(t),n=e.eventManager;return n.onListen=A5.bind(null,e.syncEngine),n.onUnlisten=N5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=O5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L5.bind(null,e.syncEngine),n}function X5(t,e,n={}){const r=new Na;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,u,c,f){const h=new H5({next:g=>{h.su(),s.enqueueAndForget(()=>E5(o,m)),g.fromCache&&c.source==="server"?f.reject(new Ne(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new C5(u,h,{includeMetadataChanges:!0,Ta:!0});return T5(o,m)}(await Q5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e,n){if(!n)throw new Ne(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J5(t,e,n,r){if(e===!0&&r===!0)throw new Ne(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PP(t){if(!Ue.isDocumentKey(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CP(t){if(Ue.isDocumentKey(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function nu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vv(t);throw new Ne(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="firestore.googleapis.com",RP=!0;class IP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J2,this.ssl=RP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sj)throw new Ne(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n3;switch(r.type){case"firstParty":return new a3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SP.get(n);r&&(ke("ComponentProvider","Removing Datastore"),SP.delete(n),r.terminate())}(this),Promise.resolve()}}function Z5(t,e,n,r={}){var i;const o=(t=nu(t,yv))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o.host!==J2&&o.host!==u&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!Js(c,s)&&(t._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Dn.MOCK_USER;else{f=MU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ne(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dn(m)}t._authCredentials=new r3(new $O(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nc(this.firestore,e,this._query)}}class wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class La extends nc{constructor(e,n,r){super(e,n,o2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new Ue(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function qh(t,e,...n){if(t=sr(t),X2("collection","path",e),t instanceof yv){const r=It.fromString(e,...n);return CP(r),new La(t,null,r)}{if(!(t instanceof wr||t instanceof La))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return CP(r),new La(t.firestore,null,r)}}function l1(t,e,...n){if(t=sr(t),arguments.length===1&&(e=jO.newId()),X2("doc","path",e),t instanceof yv){const r=It.fromString(e,...n);return PP(r),new wr(t,null,new Ue(r))}{if(!(t instanceof wr||t instanceof La))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return PP(r),new wr(t.firestore,t instanceof La?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="AsyncQueue";class MP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new O2(this,"async_queue_retry"),this.Su=()=>{const r=U0();r&&ke(kP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=U0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=U0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Na;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ec(e))throw e;ke(kP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(r);throw Fo("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Dx.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&We()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class dd extends yv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MP(e),this._firestoreClient=void 0,await e}}}function ez(t,e){const n=typeof t=="object"?t:MO(),r=typeof t=="string"?t:yg,i=px(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=IU("firestore");o&&Z5(i,...o)}return i}function Z2(t){if(t._terminated)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tz(t),t._firestoreClient}function tz(t){var e,n,r;const i=t._freezeSettings(),o=function(u,c,f,h){return new x3(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Q2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new G5(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(bn.fromBase64String(e))}catch(n){throw new Ne(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=/^__.*__$/;class rz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ud(e,this.data,n,this.fieldTransforms)}}function tD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class jx{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new jx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(tD(this.Lu)&&nz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class iz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pv(e)}ju(e,n,r,i=!1){return new jx({Lu:e,methodName:n,zu:r,path:xn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zx(t){const e=t._freezeSettings(),n=pv(t._databaseId);return new iz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nD(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);oD("Data must be an object, but it was:",s,r);const u=rD(r,s);let c,f;if(o.merge)c=new fi(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const g=az(e,m,n);if(!s.contains(g))throw new Ne(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);uz(h,g)||h.push(g)}c=new fi(h),f=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=s.fieldTransforms;return new rz(new Lr(u),c,f)}function oz(t,e,n,r=!1){return Bx(n,t.ju(r?4:3,e))}function Bx(t,e){if(iD(t=sr(t)))return oD("Unsupported field value:",e,t),rD(t,e);if(t instanceof eD)return function(r,i){if(!tD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const u of r){let c=Bx(u,i.Ku(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Eg(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eg(i.serializer,o)}}if(r instanceof $x)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ql)return{bytesValue:b2(i.serializer,r._byteString)};if(r instanceof wr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ux)return function(s,u){return{mapValue:{fields:{[QO]:{stringValue:XO},[_g]:{arrayValue:{values:s.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return xx(u.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${vv(r)}`)}(t,e)}function rD(t,e){const n={};return BO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lu(t,(r,i)=>{const o=Bx(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof $x||t instanceof ql||t instanceof wr||t instanceof eD||t instanceof Ux)}function oD(t,e,n){if(!iD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=vv(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function az(t,e,n){if((e=sr(e))instanceof qx)return e._internalPath;if(typeof e=="string")return aD(t,e);throw Rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const sz=new RegExp("[~\\*/\\[\\]]");function aD(t,e,n){if(e.search(sz)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qx(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rg(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ne(ve.INVALID_ARGUMENT,u+t+c)}function uz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lz extends sD{data(){return super.data()}}function Wx(t,e){return typeof e=="string"?aD(t,e):e instanceof qx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hx{}class fz extends Hx{}function AP(t,e,...n){let r=[];e instanceof Hx&&r.push(e),r=r.concat(n),function(o){const s=o.filter(c=>c instanceof Gx).length,u=o.filter(c=>c instanceof _v).length;if(s>1||s>0&&u>0)throw new Ne(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _v extends fz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _v(e,n,r)}_apply(e){const n=this._parse(e);return uD(e._query,n),new nc(e.firestore,e.converter,Jw(e._query,n))}_parse(e){const n=zx(e.firestore);return function(o,s,u,c,f,h,m){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DP(m,h);const y=[];for(const w of m)y.push(OP(c,o,w));g={arrayValue:{values:y}}}else g=OP(c,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DP(m,h),g=oz(u,s,m,h==="in"||h==="not-in");return Kt.create(f,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $h(t,e,n){const r=e,i=Wx("where",t);return _v._create(i,r,n)}class Gx extends Hx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const u=o.getFlattenedFilters();for(const c of u)uD(s,c),s=Jw(s,c)}(e._query,n),new nc(e.firestore,e.converter,Jw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OP(t,e,n){if(typeof(n=sr(n))=="string"){if(n==="")throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a2(e)&&n.indexOf("/")!==-1)throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(It.fromString(n));if(!Ue.isDocumentKey(r))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KS(t,new Ue(r))}if(n instanceof wr)return KS(t,n._key);throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vv(n)}.`)}function DP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uD(t,e){const n=function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dz{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw We()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[_g].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>jt(s.doubleValue));return new Ux(o)}convertGeoPoint(e){return new $x(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zf(e));default:return null}}convertTimestamp(e){const n=$a(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=It.fromString(e);mt(R2(r));const i=new Bf(r.get(1),r.get(3)),o=new Ue(r.popFirst(5));return i.isEqual(n)||Fo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hz extends sD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class og extends hz{data(e={}){return super.data(e)}}class pz{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new og(this._firestore,this._userDataWriter,r.key,r,new Uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new og(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Uh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const c=new og(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Uh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:mz(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}class gz extends dz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}}function jh(t){t=nu(t,nc);const e=nu(t.firestore,dd),n=Z2(e),r=new gz(e);return cz(t._query),X5(n,t._query).then(i=>new pz(e,r,t,i))}function vz(t,e,n){t=nu(t,wr);const r=nu(t.firestore,dd),i=lD(t.converter,e);return Kx(r,[nD(zx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function yz(t){return Kx(nu(t.firestore,dd),[new bx(t._key,hi.none())])}function _z(t,e){const n=nu(t.firestore,dd),r=l1(t),i=lD(t.converter,e);return Kx(n,[nD(zx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function Kx(t,e){return function(r,i){const o=new Na;return r.asyncQueue.enqueueAndForget(async()=>V5(await Y5(r),i,o)),o.promise}(Z2(t),e)}(function(e,n=!0){(function(i){Jl=i})(Xl),Al(new Zs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new dd(new i3(r.getProvider("auth-internal")),new s3(s,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ne(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(f.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Oa(LS,VS,e),Oa(LS,VS,"esm2017")})();var wz="firebase",xz="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(wz,xz,"app");const bz={apiKey:"AIzaSyAwbEwXobmKA0nJ3LTEYEkWoNohvO1y19E",authDomain:"bitcamp2025-f6f96.firebaseapp.com",projectId:"bitcamp2025-f6f96",storageBucket:"bitcamp2025-f6f96.firebasestorage.app",messagingSenderId:"430257671691",appId:"1:430257671691:web:2e4b8ac5637601265b010e",measurementId:void 0},cD=kO(bz);var Fi=function(){return Fi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fi.apply(this,arguments)};function hd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tz(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function fD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ez=fD,dD=new od("auth","Firebase",fD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new dx("@firebase/auth");function Sz(t,...e){Ig.logLevel<=ot.WARN&&Ig.warn(`Auth (${Xl}): ${t}`,...e)}function ag(t,...e){Ig.logLevel<=ot.ERROR&&Ig.error(`Auth (${Xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,...e){throw Qx(t,...e)}function pi(t,...e){return Qx(t,...e)}function Yx(t,e,n){const r=Object.assign(Object.assign({},Ez()),{[e]:n});return new od("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return Yx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gi(t,"argument-error"),Yx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dD.create(t,...e)}function Ge(t,e,...n){if(!t)throw Qx(e,...n)}function Ro(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ag(e),new Error(e)}function $o(t,e){t||Ro(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Cz(){return NP()==="http:"||NP()==="https:"}function NP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cz()||NU()||"connection"in navigator)?navigator.onLine:!0}function Iz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$o(n>e,"Short delay should be less than long delay!"),this.isMobile=AU()||LU()}get(){return Rz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e){$o(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Az=new pd(3e4,6e4);function Jx(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rc(t,e,n,r,i={}){return pD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=ad(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},o);return DU()||(f.referrerPolicy="no-referrer"),hD.fetch()(await mD(t,t.config.apiHost,n,u),f)})}async function pD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kz),e);try{const i=new Dz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw zh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw zh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Yx(t,h,f);Gi(t,h)}}catch(i){if(i instanceof Wo)throw i;Gi(t,"network-request-failed",{message:String(i)})}}async function Oz(t,e,n,r,i={}){const o=await rc(t,e,n,r,i);return"mfaPendingCredential"in o&&Gi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function mD(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Xx(t.config,i):`${t.config.apiScheme}://${i}`;return Mz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class Dz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pi(this.auth,"network-request-failed")),Az.get())})}}function zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e){return rc(t,"POST","/v1/accounts:delete",e)}async function kg(t,e){return rc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lz(t,e=!1){const n=sr(t),r=await n.getIdToken(e),i=Zx(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Df(z0(i.auth_time)),issuedAtTime:Df(z0(i.iat)),expirationTime:Df(z0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function z0(t){return Number(t)*1e3}function Zx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ag("JWT malformed, contained fewer than 3 sections"),null;try{const i=EO(n);return i?JSON.parse(i):(ag("Failed to decode base64 JWT payload"),null)}catch(i){return ag("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LP(t){const e=Zx(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wo&&Vz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Df(this.lastLoginAt),this.creationTime=Df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kf(t,kg(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gD(o.providerUserInfo):[],u=$z(t.providerData,s),c=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),h=c?f:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new f1(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function qz(t){const e=sr(t);await Mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $z(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gD(t){return t.map(e=>{var{providerId:n}=e,r=hd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e){const n=await pD(t,{},async()=>{const r=ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await mD(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",hD.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jz(t,e){return rc(t,"POST","/v2/accounts:revokeToken",Jx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=LP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Uz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Sl;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new f1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Kf(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lz(this,e)}reload(){return qz(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Kf(this,Nz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,u,c,f,h;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,_=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(u=n.tenantId)!==null&&u!==void 0?u:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:O,isAnonymous:N,providerData:$,stsTokenManager:M}=n;Ge(S&&M,e,"internal-error");const R=Sl.fromJSON(this.name,M);Ge(typeof S=="string",e,"internal-error"),ya(m,e.name),ya(g,e.name),Ge(typeof O=="boolean",e,"internal-error"),Ge(typeof N=="boolean",e,"internal-error"),ya(_,e.name),ya(y,e.name),ya(w,e.name),ya(x,e.name),ya(T,e.name),ya(E,e.name);const k=new di({uid:S,auth:e,email:g,emailVerified:O,displayName:m,isAnonymous:N,photoURL:y,phoneNumber:_,tenantId:w,stsTokenManager:R,createdAt:T,lastLoginAt:E});return $&&Array.isArray($)&&(k.providerData=$.map(I=>Object.assign({},I))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Sl;i.updateFromServerResponse(n);const o=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mg(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?gD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Sl;u.updateFromIdToken(r);const c=new di({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new f1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Map;function Io(t){$o(t instanceof Function,"Expected a class definition");let e=VP.get(t);return e?($o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vD.type="NONE";const FP=vD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e,n){return`firebase:${t}:${e}:${n}`}class Pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sg(this.userKey,i.apiKey,o),this.fullPersistenceKey=sg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kg(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pl(Io(FP),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Io(FP);const s=sg(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const h=await f._get(s);if(h){let m;if(typeof h=="string"){const g=await kg(e,{idToken:h}).catch(()=>{});if(!g)break;m=await di._fromGetAccountInfoResponse(e,g,h)}else m=di._fromJSON(e,h);f!==o&&(u=m),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Pl(o,e,r):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new Pl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TD(e))return"Blackberry";if(ED(e))return"Webos";if(_D(e))return"Safari";if((e.includes("chrome/")||wD(e))&&!e.includes("edge/"))return"Chrome";if(bD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yD(t=Ln()){return/firefox\//i.test(t)}function _D(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wD(t=Ln()){return/crios\//i.test(t)}function xD(t=Ln()){return/iemobile/i.test(t)}function bD(t=Ln()){return/android/i.test(t)}function TD(t=Ln()){return/blackberry/i.test(t)}function ED(t=Ln()){return/webos/i.test(t)}function eb(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zz(t=Ln()){var e;return eb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Bz(){return VU()&&document.documentMode===10}function SD(t=Ln()){return eb(t)||bD(t)||ED(t)||TD(t)||/windows phone/i.test(t)||xD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e=[]){let n;switch(t){case"Browser":n=qP(Ln());break;case"Worker":n=`${qP(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e={}){return rc(t,"GET","/v2/passwordPolicy",Jx(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=6;class Kz{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Gz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $P(this),this.idTokenSubscription=new $P(this),this.beforeStateQueue=new Wz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Io(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kg(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ui(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Iz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Ys(this));const n=e?sr(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hz(this),n=new Kz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Io(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Io(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wv(t){return sr(t)}class $P{constructor(e){this.auth=e,this.observer=null,this.addObserver=WU(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qz(t){tb=t}function Xz(t){return tb.loadJS(t)}function Jz(){return tb.gapiScript}function Zz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e){const n=px(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Js(o,e??{}))return i;Gi(i,"already-initialized")}return n.initialize({options:e})}function t9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Io);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n9(t,e,n){const r=wv(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=CD(e),{host:s,port:u}=r9(e),c=u===null?"":`:${u}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Js(f,r.config.emulator)&&Js(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,i9()}function CD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r9(t){const e=CD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:UP(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:UP(s)}}}function UP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ro("not implemented")}_getIdTokenResponse(e){return Ro("not implemented")}_linkToIdToken(e,n){return Ro("not implemented")}_getReauthenticationResolver(e){return Ro("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e){return Oz(t,"POST","/v1/accounts:signInWithIdp",Jx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="http://localhost";class ru extends RD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ru(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=hd(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ru(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Cl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Cl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cl(e,n)}buildRequest(){const e={requestUri:o9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends nb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends md{constructor(){super("facebook.com")}static credential(e){return ru._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ru._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Co.credential(n,r)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends md{constructor(){super("github.com")}static credential(e){return ru._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends md{constructor(){super("twitter.com")}static credential(e,n){return ru._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await di._fromIdTokenResponse(e,r,i),s=jP(r);return new $l({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jP(r);return new $l({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Wo{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ag.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ag(e,n,r,i)}}function ID(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ag._fromErrorAndOperation(t,o,e,r):o})}async function a9(t,e,n=!1){const r=await Kf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $l._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e,n=!1){const{auth:r}=t;if(ui(r.app))return Promise.reject(Ys(r));const i="reauthenticate";try{const o=await Kf(t,ID(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const s=Zx(o.idToken);Ge(s,r,"internal-error");const{sub:u}=s;return Ge(t.uid===u,r,"user-mismatch"),$l._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Gi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e,n=!1){if(ui(t.app))return Promise.reject(Ys(t));const r="signIn",i=await ID(t,r,e),o=await $l._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function l9(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function c9(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function f9(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function d9(t){return sr(t).signOut()}const Og="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Og,"1"),this.storage.removeItem(Og),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=1e3,p9=10;class MD extends kD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Bz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MD.type="LOCAL";const m9=MD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends kD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AD.type="SESSION";const OD=AD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async f=>f(n.origin,o)),c=await g9(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const f=rb("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function y9(t){ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function _9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x9(){return DD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebaseLocalStorageDb",b9=1,Dg="firebaseLocalStorage",LD="fbase_key";class gd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bv(t,e){return t.transaction([Dg],e?"readwrite":"readonly").objectStore(Dg)}function T9(){const t=indexedDB.deleteDatabase(ND);return new gd(t).toPromise()}function d1(){const t=indexedDB.open(ND,b9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dg,{keyPath:LD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dg)?e(r):(r.close(),await T9(),e(await d1()))})})}async function zP(t,e,n){const r=bv(t,!0).put({[LD]:e,value:n});return new gd(r).toPromise()}async function E9(t,e){const n=bv(t,!1).get(e),r=await new gd(n).toPromise();return r===void 0?null:r.value}function BP(t,e){const n=bv(t,!0).delete(e);return new gd(n).toPromise()}const S9=800,P9=3;class VD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xv._getInstance(x9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _9(),!this.activeServiceWorker)return;this.sender=new v9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d1();return await zP(e,Og,"1"),await BP(e,Og),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>E9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=bv(i,!1).getAll();return new gd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VD.type="LOCAL";const C9=VD;new pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e){return e?Io(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends RD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R9(t){return u9(t.auth,new ib(t),t.bypassAuthState)}function I9(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),s9(n,new ib(t),t.bypassAuthState)}async function k9(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),a9(n,new ib(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R9;case"linkViaPopup":case"linkViaRedirect":return k9;case"reauthViaPopup":case"reauthViaRedirect":return I9;default:Gi(this.auth,"internal-error")}}resolve(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new pd(2e3,1e4);async function A9(t,e,n){if(ui(t.app))return Promise.reject(pi(t,"operation-not-supported-in-this-environment"));const r=wv(t);Pz(t,e,nb);const i=FD(r,n);return new Gs(r,"signInViaPopup",e,i).executeNotNull()}class Gs extends qD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){$o(this.filter.length===1,"Popup operations only handle one event");const e=rb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M9.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="pendingRedirect",ug=new Map;class D9 extends qD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ug.get(this.auth._key());if(!e){try{const r=await N9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ug.set(this.auth._key(),e)}return this.bypassAuthState||ug.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N9(t,e){const n=F9(e),r=V9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function L9(t,e){ug.set(t._key(),e)}function V9(t){return Io(t._redirectPersistence)}function F9(t){return sg(O9,t.config.apiKey,t.name)}async function q9(t,e,n=!1){if(ui(t.app))return Promise.reject(Ys(t));const r=wv(t),i=FD(r,e),s=await new D9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=10*60*1e3;class U9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$D(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$9&&this.cachedEventUids.clear(),this.cachedEventUids.has(WP(e))}saveEventToCache(e){this.cachedEventUids.add(WP(e)),this.lastProcessedEventTime=Date.now()}}function WP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $D({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $D(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e={}){return rc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W9=/^https?/;async function H9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await z9(t);for(const n of e)try{if(G9(n))return}catch{}Gi(t,"unauthorized-domain")}function G9(t){const e=c1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!W9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new pd(3e4,6e4);function HP(){const t=ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y9(t){return new Promise((e,n)=>{var r,i,o;function s(){HP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HP(),n(pi(t,"network-request-failed"))},timeout:K9.get()})}if(!((i=(r=ji().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ji().gapi)===null||o===void 0)&&o.load)s();else{const u=Zz("iframefcb");return ji()[u]=()=>{gapi.load?s():n(pi(t,"network-request-failed"))},Xz(`${Jz()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw lg=null,e})}let lg=null;function Q9(t){return lg=lg||Y9(t),lg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new pd(5e3,15e3),J9="__/auth/iframe",Z9="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n6(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Xx(e,Z9):`https://${t.config.authDomain}/${J9}`,r={apiKey:e.apiKey,appName:t.name,v:Xl},i=t6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ad(r).slice(1)}`}async function r6(t){const e=await Q9(t),n=ji().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:n6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=pi(t,"network-request-failed"),u=ji().setTimeout(()=>{o(s)},X9.get());function c(){ji().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o6=500,a6=600,s6="_blank",u6="http://localhost";class GP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l6(t,e,n,r=o6,i=a6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},i6),{width:r.toString(),height:i.toString(),top:o,left:s}),f=Ln().toLowerCase();n&&(u=wD(f)?s6:n),yD(f)&&(e=e||u6,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[_,y])=>`${g}${_}=${y},`,"");if(zz(f)&&u!=="_self")return c6(e||"",u),new GP(null);const m=window.open(e||"",u,h);Ge(m,t,"popup-blocked");try{m.focus()}catch{}return new GP(m)}function c6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="__/auth/handler",d6="emulator/auth/handler",h6=encodeURIComponent("fac");async function KP(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xl,eventId:i};if(e instanceof nb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",BU(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof md){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${h6}=${encodeURIComponent(c)}`:"";return`${p6(t)}?${ad(u).slice(1)}${f}`}function p6({config:t}){return t.emulator?Xx(t,d6):`https://${t.authDomain}/${f6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="webStorageSupport";class m6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OD,this._completeRedirectFn=q9,this._overrideRedirectResult=L9}async _openPopup(e,n,r,i){var o;$o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await KP(e,n,r,c1(),i);return l6(e,s,rb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await KP(e,n,r,c1(),i);return y9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($o(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r6(e),r=new U9(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(B0,{type:B0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[B0];s!==void 0&&n(!!s),Gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SD()||_D()||eb()}}const g6=m6;var YP="@firebase/auth",QP="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _6(t){Al(new Zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;Ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PD(t)},f=new Yz(r,i,o,c);return t9(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Al(new Zs("auth-internal",e=>{const n=wv(e.getProvider("auth").getImmediate());return(r=>new v6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(YP,QP,y6(t)),Oa(YP,QP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=5*60,x6=CO("authIdTokenMaxAge")||w6;let XP=null;const b6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x6)return;const i=n==null?void 0:n.token;XP!==i&&(XP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T6(t=MO()){const e=px(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e9(t,{popupRedirectResolver:g6,persistence:[C9,m9,OD]}),r=CO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=b6(o.toString());c9(n,s,()=>s(n.currentUser)),l9(n,u=>s(u))}}const i=SO("auth");return i&&n9(n,`http://${i}`),n}function E6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=pi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",E6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_6("Browser");const UD=F.createContext({user:null,login:()=>{},logout:()=>{}}),S6=({children:t})=>{const e=T6(cD),n=new Co,[r,i]=F.useState(null);F.useEffect(()=>f9(e,i),[e]);const o=()=>{A9(e,n).then(u=>{console.log(u.user.email)}).catch(u=>{console.error(u)})},s=()=>{d9(e).catch(u=>console.error(u))};return ee.jsx(UD.Provider,{value:{user:r,login:o,logout:s},children:t})},Ng=F.createContext({userData:[],loading:!1,loadFirebaseUserData:null,uploadEnergyGraph:null,getGraphForDate:null,deleteAllGraphs:null}),P6=({children:t,loadData:e=!0})=>{const[n,r]=F.useState([]),[i,o]=F.useState(!1),s=ez(cD),{user:u}=F.useContext(UD);F.useEffect(()=>{if(e){if(!u){r([]),o(!1);return}c()}},[u,e]);const c=()=>u?(console.log("loading"),o(!0),jh(qh(s,"users",u.uid,"graphs")).then(g=>{const _=g.docs.map(y=>y.data());return console.log(_),r(_),!0}).catch(g=>(console.log(g),!1)).finally(()=>{o(!1)})):new Promise(()=>!1),f=async g=>{if(!u)return new Promise(()=>!1);const _=new Date(g);_.setHours(0,0,0,0);const y=new Date(g);y.setHours(23,59,59,999);const w=qh(s,"users",u==null?void 0:u.uid,"graphs"),x=AP(w,$h("created",">=",Rt.fromDate(_)),$h("created","<=",Rt.fromDate(y)));o(!0);try{console.log("Check if entry in this day exists");const T=await jh(x);return T.empty?null:T.docs[0].data()}catch(T){return console.error(T),null}finally{o(!1)}},h=async(g,_,y=!0,w=!1)=>{if(!u)return new Promise(()=>!1);const x=new Date(_);x.setHours(0,0,0,0);const T=new Date(_);T.setHours(23,59,59,999);const E=qh(s,"users",u==null?void 0:u.uid,"graphs"),S=AP(E,$h("created",">=",Rt.fromDate(x)),$h("created","<=",Rt.fromDate(T)));o(!0);try{const O=await jh(S);if(w||O.empty)return await _z(E,{points:g,created:Rt.fromDate(_)}),!0;if(y){const N=O.docs[0],$=l1(s,"users",u==null?void 0:u.uid,"graphs",N.id);return await vz($,{points:g,created:Rt.fromDate(_)}),!0}return!1}catch(O){return console.error(O),!1}finally{c().then(()=>o(!1))}},m=async()=>{if(!u)return new Promise(()=>!1);const g=qh(s,"users",u==null?void 0:u.uid,"graphs"),y=(await jh(g)).docs.map(w=>{yz(l1(s,"users",u.uid,"graphs",w.id))});return Promise.all(y).finally(()=>{c().then(()=>o(!1))})};return ee.jsx(Ng.Provider,{value:{userData:n,loading:i,loadFirebaseUserData:c,uploadEnergyGraph:h,getGraphForDate:f,deleteAllGraphs:m},children:t})};var W0={exports:{}},H0,JP;function C6(){if(JP)return H0;JP=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return H0=t,H0}var G0,ZP;function R6(){if(ZP)return G0;ZP=1;var t=C6();function e(){}function n(){}return n.resetWarningCache=e,G0=function(){function r(s,u,c,f,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},G0}var eC;function jD(){return eC||(eC=1,W0.exports=R6()()),W0.exports}var I6=jD();const et=Xi(I6);var K0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var tC;function zD(){return tC||(tC=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var u=arguments[s];u&&(o=i(o,r(u)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var u in o)e.call(o,u)&&o[u]&&(s=i(s,u));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(K0)),K0.exports}var k6=zD();const iu=Xi(k6);var M6=["top","left","transform","className","children","innerRef"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(this,arguments)}function A6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ob(t){var e=t.top,n=e===void 0?0:e,r=t.left,i=r===void 0?0:r,o=t.transform,s=t.className,u=t.children,c=t.innerRef,f=A6(t,M6);return $e.createElement("g",h1({ref:c,className:iu("visx-group",s),transform:o||"translate("+i+", "+n+")"},f),u)}ob.propTypes={top:et.number,left:et.number,transform:et.string,className:et.string,children:et.node,innerRef:et.oneOfType([et.string,et.func,et.object])};var Y0,nC;function O6(){if(nC)return Y0;nC=1,Y0=t;function t(r,i,o){r instanceof RegExp&&(r=e(r,o)),i instanceof RegExp&&(i=e(i,o));var s=n(r,i,o);return s&&{start:s[0],end:s[1],pre:o.slice(0,s[0]),body:o.slice(s[0]+r.length,s[1]),post:o.slice(s[1]+i.length)}}function e(r,i){var o=i.match(r);return o?o[0]:null}t.range=n;function n(r,i,o){var s,u,c,f,h,m=o.indexOf(r),g=o.indexOf(i,m+1),_=m;if(m>=0&&g>0){for(s=[],c=o.length;_>=0&&!h;)_==m?(s.push(_),m=o.indexOf(r,_+1)):s.length==1?h=[s.pop(),g]:(u=s.pop(),u<c&&(c=u,f=g),g=o.indexOf(i,_+1)),_=m<g&&m>=0?m:g;s.length&&(h=[c,f])}return h}return Y0}var Q0,rC;function D6(){if(rC)return Q0;rC=1,Q0=t;function t(r,i,o){r instanceof RegExp&&(r=e(r,o)),i instanceof RegExp&&(i=e(i,o));var s=n(r,i,o);return s&&{start:s[0],end:s[1],pre:o.slice(0,s[0]),body:o.slice(s[0]+r.length,s[1]),post:o.slice(s[1]+i.length)}}function e(r,i){var o=i.match(r);return o?o[0]:null}t.range=n;function n(r,i,o){var s,u,c,f,h,m=o.indexOf(r),g=o.indexOf(i,m+1),_=m;if(m>=0&&g>0){if(r===i)return[m,g];for(s=[],c=o.length;_>=0&&!h;)_==m?(s.push(_),m=o.indexOf(r,_+1)):s.length==1?h=[s.pop(),g]:(u=s.pop(),u<c&&(c=u,f=g),g=o.indexOf(i,_+1)),_=m<g&&m>=0?m:g;s.length&&(h=[c,f])}return h}return Q0}var X0,iC;function N6(){if(iC)return X0;iC=1;var t=D6();X0=e;function e(i,o,s){var u=i;return n(i,o).reduce(function(c,f){return c.replace(f.functionIdentifier+"("+f.matches.body+")",r(f.matches.body,f.functionIdentifier,s,u,o))},i)}function n(i,o){var s=[],u=typeof o=="string"?new RegExp("\\b("+o+")\\("):o;do{var c=u.exec(i);if(!c)return s;if(c[1]===void 0)throw new Error("Missing the first couple of parenthesis to get the function identifier in "+o);var f=c[1],h=c.index,m=t("(",")",i.substring(h));if(!m||m.start!==c[0].length-1)throw new SyntaxError(f+"(): missing closing ')' in the value '"+i+"'");s.push({matches:m,functionIdentifier:f}),i=m.post}while(u.test(i));return s}function r(i,o,s,u,c){return s(e(i,c,s),o,u)}return X0}var J0,oC;function L6(){if(oC)return J0;oC=1;var t=function(e){this.value=e};return t.math={isDegree:!0,acos:function(e){return t.math.isDegree?180/Math.PI*Math.acos(e):Math.acos(e)},add:function(e,n){return e+n},asin:function(e){return t.math.isDegree?180/Math.PI*Math.asin(e):Math.asin(e)},atan:function(e){return t.math.isDegree?180/Math.PI*Math.atan(e):Math.atan(e)},acosh:function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){return Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){return Math.log((1+e)/(1-e))},C:function(e,n){var r=1,i=e-n,o=n;o<i&&(o=i,i=n);for(var s=o+1;s<=e;s++)r*=s;return r/t.math.fact(i)},changeSign:function(e){return-e},cos:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.cos(e)},cosh:function(e){return(Math.pow(Math.E,e)+Math.pow(Math.E,-1*e))/2},div:function(e,n){return e/n},fact:function(e){if(e%1!==0)return"NaN";for(var n=1,r=2;r<=e;r++)n*=r;return n},inverse:function(e){return 1/e},log:function(e){return Math.log(e)/Math.log(10)},mod:function(e,n){return e%n},mul:function(e,n){return e*n},P:function(e,n){for(var r=1,i=Math.floor(e)-Math.floor(n)+1;i<=Math.floor(e);i++)r*=i;return r},Pi:function(e,n,r){for(var i=1,o=e;o<=n;o++)i*=Number(r.postfixEval({n:o}));return i},pow10x:function(e){for(var n=1;e--;)n*=10;return n},sigma:function(e,n,r){for(var i=0,o=e;o<=n;o++)i+=Number(r.postfixEval({n:o}));return i},sin:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.sin(e)},sinh:function(e){return(Math.pow(Math.E,e)-Math.pow(Math.E,-1*e))/2},sub:function(e,n){return e-n},tan:function(e){return t.math.isDegree&&(e=t.math.toRadian(e)),Math.tan(e)},tanh:function(e){return t.sinha(e)/t.cosha(e)},toRadian:function(e){return e*Math.PI/180},and:function(e,n){return e&n}},t.Exception=function(e){this.message=e},J0=t,J0}var Z0,aC;function V6(){if(aC)return Z0;aC=1;var t=L6();function e(E,S){for(var O=0;O<E.length;O++)E[O]+=S;return E}for(var n=[{token:"sin",show:"sin",type:0,value:t.math.sin},{token:"cos",show:"cos",type:0,value:t.math.cos},{token:"tan",show:"tan",type:0,value:t.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:t.math.P},{token:"C",show:"C",type:10,value:t.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:t.math.asin},{token:"acos",show:"acos",type:0,value:t.math.acos},{token:"atan",show:"atan",type:0,value:t.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:t.math.cosh},{token:"acosh",show:"acosh",type:0,value:t.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:t.math.div},{token:"!",show:"!",type:7,value:t.math.fact},{token:"tanh",show:"tanh",type:0,value:t.math.tanh},{token:"atanh",show:"atanh",type:0,value:t.math.atanh},{token:"Mod",show:" Mod ",type:2,value:t.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:t.math.mul},{token:"sinh",show:"sinh",type:0,value:t.math.sinh},{token:"asinh",show:"asinh",type:0,value:t.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:t.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:t.math.add},{token:"-",show:"-",type:9,value:t.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:t.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:t.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:t.math.and}],r={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},i=0;i<n.length;i++)n[i].precedence=r[n[i].type];var o={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},s={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},u={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},c={},f={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},h={1:!0},m=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function g(E,S,O,N){for(var $=0;$<N;$++)if(E[O+$]!==S[$])return!1;return!0}t.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},t.addToken=function(E){for(var S=0;S<E.length;S++){var O=E[S].token.length,N=-1;E[S].type===t.tokenTypes.FUNCTION_WITH_N_ARGS&&E[S].numberOfArguments===void 0&&(E[S].numberOfArguments=2),m[O]=m[O]||[];for(var $=0;$<m[O].length;$++)if(E[S].token===m[O][$]){N=_(m[O][$],n);break}N===-1?(n.push(E[S]),E[S].precedence=r[E[S].type],m.length<=E[S].token.length&&(m[E[S].token.length]=[]),m[E[S].token.length].push(E[S].token)):(n[N]=E[S],E[S].precedence=r[E[S].type])}};function _(E,S){for(var O=0;O<S.length;O++)if(S[O].token===E)return O;return-1}function y(E){for(var S=[],O=E.length,N,$,M,R=0;R<O;R++)if(!(R<O-1&&E[R]===" "&&E[R+1]===" ")){for(N="",$=E.length-R>m.length-2?m.length-1:E.length-R;$>0;$--)if(m[$]!==void 0)for(M=0;M<m[$].length;M++)g(E,m[$][M],R,$)&&(N=m[$][M],M=m[$].length,$=0);if(R+=N.length-1,N==="")throw new t.Exception("Can't understand after "+E.slice(R));S.push(n[_(N,n)])}return S}var w={value:t.math.changeSign,type:0,pre:21,show:"-"},x={value:")",show:")",type:5,pre:0},T={value:"(",type:4,pre:0,show:"("};return t.lex=function(E,S){var O=[T],N=[],$=E,M=o,R=0,k=c,I="",L;typeof S<"u"&&t.addToken(S);var V={},A=y($);for(L=0;L<A.length;L++){var H=A[L];if(H.type===14){if(L>0&&L<A.length-1&&A[L+1].type===1&&(A[L-1].type===1||A[L-1].type===6))throw new t.Exception("Unexpected Space");continue}var X=H.token,Q=H.type,J=H.value,j=H.precedence,ue=H.show,re=O[O.length-1],W;for(W=N.length;W--&&N[W]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(Q)!==-1){if(M[Q]!==!0)throw new t.Exception(X+" is not allowed after "+I);O.push(x),M=s,k=f,N.pop()}if(M[Q]!==!0)throw new t.Exception(X+" is not allowed after "+I);if(k[Q]===!0&&(Q=2,J=t.math.mul,ue="&times;",j=3,L=L-1),V={value:J,type:Q,pre:j,show:ue,numberOfArguments:H.numberOfArguments},Q===0)M=o,k=c,e(N,2),O.push(V),A[L+1].type!==4&&(O.push(T),N.push(2));else if(Q===1)re.type===1?(re.value+=J,e(N,1)):O.push(V),M=s,k=u;else if(Q===2)M=o,k=c,e(N,2),O.push(V);else if(Q===3)O.push(V),M=s,k=f;else if(Q===4)e(N,1),R++,M=o,k=c,O.push(V);else if(Q===5){if(!R)throw new t.Exception("Closing parenthesis are more than opening one, wait What!!!");R--,M=s,k=f,O.push(V),e(N,1)}else if(Q===6){if(re.hasDec)throw new t.Exception("Two decimals are not allowed in one number");re.type!==1&&(re={value:0,type:1,pre:0},O.push(re)),M=h,e(N,1),k=c,re.value+=J,re.hasDec=!0}else Q===7&&(M=s,k=f,e(N,1),O.push(V));Q===8?(M=o,k=c,e(N,H.numberOfArguments+2),O.push(V),A[L+1].type!==4&&(O.push(T),N.push(H.numberOfArguments+2))):Q===9?(re.type===9?re.value===t.math.add?(re.value=J,re.show=ue,e(N,1)):re.value===t.math.sub&&ue==="-"&&(re.value=t.math.add,re.show="+",e(N,1)):re.type!==5&&re.type!==7&&re.type!==1&&re.type!==3&&re.type!==13?X==="-"&&(M=o,k=c,e(N,2).push(2),O.push(w),O.push(T)):(O.push(V),e(N,2)),M=o,k=c):Q===10?(M=o,k=c,e(N,2),O.push(V)):Q===11?(M=o,k=c,O.push(V)):Q===12?(M=o,k=c,e(N,6),O.push(V),A[L+1].type!==4&&(O.push(T),N.push(6))):Q===13&&(M=s,k=f,O.push(V)),e(N,-1),I=X}for(W=N.length;W--;)O.push(x);if(M[5]!==!0)throw new t.Exception("complete the expression");for(;R--;)O.push(x);return O.push(x),new t(O)},Z0=t,Z0}var e_,sC;function F6(){if(sC)return e_;sC=1;var t=V6();return t.prototype.toPostfix=function(){for(var e=[],n,r,i,o,s,u=[{value:"(",type:4,pre:0}],c=this.value,f=1;f<c.length;f++)if(c[f].type===1||c[f].type===3||c[f].type===13)c[f].type===1&&(c[f].value=Number(c[f].value)),e.push(c[f]);else if(c[f].type===4)u.push(c[f]);else if(c[f].type===5)for(;(r=u.pop()).type!==4;)e.push(r);else if(c[f].type===11){for(;(r=u.pop()).type!==4;)e.push(r);u.push(r)}else{n=c[f],o=n.pre,s=u[u.length-1],i=s.pre;var h=s.value=="Math.pow"&&n.value=="Math.pow";if(o>i)u.push(n);else{for(;i>=o&&!h||h&&o<i;)r=u.pop(),s=u[u.length-1],e.push(r),i=s.pre,h=n.value=="Math.pow"&&s.value=="Math.pow";u.push(n)}}return new t(e)},e_=t,e_}var t_,uC;function q6(){if(uC)return t_;uC=1;var t=F6();return t.prototype.postfixEval=function(e){e=e||{},e.PI=Math.PI,e.E=Math.E;for(var n=[],r,i,o,s=this.value,u=typeof e.n<"u",c=0;c<s.length;c++)if(s[c].type===1)n.push({value:s[c].value,type:1});else if(s[c].type===3)n.push({value:e[s[c].value],type:1});else if(s[c].type===0)typeof n[n.length-1].type>"u"?n[n.length-1].value.push(s[c]):n[n.length-1].value=s[c].value(n[n.length-1].value);else if(s[c].type===7)typeof n[n.length-1].type>"u"?n[n.length-1].value.push(s[c]):n[n.length-1].value=s[c].value(n[n.length-1].value);else if(s[c].type===8){for(var f=[],h=0;h<s[c].numberOfArguments;h++)f.push(n.pop().value);n.push({type:1,value:s[c].value.apply(s[c],f.reverse())})}else s[c].type===10?(r=n.pop(),i=n.pop(),typeof i.type>"u"?(i.value=i.concat(r),i.value.push(s[c]),n.push(i)):typeof r.type>"u"?(r.unshift(i),r.push(s[c]),n.push(r)):n.push({type:1,value:s[c].value(i.value,r.value)})):s[c].type===2||s[c].type===9?(r=n.pop(),i=n.pop(),typeof i.type>"u"?(i=i.concat(r),i.push(s[c]),n.push(i)):typeof r.type>"u"?(r.unshift(i),r.push(s[c]),n.push(r)):n.push({type:1,value:s[c].value(i.value,r.value)})):s[c].type===12?(r=n.pop(),typeof r.type<"u"&&(r=[r]),i=n.pop(),o=n.pop(),n.push({type:1,value:s[c].value(o.value,i.value,new t(r))})):s[c].type===13&&(u?n.push({value:e[s[c].value],type:3}):n.push([s[c]]));if(n.length>1)throw new t.Exception("Uncaught Syntax error");return n[0].value>1e15?"Infinity":parseFloat(n[0].value.toFixed(15))},t.eval=function(e,n,r){return typeof n>"u"?this.lex(e).toPostfix().postfixEval():typeof r>"u"?typeof n.length<"u"?this.lex(e,n).toPostfix().postfixEval():this.lex(e).toPostfix().postfixEval(n):this.lex(e,n).toPostfix().postfixEval(r)},t_=t,t_}var n_,lC;function $6(){if(lC)return n_;lC=1;var t=q6();return t.prototype.formulaEval=function(){for(var e,n,r,i=[],o=this.value,s=0;s<o.length;s++)o[s].type===1||o[s].type===3?i.push({value:o[s].type===3?o[s].show:o[s].value,type:1}):o[s].type===13?i.push({value:o[s].show,type:1}):o[s].type===0?i[i.length-1]={value:o[s].show+(o[s].show!="-"?"(":"")+i[i.length-1].value+(o[s].show!="-"?")":""),type:0}:o[s].type===7?i[i.length-1]={value:(i[i.length-1].type!=1?"(":"")+i[i.length-1].value+(i[i.length-1].type!=1?")":"")+o[s].show,type:7}:o[s].type===10?(e=i.pop(),n=i.pop(),o[s].show==="P"||o[s].show==="C"?i.push({value:"<sup>"+n.value+"</sup>"+o[s].show+"<sub>"+e.value+"</sub>",type:10}):i.push({value:(n.type!=1?"(":"")+n.value+(n.type!=1?")":"")+"<sup>"+e.value+"</sup>",type:1})):o[s].type===2||o[s].type===9?(e=i.pop(),n=i.pop(),i.push({value:(n.type!=1?"(":"")+n.value+(n.type!=1?")":"")+o[s].show+(e.type!=1?"(":"")+e.value+(e.type!=1?")":""),type:o[s].type})):o[s].type===12&&(e=i.pop(),n=i.pop(),r=i.pop(),i.push({value:o[s].show+"("+r.value+","+n.value+","+e.value+")",type:12}));return i[0].value},n_=t,n_}var r_,cC;function U6(){if(cC)return r_;cC=1;var t=O6(),e=N6(),n=$6(),r=100,i=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,o;r_=s;function s(c,f){o=0,f=Math.pow(10,f===void 0?5:f),c=c.replace(/\n+/g," ");function h(g,_,y){if(o++>r)throw o=0,new Error("Call stack overflow for "+y);if(g==="")throw new Error(_+"(): '"+y+"' must contain a non-whitespace string");g=m(g,y);var w=u(g);if(w.length>1||g.indexOf("var(")>-1)return _+"("+g+")";var x=w[0]||"";x==="%"&&(g=g.replace(/\b[0-9\.]+%/g,function(S){return parseFloat(S.slice(0,-1))*.01}));var T=g.replace(new RegExp(x,"gi"),""),E;try{E=n.eval(T)}catch{return _+"("+g+")"}return x==="%"&&(E*=100),(_.length||x==="%")&&(E=Math.round(E*f)/f),E+=x,E}function m(g,_){g=g.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var y="",w=g,x;x=i.exec(w);){x[0].index>0&&(y+=w.substring(0,x[0].index));var T=t("(",")",w.substring([0].index));if(T.body==="")throw new Error("'"+g+"' must contain a non-whitespace string");var E=h(T.body,"",_);y+=T.pre+E,w=T.post}return y+w}return e(c,/((?:\-[a-z]+\-)?calc)\(/,h)}function u(c){for(var f=[],h=[],m=/[\.0-9]([%a-z]+)/gi,g=m.exec(c);g;)!g||!g[1]||(h.indexOf(g[1].toLowerCase())===-1&&(f.push(g[1]),h.push(g[1].toLowerCase())),g=m.exec(c));return f}return r_}var j6=U6();const i_=Xi(j6);var o_,fC;function z6(){if(fC)return o_;fC=1;var t=typeof Mh=="object"&&Mh&&Mh.Object===Object&&Mh;return o_=t,o_}var a_,dC;function Tv(){if(dC)return a_;dC=1;var t=z6(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return a_=n,a_}var s_,hC;function BD(){if(hC)return s_;hC=1;var t=Tv(),e=t.Symbol;return s_=e,s_}var u_,pC;function B6(){if(pC)return u_;pC=1;var t=BD(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var u=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(u?s[i]=c:delete s[i]),h}return u_=o,u_}var l_,mC;function W6(){if(mC)return l_;mC=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return l_=n,l_}var c_,gC;function WD(){if(gC)return c_;gC=1;var t=BD(),e=B6(),n=W6(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):n(u)}return c_=s,c_}var f_,vC;function Ev(){if(vC)return f_;vC=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return f_=t,f_}var d_,yC;function H6(){if(yC)return d_;yC=1;var t=WD(),e=Ev(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==o}return d_=s,d_}var h_,_C;function G6(){if(_C)return h_;_C=1;var t=Tv(),e=t["__core-js_shared__"];return h_=e,h_}var p_,wC;function K6(){if(wC)return p_;wC=1;var t=G6(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return p_=n,p_}var m_,xC;function Y6(){if(xC)return m_;xC=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return m_=n,m_}var g_,bC;function Q6(){if(bC)return g_;bC=1;var t=H6(),e=K6(),n=Ev(),r=Y6(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var _=t(g)?h:o;return _.test(r(g))}return g_=m,g_}var v_,TC;function X6(){if(TC)return v_;TC=1;function t(e,n){return e==null?void 0:e[n]}return v_=t,v_}var y_,EC;function HD(){if(EC)return y_;EC=1;var t=Q6(),e=X6();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return y_=n,y_}var __,SC;function Sv(){if(SC)return __;SC=1;var t=HD(),e=t(Object,"create");return __=e,__}var w_,PC;function J6(){if(PC)return w_;PC=1;var t=Sv();function e(){this.__data__=t?t(null):{},this.size=0}return w_=e,w_}var x_,CC;function Z6(){if(CC)return x_;CC=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return x_=t,x_}var b_,RC;function eB(){if(RC)return b_;RC=1;var t=Sv(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var u=s[o];return u===e?void 0:u}return r.call(s,o)?s[o]:void 0}return b_=i,b_}var T_,IC;function tB(){if(IC)return T_;IC=1;var t=Sv(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return T_=r,T_}var E_,kC;function nB(){if(kC)return E_;kC=1;var t=Sv(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return E_=n,E_}var S_,MC;function rB(){if(MC)return S_;MC=1;var t=J6(),e=Z6(),n=eB(),r=tB(),i=nB();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,S_=o,S_}var P_,AC;function iB(){if(AC)return P_;AC=1;function t(){this.__data__=[],this.size=0}return P_=t,P_}var C_,OC;function oB(){if(OC)return C_;OC=1;function t(e,n){return e===n||e!==e&&n!==n}return C_=t,C_}var R_,DC;function Pv(){if(DC)return R_;DC=1;var t=oB();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return R_=e,R_}var I_,NC;function aB(){if(NC)return I_;NC=1;var t=Pv(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var u=o.length-1;return s==u?o.pop():n.call(o,s,1),--this.size,!0}return I_=r,I_}var k_,LC;function sB(){if(LC)return k_;LC=1;var t=Pv();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return k_=e,k_}var M_,VC;function uB(){if(VC)return M_;VC=1;var t=Pv();function e(n){return t(this.__data__,n)>-1}return M_=e,M_}var A_,FC;function lB(){if(FC)return A_;FC=1;var t=Pv();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return A_=e,A_}var O_,qC;function cB(){if(qC)return O_;qC=1;var t=iB(),e=aB(),n=sB(),r=uB(),i=lB();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,O_=o,O_}var D_,$C;function fB(){if($C)return D_;$C=1;var t=HD(),e=Tv(),n=t(e,"Map");return D_=n,D_}var N_,UC;function dB(){if(UC)return N_;UC=1;var t=rB(),e=cB(),n=fB();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return N_=r,N_}var L_,jC;function hB(){if(jC)return L_;jC=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return L_=t,L_}var V_,zC;function Cv(){if(zC)return V_;zC=1;var t=hB();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return V_=e,V_}var F_,BC;function pB(){if(BC)return F_;BC=1;var t=Cv();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return F_=e,F_}var q_,WC;function mB(){if(WC)return q_;WC=1;var t=Cv();function e(n){return t(this,n).get(n)}return q_=e,q_}var $_,HC;function gB(){if(HC)return $_;HC=1;var t=Cv();function e(n){return t(this,n).has(n)}return $_=e,$_}var U_,GC;function vB(){if(GC)return U_;GC=1;var t=Cv();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return U_=e,U_}var j_,KC;function yB(){if(KC)return j_;KC=1;var t=dB(),e=pB(),n=mB(),r=gB(),i=vB();function o(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,j_=o,j_}var z_,YC;function _B(){if(YC)return z_;YC=1;var t=yB(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=o.cache;if(c.has(u))return c.get(u);var f=r.apply(this,s);return o.cache=c.set(u,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,z_=n,z_}var wB=_B();const xB=Xi(wB);var QC="__react_svg_text_measurement_id";function bB(t,e){try{var n=document.getElementById(QC);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",n=document.createElementNS("http://www.w3.org/2000/svg","text"),n.setAttribute("id",QC),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,e),n.textContent=t,n.getComputedTextLength()}catch{return null}}const XC=xB(bB,function(t,e){return t+"_"+JSON.stringify(e)});var TB=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function EB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function B_(t){return typeof t=="number"}function JC(t){return typeof t=="number"&&Number.isFinite(t)||typeof t=="string"}function SB(t){var e=t.verticalAnchor,n=e===void 0?"end":e,r=t.scaleToFit,i=r===void 0?!1:r,o=t.angle,s=t.width,u=t.lineHeight,c=u===void 0?"1em":u,f=t.capHeight,h=f===void 0?"0.71em":f,m=t.children,g=t.style,_=EB(t,TB),y=_.x,w=y===void 0?0:y,x=_.y,T=x===void 0?0:x,E=!JC(w)||!JC(T),S=F.useMemo(function(){var k=m==null?[]:m.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:k.map(function(I){return{word:I,wordWidth:XC(I,g)||0}}),spaceWidth:XC(" ",g)||0}},[m,g]),O=S.wordsWithWidth,N=S.spaceWidth,$=F.useMemo(function(){return E?[]:s||i?O.reduce(function(k,I){var L=I.word,V=I.wordWidth,A=k[k.length-1];if(A&&(s==null||i||(A.width||0)+V+N<s))A.words.push(L),A.width=A.width||0,A.width+=V+N;else{var H={words:[L],width:V};k.push(H)}return k},[]):[{words:m==null?[]:m.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[E,s,i,m,O,N]),M=F.useMemo(function(){var k=E?"":i_(n==="start"?"calc("+h+")":n==="middle"?"calc("+($.length-1)/2+" * -"+c+" + ("+h+" / 2))":"calc("+($.length-1)+" * -"+c+")");return k},[E,n,h,$.length,c]),R=F.useMemo(function(){var k=[];if(E)return"";if(B_(w)&&B_(T)&&B_(s)&&i&&$.length>0){var I=$[0].width||1,L=i==="shrink-only"?Math.min(s/I,1):s/I,V=L,A=w-L*w,H=T-V*T;k.push("matrix("+L+", 0, 0, "+V+", "+A+", "+H+")")}return o&&k.push("rotate("+o+", "+w+", "+T+")"),k.length>0?k.join(" "):""},[E,w,T,s,i,$,o]);return{wordsByLines:$,startDy:M,transform:R}}var PB=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(this,arguments)}function CB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var RB={overflow:"visible"};function GD(t){var e=t.dx,n=e===void 0?0:e,r=t.dy,i=r===void 0?0:r,o=t.textAnchor,s=o===void 0?"start":o,u=t.innerRef,c=t.innerTextRef;t.verticalAnchor,t.angle;var f=t.lineHeight,h=f===void 0?"1em":f;t.scaleToFit,t.capHeight,t.width;var m=CB(t,PB),g=m.x,_=g===void 0?0:g,y=m.fontSize,w=SB(t),x=w.wordsByLines,T=w.startDy,E=w.transform;return $e.createElement("svg",{ref:u,x:n,y:i,fontSize:y,style:RB},x.length>0?$e.createElement("text",p1({ref:c,transform:E},m,{textAnchor:s}),x.map(function(S,O){return $e.createElement("tspan",{key:O,x:_,dy:O===0?T:h},S.words.join(" "))})):null)}var ko=function(){function t(n){var r=n.x,i=r===void 0?0:r,o=n.y,s=o===void 0?0:o;this.x=0,this.y=0,this.x=i,this.y=s}var e=t.prototype;return e.value=function(){return{x:this.x,y:this.y}},e.toArray=function(){return[this.x,this.y]},t}();function IB(t,e){return new ko({x:t.x+e.x,y:t.y+e.y})}function kB(t,e){return new ko({x:t.x-e.x,y:t.y-e.y})}function MB(t){return!!t&&t instanceof Element}function AB(t){return!!t&&(t instanceof SVGElement||"ownerSVGElement"in t)}function OB(t){return!!t&&"createSVGPoint"in t}function DB(t){return!!t&&"getScreenCTM"in t}function NB(t){return!!t&&"changedTouches"in t}function LB(t){return!!t&&"clientX"in t}function VB(t){return!!t&&(t instanceof Event||"nativeEvent"in t&&t.nativeEvent instanceof Event)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}var W_={x:0,y:0};function FB(t){if(!t)return Nf({},W_);if(NB(t))return t.changedTouches.length>0?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:Nf({},W_);if(LB(t))return{x:t.clientX,y:t.clientY};var e=t==null?void 0:t.target,n=e&&"getBoundingClientRect"in e?e.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:Nf({},W_)}function ZC(t,e){if(!t||!e)return null;var n=FB(e),r=AB(t)?t.ownerSVGElement:t,i=DB(r)?r.getScreenCTM():null;if(OB(r)&&i){var o=r.createSVGPoint();return o.x=n.x,o.y=n.y,o=o.matrixTransform(i.inverse()),new ko({x:o.x,y:o.y})}var s=t.getBoundingClientRect();return new ko({x:n.x-s.left-t.clientLeft,y:n.y-s.top-t.clientTop})}function m1(t,e){if(MB(t)&&e)return ZC(t,e);if(VB(t)){var n=t,r=n.target;if(r)return ZC(r,n)}return null}function Lf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qB(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rv(t){let e,n,r;t.length!==2?(e=Lf,n=(u,c)=>Lf(t(u),c),r=(u,c)=>t(u)-c):(e=t===Lf||t===qB?t:$B,n=t,r=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:s,right:o}}function $B(){return 0}function KD(t){return t===null?NaN:+t}const YD=Rv(Lf),Iv=YD.right,UB=YD.left;Rv(KD).center;function eR(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class tR extends Map{constructor(e,n=BB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nR(this,e))}has(e){return super.has(nR(this,e))}set(e,n){return super.set(jB(this,e),n)}delete(e){return super.delete(zB(this,e))}}function nR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function zB({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function BB(t){return t!==null&&typeof t=="object"?t.valueOf():t}var g1=Math.sqrt(50),v1=Math.sqrt(10),y1=Math.sqrt(2);function _1(t,e,n){var r,i=-1,o,s,u;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(u=QD(t,e,n))===0||!isFinite(u))return[];if(u>0){let c=Math.round(t/u),f=Math.round(e/u);for(c*u<t&&++c,f*u>e&&--f,s=new Array(o=f-c+1);++i<o;)s[i]=(c+i)*u}else{u=-u;let c=Math.round(t*u),f=Math.round(e*u);for(c/u<t&&++c,f/u>e&&--f,s=new Array(o=f-c+1);++i<o;)s[i]=(c+i)/u}return r&&s.reverse(),s}function QD(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=g1?10:o>=v1?5:o>=y1?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=g1?10:o>=v1?5:o>=y1?2:1)}function w1(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=g1?i*=10:o>=v1?i*=5:o>=y1&&(i*=2),e<t?-i:i}function WB(t,e,n=KD){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function XD(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function _i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const rR=Symbol("implicit");function ab(){var t=new tR,e=[],n=[],r=rR;function i(o){let s=t.get(o);if(s===void 0){if(r!==rR)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new tR;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ab(e,n).unknown(r)},_i.apply(i,arguments),i}function sb(){var t=ab().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var g=e().length,_=i<r,y=_?i:r,w=_?r:i;o=(w-y)/Math.max(1,g-c+f*2),u&&(o=Math.floor(o)),y+=(w-y-o*(g-c))*h,s=o*(1-c),u&&(y=Math.round(y),s=Math.round(s));var x=XD(g).map(function(T){return y+o*T});return n(_?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(g){return arguments.length?(u=!!g,m()):u},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return sb(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},_i.apply(m(),arguments)}function JD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JD(e())},t}function HB(){return JD(sb.apply(null,arguments).paddingInner(1))}function ic(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vd(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ja(){}var ou=.7,Ul=1/ou,Rl="\\s*([+-]?\\d+)\\s*",Yf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GB=/^#([0-9a-f]{3,8})$/,KB=new RegExp(`^rgb\\(${Rl},${Rl},${Rl}\\)$`),YB=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),QB=new RegExp(`^rgba\\(${Rl},${Rl},${Rl},${Yf}\\)$`),XB=new RegExp(`^rgba\\(${zi},${zi},${zi},${Yf}\\)$`),JB=new RegExp(`^hsl\\(${Yf},${zi},${zi}\\)$`),ZB=new RegExp(`^hsla\\(${Yf},${zi},${zi},${Yf}\\)$`),iR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ic(Ja,Qf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oR,formatHex:oR,formatHex8:eW,formatHsl:tW,formatRgb:aR,toString:aR});function oR(){return this.rgb().formatHex()}function eW(){return this.rgb().formatHex8()}function tW(){return ZD(this).formatHsl()}function aR(){return this.rgb().formatRgb()}function Qf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=GB.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sR(e):n===3?new cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=KB.exec(t))?new cn(e[1],e[2],e[3],1):(e=YB.exec(t))?new cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=QB.exec(t))?Bh(e[1],e[2],e[3],e[4]):(e=XB.exec(t))?Bh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JB.exec(t))?cR(e[1],e[2]/100,e[3]/100,1):(e=ZB.exec(t))?cR(e[1],e[2]/100,e[3]/100,e[4]):iR.hasOwnProperty(t)?sR(iR[t]):t==="transparent"?new cn(NaN,NaN,NaN,0):null}function sR(t){return new cn(t>>16&255,t>>8&255,t&255,1)}function Bh(t,e,n,r){return r<=0&&(t=e=n=NaN),new cn(t,e,n,r)}function ub(t){return t instanceof Ja||(t=Qf(t)),t?(t=t.rgb(),new cn(t.r,t.g,t.b,t.opacity)):new cn}function x1(t,e,n,r){return arguments.length===1?ub(t):new cn(t,e,n,r??1)}function cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ic(cn,x1,vd(Ja,{brighter(t){return t=t==null?Ul:Math.pow(Ul,t),new cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ou:Math.pow(ou,t),new cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new cn(Qs(this.r),Qs(this.g),Qs(this.b),Lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uR,formatHex:uR,formatHex8:nW,formatRgb:lR,toString:lR}));function uR(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function nW(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function lR(){const t=Lg(this.opacity);return`${t===1?"rgb(":"rgba("}${Qs(this.r)}, ${Qs(this.g)}, ${Qs(this.b)}${t===1?")":`, ${t})`}`}function Lg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ks(t){return t=Qs(t),(t<16?"0":"")+t.toString(16)}function cR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function ZD(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Ja||(t=Qf(t)),!t)return new li;if(t instanceof li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new li(s,u,c,t.opacity)}function b1(t,e,n,r){return arguments.length===1?ZD(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ic(li,b1,vd(Ja,{brighter(t){return t=t==null?Ul:Math.pow(Ul,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ou:Math.pow(ou,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cn(H_(t>=240?t-240:t+120,i,r),H_(t,i,r),H_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new li(fR(this.h),Wh(this.s),Wh(this.l),Lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Lg(this.opacity);return`${t===1?"hsl(":"hsla("}${fR(this.h)}, ${Wh(this.s)*100}%, ${Wh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fR(t){return t=(t||0)%360,t<0?t+360:t}function Wh(t){return Math.max(0,Math.min(1,t||0))}function H_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eN=Math.PI/180,tN=180/Math.PI,Vg=18,nN=.96422,rN=1,iN=.82521,oN=4/29,Il=6/29,aN=3*Il*Il,rW=Il*Il*Il;function sN(t){if(t instanceof Bi)return new Bi(t.l,t.a,t.b,t.opacity);if(t instanceof Mo)return uN(t);t instanceof cn||(t=ub(t));var e=Q_(t.r),n=Q_(t.g),r=Q_(t.b),i=G_((.2225045*e+.7168786*n+.0606169*r)/rN),o,s;return e===n&&n===r?o=s=i:(o=G_((.4360747*e+.3850649*n+.1430804*r)/nN),s=G_((.0139322*e+.0971045*n+.7141733*r)/iN)),new Bi(116*i-16,500*(o-i),200*(i-s),t.opacity)}function T1(t,e,n,r){return arguments.length===1?sN(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}ic(Bi,T1,vd(Ja,{brighter(t){return new Bi(this.l+Vg*(t??1),this.a,this.b,this.opacity)},darker(t){return new Bi(this.l-Vg*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=nN*K_(e),t=rN*K_(t),n=iN*K_(n),new cn(Y_(3.1338561*e-1.6168667*t-.4906146*n),Y_(-.9787684*e+1.9161415*t+.033454*n),Y_(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function G_(t){return t>rW?Math.pow(t,1/3):t/aN+oN}function K_(t){return t>Il?t*t*t:aN*(t-oN)}function Y_(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Q_(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function iW(t){if(t instanceof Mo)return new Mo(t.h,t.c,t.l,t.opacity);if(t instanceof Bi||(t=sN(t)),t.a===0&&t.b===0)return new Mo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*tN;return new Mo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function E1(t,e,n,r){return arguments.length===1?iW(t):new Mo(t,e,n,r??1)}function Mo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function uN(t){if(isNaN(t.h))return new Bi(t.l,0,0,t.opacity);var e=t.h*eN;return new Bi(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ic(Mo,E1,vd(Ja,{brighter(t){return new Mo(this.h,this.c,this.l+Vg*(t??1),this.opacity)},darker(t){return new Mo(this.h,this.c,this.l-Vg*(t??1),this.opacity)},rgb(){return uN(this).rgb()}}));var lN=-.14861,lb=1.78277,cb=-.29227,kv=-.90649,Xf=1.97294,dR=Xf*kv,hR=Xf*lb,pR=lb*cb-kv*lN;function oW(t){if(t instanceof Xs)return new Xs(t.h,t.s,t.l,t.opacity);t instanceof cn||(t=ub(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(pR*r+dR*e-hR*n)/(pR+dR-hR),o=r-i,s=(Xf*(n-i)-cb*o)/kv,u=Math.sqrt(s*s+o*o)/(Xf*i*(1-i)),c=u?Math.atan2(s,o)*tN-120:NaN;return new Xs(c<0?c+360:c,u,i,t.opacity)}function S1(t,e,n,r){return arguments.length===1?oW(t):new Xs(t,e,n,r??1)}function Xs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ic(Xs,S1,vd(Ja,{brighter(t){return t=t==null?Ul:Math.pow(Ul,t),new Xs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ou:Math.pow(ou,t),new Xs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*eN,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new cn(255*(e+n*(lN*r+lb*i)),255*(e+n*(cb*r+kv*i)),255*(e+n*(Xf*r)),this.opacity)}}));const Mv=t=>()=>t;function cN(t,e){return function(n){return t+n*e}}function aW(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fb(t,e){var n=e-t;return n?cN(t,n>180||n<-180?n-360*Math.round(n/360):n):Mv(isNaN(t)?e:t)}function sW(t){return(t=+t)==1?fn:function(e,n){return n-e?aW(e,n,t):Mv(isNaN(e)?n:e)}}function fn(t,e){var n=e-t;return n?cN(t,n):Mv(isNaN(t)?e:t)}const P1=function t(e){var n=sW(e);function r(i,o){var s=n((i=x1(i)).r,(o=x1(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=fn(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r}(1);function uW(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function lW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cW(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=db(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function fW(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dW(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=db(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var C1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X_=new RegExp(C1.source,"g");function hW(t){return function(){return t}}function pW(t){return function(e){return t(e)+""}}function mW(t,e){var n=C1.lastIndex=X_.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=C1.exec(t))&&(i=X_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Fg(r,i)})),n=X_.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?pW(c[0].x):hW(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function db(t,e){var n=typeof e,r;return e==null||n==="boolean"?Mv(e):(n==="number"?Fg:n==="string"?(r=Qf(e))?(e=r,P1):mW:e instanceof Qf?P1:e instanceof Date?fW:lW(e)?uW:Array.isArray(e)?cW:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dW:Fg)(t,e)}function fN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function dN(t){return function(e,n){var r=t((e=b1(e)).h,(n=b1(n)).h),i=fn(e.s,n.s),o=fn(e.l,n.l),s=fn(e.opacity,n.opacity);return function(u){return e.h=r(u),e.s=i(u),e.l=o(u),e.opacity=s(u),e+""}}}const gW=dN(fb);var vW=dN(fn);function yW(t,e){var n=fn((t=T1(t)).l,(e=T1(e)).l),r=fn(t.a,e.a),i=fn(t.b,e.b),o=fn(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=o(s),t+""}}function hN(t){return function(e,n){var r=t((e=E1(e)).h,(n=E1(n)).h),i=fn(e.c,n.c),o=fn(e.l,n.l),s=fn(e.opacity,n.opacity);return function(u){return e.h=r(u),e.c=i(u),e.l=o(u),e.opacity=s(u),e+""}}}const _W=hN(fb);var wW=hN(fn);function pN(t){return function e(n){n=+n;function r(i,o){var s=t((i=S1(i)).h,(o=S1(o)).h),u=fn(i.s,o.s),c=fn(i.l,o.l),f=fn(i.opacity,o.opacity);return function(h){return i.h=s(h),i.s=u(h),i.l=c(Math.pow(h,n)),i.opacity=f(h),i+""}}return r.gamma=e,r}(1)}const xW=pN(fb);var bW=pN(fn);function TW(t){return function(){return t}}function EW(t){return+t}var mR=[0,1];function qi(t){return t}function R1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:TW(isNaN(e)?NaN:.5)}function SW(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function PW(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=R1(i,r),o=n(s,o)):(r=R1(r,i),o=n(o,s)),function(u){return o(r(u))}}function CW(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=R1(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var c=Iv(t,u,1,r)-1;return o[c](i[c](u))}}function yd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Av(){var t=mR,e=mR,n=db,r,i,o,s=qi,u,c,f;function h(){var g=Math.min(t.length,e.length);return s!==qi&&(s=SW(t[0],t[g-1])),u=g>2?CW:PW,c=f=null,m}function m(g){return g==null||isNaN(g=+g)?o:(c||(c=u(t.map(r),e,n)))(r(s(g)))}return m.invert=function(g){return s(i((f||(f=u(e,t.map(r),Fg)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,EW),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=fN,h()},m.clamp=function(g){return arguments.length?(s=g?!0:qi,h()):s!==qi},m.interpolate=function(g){return arguments.length?(n=g,h()):n},m.unknown=function(g){return arguments.length?(o=g,m):o},function(g,_){return r=g,i=_,h()}}function mN(){return Av()(qi,qi)}function RW(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jl(t){return t=qg(Math.abs(t)),t?t[1]:NaN}function IW(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function kW(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var MW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jf(t){if(!(e=MW.exec(t)))throw new Error("invalid format: "+t);var e;return new hb({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jf.prototype=hb.prototype;function hb(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AW(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gN;function OW(t,e){var n=qg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(gN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qg(t,Math.max(0,e+o-1))[0]}function gR(t,e){var n=qg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const vR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:RW,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gR(t*100,e),r:gR,s:OW,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yR(t){return t}var _R=Array.prototype.map,wR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function DW(t){var e=t.grouping===void 0||t.thousands===void 0?yR:IW(_R.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?yR:kW(_R.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Jf(m);var g=m.fill,_=m.align,y=m.sign,w=m.symbol,x=m.zero,T=m.width,E=m.comma,S=m.precision,O=m.trim,N=m.type;N==="n"?(E=!0,N="g"):vR[N]||(S===void 0&&(S=12),O=!0,N="g"),(x||g==="0"&&_==="=")&&(x=!0,g="0",_="=");var $=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",M=w==="$"?r:/[%p]/.test(N)?s:"",R=vR[N],k=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(L){var V=$,A=M,H,X,Q;if(N==="c")A=R(L)+A,L="";else{L=+L;var J=L<0||1/L<0;if(L=isNaN(L)?c:R(Math.abs(L),S),O&&(L=AW(L)),J&&+L==0&&y!=="+"&&(J=!1),V=(J?y==="("?y:u:y==="-"||y==="("?"":y)+V,A=(N==="s"?wR[8+gN/3]:"")+A+(J&&y==="("?")":""),k){for(H=-1,X=L.length;++H<X;)if(Q=L.charCodeAt(H),48>Q||Q>57){A=(Q===46?i+L.slice(H+1):L.slice(H))+A,L=L.slice(0,H);break}}}E&&!x&&(L=e(L,1/0));var j=V.length+L.length+A.length,ue=j<T?new Array(T-j+1).join(g):"";switch(E&&x&&(L=e(ue+L,ue.length?T-A.length:1/0),ue=""),_){case"<":L=V+L+A+ue;break;case"=":L=V+ue+L+A;break;case"^":L=ue.slice(0,j=ue.length>>1)+V+L+A+ue.slice(j);break;default:L=ue+V+L+A;break}return o(L)}return I.toString=function(){return m+""},I}function h(m,g){var _=f((m=Jf(m),m.type="f",m)),y=Math.max(-8,Math.min(8,Math.floor(jl(g)/3)))*3,w=Math.pow(10,-y),x=wR[8+y/3];return function(T){return _(w*T)+x}}return{format:f,formatPrefix:h}}var Hh,pb,vN;NW({thousands:",",grouping:[3],currency:["$",""]});function NW(t){return Hh=DW(t),pb=Hh.format,vN=Hh.formatPrefix,Hh}function LW(t){return Math.max(0,-jl(Math.abs(t)))}function VW(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jl(e)/3)))*3-jl(Math.abs(t)))}function FW(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jl(e)-jl(t))+1}function qW(t,e,n,r){var i=w1(t,e,n),o;switch(r=Jf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=VW(i,s))&&(r.precision=o),vN(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=FW(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=LW(i))&&(r.precision=o-(r.type==="%")*2);break}}return pb(r)}function Ov(t){var e=t.domain;return t.ticks=function(n){var r=e();return _1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return qW(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=QD(s,u,n),f===c)return r[i]=s,r[o]=u,e(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function yN(){var t=mN();return t.copy=function(){return yd(t,yN())},_i.apply(t,arguments),Ov(t)}function _N(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function xR(t){return Math.log(t)}function bR(t){return Math.exp(t)}function $W(t){return-Math.log(-t)}function UW(t){return-Math.exp(-t)}function jW(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zW(t){return t===10?jW:t===Math.E?Math.exp:e=>Math.pow(t,e)}function BW(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TR(t){return(e,n)=>-t(-e,n)}function WW(t){const e=t(xR,bR),n=e.domain;let r=10,i,o;function s(){return i=BW(r),o=zW(r),n()[0]<0?(i=TR(i),o=TR(o),t($W,UW)):t(xR,bR),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=i(f),_=i(h),y,w;const x=u==null?10:+u;let T=[];if(!(r%1)&&_-g<x){if(g=Math.floor(g),_=Math.ceil(_),f>0){for(;g<=_;++g)for(y=1;y<r;++y)if(w=g<0?y/o(-g):y*o(g),!(w<f)){if(w>h)break;T.push(w)}}else for(;g<=_;++g)for(y=r-1;y>=1;--y)if(w=g>0?y/o(-g):y*o(g),!(w<f)){if(w>h)break;T.push(w)}T.length*2<x&&(T=_1(f,h,x))}else T=_1(g,_,Math.min(_-g,x)).map(o);return m?T.reverse():T},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Jf(c)).precision==null&&(c.trim=!0),c=pb(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(_N(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function wN(){const t=WW(Av()).domain([1,10]);return t.copy=()=>yd(t,wN()).base(t.base()),_i.apply(t,arguments),t}function ER(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function HW(t){var e=1,n=t(ER(e),SR(e));return n.constant=function(r){return arguments.length?t(ER(e=+r),SR(e)):e},Ov(n)}function xN(){var t=HW(Av());return t.copy=function(){return yd(t,xN()).constant(t.constant())},_i.apply(t,arguments)}function PR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GW(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KW(t){return t<0?-t*t:t*t}function YW(t){var e=t(qi,qi),n=1;function r(){return n===1?t(qi,qi):n===.5?t(GW,KW):t(PR(n),PR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ov(e)}function mb(){var t=YW(Av());return t.copy=function(){return yd(t,mb()).exponent(t.exponent())},_i.apply(t,arguments),t}function QW(){return mb.apply(null,arguments).exponent(.5)}function bN(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=WB(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Iv(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Lf),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return bN().domain(t).range(e).unknown(r)},_i.apply(o,arguments)}function TN(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Iv(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return TN().domain([t,e]).range(i).unknown(o)},_i.apply(Ov(s),arguments)}function EN(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Iv(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EN().domain(t).range(e).unknown(n)},_i.apply(i,arguments)}const J_=new Date,Z_=new Date;function nn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),e(o,u),t(o);while(f<o&&o<s);return c},i.filter=o=>nn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(J_.setTime(+o),Z_.setTime(+s),t(J_),t(Z_),Math.floor(n(J_,Z_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const $g=nn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);$g.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):$g);$g.range;const Ao=1e3,Vr=Ao*60,Oo=Vr*60,Uo=Oo*24,gb=Uo*7,CR=Uo*30,ew=Uo*365,Do=nn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ao)},(t,e)=>(e-t)/Ao,t=>t.getUTCSeconds());Do.range;const Dv=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getMinutes());Dv.range;const Nv=nn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Vr)},(t,e)=>(e-t)/Vr,t=>t.getUTCMinutes());Nv.range;const Lv=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ao-t.getMinutes()*Vr)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getHours());Lv.range;const Vv=nn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Oo)},(t,e)=>(e-t)/Oo,t=>t.getUTCHours());Vv.range;const oc=nn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Vr)/Uo,t=>t.getDate()-1);oc.range;const _d=nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>t.getUTCDate()-1);_d.range;const SN=nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Uo,t=>Math.floor(t/Uo));SN.range;function hu(t){return nn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Vr)/gb)}const wd=hu(0),Ug=hu(1),XW=hu(2),JW=hu(3),zl=hu(4),ZW=hu(5),eH=hu(6);wd.range;Ug.range;XW.range;JW.range;zl.range;ZW.range;eH.range;function pu(t){return nn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/gb)}const xd=pu(0),jg=pu(1),tH=pu(2),nH=pu(3),Bl=pu(4),rH=pu(5),iH=pu(6);xd.range;jg.range;tH.range;nH.range;Bl.range;rH.range;iH.range;const Fv=nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fv.range;const qv=nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qv.range;const Ki=nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ki.range;const Yi=nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Yi.range;function PN(t,e,n,r,i,o){const s=[[Do,1,Ao],[Do,5,5*Ao],[Do,15,15*Ao],[Do,30,30*Ao],[o,1,Vr],[o,5,5*Vr],[o,15,15*Vr],[o,30,30*Vr],[i,1,Oo],[i,3,3*Oo],[i,6,6*Oo],[i,12,12*Oo],[r,1,Uo],[r,2,2*Uo],[n,1,gb],[e,1,CR],[e,3,3*CR],[t,1,ew]];function u(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const _=m&&typeof m.range=="function"?m:c(f,h,m),y=_?_.range(f,+h+1):[];return g?y.reverse():y}function c(f,h,m){const g=Math.abs(h-f)/m,_=Rv(([,,x])=>x).right(s,g);if(_===s.length)return t.every(w1(f/ew,h/ew,m));if(_===0)return $g.every(Math.max(w1(f,h,m),1));const[y,w]=s[g/s[_-1][2]<s[_][2]/g?_-1:_];return y.every(w)}return[u,c]}const[oH,aH]=PN(Yi,qv,xd,SN,Vv,Nv),[sH,uH]=PN(Ki,Fv,wd,oc,Lv,Dv);function tw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lH(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Xc(i),h=Jc(i),m=Xc(o),g=Jc(o),_=Xc(s),y=Jc(s),w=Xc(u),x=Jc(u),T=Xc(c),E=Jc(c),S={a:J,A:j,b:ue,B:re,c:null,d:OR,e:OR,f:AH,g:jH,G:BH,H:IH,I:kH,j:MH,L:CN,m:OH,M:DH,p:W,q:oe,Q:LR,s:VR,S:NH,u:LH,U:VH,V:FH,w:qH,W:$H,x:null,X:null,y:UH,Y:zH,Z:WH,"%":NR},O={a:le,A:B,b:te,B:pe,c:null,d:DR,e:DR,f:YH,g:o8,G:s8,H:HH,I:GH,j:KH,L:IN,m:QH,M:XH,p:ce,q:Pe,Q:LR,s:VR,S:JH,u:ZH,U:e8,V:t8,w:n8,W:r8,x:null,X:null,y:i8,Y:a8,Z:u8,"%":NR},N={a:I,A:L,b:V,B:A,c:H,d:MR,e:MR,f:SH,g:kR,G:IR,H:AR,I:AR,j:xH,L:EH,m:wH,M:bH,p:k,q:_H,Q:CH,s:RH,S:TH,u:pH,U:mH,V:gH,w:hH,W:vH,x:X,X:Q,y:kR,Y:IR,Z:yH,"%":PH};S.x=$(n,S),S.X=$(r,S),S.c=$(e,S),O.x=$(n,O),O.X=$(r,O),O.c=$(e,O);function $(de,me){return function(be){var fe=[],Xe=-1,Be=0,ht=de.length,gt,kt,ur;for(be instanceof Date||(be=new Date(+be));++Xe<ht;)de.charCodeAt(Xe)===37&&(fe.push(de.slice(Be,Xe)),(kt=RR[gt=de.charAt(++Xe)])!=null?gt=de.charAt(++Xe):kt=gt==="e"?" ":"0",(ur=me[gt])&&(gt=ur(be,kt)),fe.push(gt),Be=Xe+1);return fe.push(de.slice(Be,Xe)),fe.join("")}}function M(de,me){return function(be){var fe=Qc(1900,void 0,1),Xe=R(fe,de,be+="",0),Be,ht;if(Xe!=be.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(me&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Be=nw(Qc(fe.y,0,1)),ht=Be.getUTCDay(),Be=ht>4||ht===0?jg.ceil(Be):jg(Be),Be=_d.offset(Be,(fe.V-1)*7),fe.y=Be.getUTCFullYear(),fe.m=Be.getUTCMonth(),fe.d=Be.getUTCDate()+(fe.w+6)%7):(Be=tw(Qc(fe.y,0,1)),ht=Be.getDay(),Be=ht>4||ht===0?Ug.ceil(Be):Ug(Be),Be=oc.offset(Be,(fe.V-1)*7),fe.y=Be.getFullYear(),fe.m=Be.getMonth(),fe.d=Be.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),ht="Z"in fe?nw(Qc(fe.y,0,1)).getUTCDay():tw(Qc(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(ht+5)%7:fe.w+fe.U*7-(ht+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,nw(fe)):tw(fe)}}function R(de,me,be,fe){for(var Xe=0,Be=me.length,ht=be.length,gt,kt;Xe<Be;){if(fe>=ht)return-1;if(gt=me.charCodeAt(Xe++),gt===37){if(gt=me.charAt(Xe++),kt=N[gt in RR?me.charAt(Xe++):gt],!kt||(fe=kt(de,be,fe))<0)return-1}else if(gt!=be.charCodeAt(fe++))return-1}return fe}function k(de,me,be){var fe=f.exec(me.slice(be));return fe?(de.p=h.get(fe[0].toLowerCase()),be+fe[0].length):-1}function I(de,me,be){var fe=_.exec(me.slice(be));return fe?(de.w=y.get(fe[0].toLowerCase()),be+fe[0].length):-1}function L(de,me,be){var fe=m.exec(me.slice(be));return fe?(de.w=g.get(fe[0].toLowerCase()),be+fe[0].length):-1}function V(de,me,be){var fe=T.exec(me.slice(be));return fe?(de.m=E.get(fe[0].toLowerCase()),be+fe[0].length):-1}function A(de,me,be){var fe=w.exec(me.slice(be));return fe?(de.m=x.get(fe[0].toLowerCase()),be+fe[0].length):-1}function H(de,me,be){return R(de,e,me,be)}function X(de,me,be){return R(de,n,me,be)}function Q(de,me,be){return R(de,r,me,be)}function J(de){return s[de.getDay()]}function j(de){return o[de.getDay()]}function ue(de){return c[de.getMonth()]}function re(de){return u[de.getMonth()]}function W(de){return i[+(de.getHours()>=12)]}function oe(de){return 1+~~(de.getMonth()/3)}function le(de){return s[de.getUTCDay()]}function B(de){return o[de.getUTCDay()]}function te(de){return c[de.getUTCMonth()]}function pe(de){return u[de.getUTCMonth()]}function ce(de){return i[+(de.getUTCHours()>=12)]}function Pe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var me=$(de+="",S);return me.toString=function(){return de},me},parse:function(de){var me=M(de+="",!1);return me.toString=function(){return de},me},utcFormat:function(de){var me=$(de+="",O);return me.toString=function(){return de},me},utcParse:function(de){var me=M(de+="",!0);return me.toString=function(){return de},me}}}var RR={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,cH=/^%/,fH=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dH(t){return t.replace(fH,"\\$&")}function Xc(t){return new RegExp("^(?:"+t.map(dH).join("|")+")","i")}function Jc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function hH(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pH(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mH(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gH(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vH(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IR(t,e,n){var r=dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kR(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _H(t,e,n){var r=dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wH(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function MR(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xH(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AR(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bH(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function TH(t,e,n){var r=dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function EH(t,e,n){var r=dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function SH(t,e,n){var r=dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PH(t,e,n){var r=cH.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function CH(t,e,n){var r=dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function RH(t,e,n){var r=dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OR(t,e){return dt(t.getDate(),e,2)}function IH(t,e){return dt(t.getHours(),e,2)}function kH(t,e){return dt(t.getHours()%12||12,e,2)}function MH(t,e){return dt(1+oc.count(Ki(t),t),e,3)}function CN(t,e){return dt(t.getMilliseconds(),e,3)}function AH(t,e){return CN(t,e)+"000"}function OH(t,e){return dt(t.getMonth()+1,e,2)}function DH(t,e){return dt(t.getMinutes(),e,2)}function NH(t,e){return dt(t.getSeconds(),e,2)}function LH(t){var e=t.getDay();return e===0?7:e}function VH(t,e){return dt(wd.count(Ki(t)-1,t),e,2)}function RN(t){var e=t.getDay();return e>=4||e===0?zl(t):zl.ceil(t)}function FH(t,e){return t=RN(t),dt(zl.count(Ki(t),t)+(Ki(t).getDay()===4),e,2)}function qH(t){return t.getDay()}function $H(t,e){return dt(Ug.count(Ki(t)-1,t),e,2)}function UH(t,e){return dt(t.getFullYear()%100,e,2)}function jH(t,e){return t=RN(t),dt(t.getFullYear()%100,e,2)}function zH(t,e){return dt(t.getFullYear()%1e4,e,4)}function BH(t,e){var n=t.getDay();return t=n>=4||n===0?zl(t):zl.ceil(t),dt(t.getFullYear()%1e4,e,4)}function WH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function DR(t,e){return dt(t.getUTCDate(),e,2)}function HH(t,e){return dt(t.getUTCHours(),e,2)}function GH(t,e){return dt(t.getUTCHours()%12||12,e,2)}function KH(t,e){return dt(1+_d.count(Yi(t),t),e,3)}function IN(t,e){return dt(t.getUTCMilliseconds(),e,3)}function YH(t,e){return IN(t,e)+"000"}function QH(t,e){return dt(t.getUTCMonth()+1,e,2)}function XH(t,e){return dt(t.getUTCMinutes(),e,2)}function JH(t,e){return dt(t.getUTCSeconds(),e,2)}function ZH(t){var e=t.getUTCDay();return e===0?7:e}function e8(t,e){return dt(xd.count(Yi(t)-1,t),e,2)}function kN(t){var e=t.getUTCDay();return e>=4||e===0?Bl(t):Bl.ceil(t)}function t8(t,e){return t=kN(t),dt(Bl.count(Yi(t),t)+(Yi(t).getUTCDay()===4),e,2)}function n8(t){return t.getUTCDay()}function r8(t,e){return dt(jg.count(Yi(t)-1,t),e,2)}function i8(t,e){return dt(t.getUTCFullYear()%100,e,2)}function o8(t,e){return t=kN(t),dt(t.getUTCFullYear()%100,e,2)}function a8(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function s8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bl(t):Bl.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function u8(){return"+0000"}function NR(){return"%"}function LR(t){return+t}function VR(t){return Math.floor(+t/1e3)}var el,MN,AN;l8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l8(t){return el=lH(t),MN=el.format,el.parse,AN=el.utcFormat,el.utcParse,el}function c8(t){return new Date(t)}function f8(t){return t instanceof Date?+t:+new Date(+t)}function vb(t,e,n,r,i,o,s,u,c,f){var h=mN(),m=h.invert,g=h.domain,_=f(".%L"),y=f(":%S"),w=f("%I:%M"),x=f("%I %p"),T=f("%a %d"),E=f("%b %d"),S=f("%B"),O=f("%Y");function N($){return(c($)<$?_:u($)<$?y:s($)<$?w:o($)<$?x:r($)<$?i($)<$?T:E:n($)<$?S:O)($)}return h.invert=function($){return new Date(m($))},h.domain=function($){return arguments.length?g(Array.from($,f8)):g().map(c8)},h.ticks=function($){var M=g();return t(M[0],M[M.length-1],$??10)},h.tickFormat=function($,M){return M==null?N:f(M)},h.nice=function($){var M=g();return(!$||typeof $.range!="function")&&($=e(M[0],M[M.length-1],$??10)),$?g(_N(M,$)):h},h.copy=function(){return yd(h,vb(t,e,n,r,i,o,s,u,c,f))},h}function d8(){return _i.apply(vb(sH,uH,Ki,Fv,wd,oc,Lv,Dv,Do,MN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h8(){return _i.apply(vb(oH,aH,Yi,qv,xd,_d,Vv,Nv,Do,AN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p8(t,e){e.domain&&("nice"in t||"quantiles"in t||"padding"in t,t.domain(e.domain))}function m8(t,e){e.range&&("padding"in t,t.range(e.range))}function g8(t,e){"align"in t&&"align"in e&&typeof e.align<"u"&&t.align(e.align)}function v8(t,e){"base"in t&&"base"in e&&typeof e.base<"u"&&t.base(e.base)}function y8(t,e){"clamp"in t&&"clamp"in e&&typeof e.clamp<"u"&&t.clamp(e.clamp)}function _8(t,e){"constant"in t&&"constant"in e&&typeof e.constant<"u"&&t.constant(e.constant)}function w8(t,e){"exponent"in t&&"exponent"in e&&typeof e.exponent<"u"&&t.exponent(e.exponent)}var FR={lab:yW,hcl:_W,"hcl-long":wW,hsl:gW,"hsl-long":vW,cubehelix:xW,"cubehelix-long":bW,rgb:P1};function x8(t){switch(t){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return FR[t]}var e=t.type,n=t.gamma,r=FR[e];return typeof n>"u"?r:r.gamma(n)}function b8(t,e){if("interpolate"in e&&"interpolate"in t&&typeof e.interpolate<"u"){var n=x8(e.interpolate);t.interpolate(n)}}var T8=new Date(Date.UTC(2020,1,2,3,4,5)),E8="%Y-%m-%d %H:%M";function S8(t){var e=t.tickFormat(1,E8)(T8);return e==="2020-02-02 03:04"}var qR={day:oc,hour:Lv,minute:Dv,month:Fv,second:Do,week:wd,year:Ki},$R={day:_d,hour:Vv,minute:Nv,month:qv,second:Do,week:xd,year:Yi};function P8(t,e){if("nice"in e&&typeof e.nice<"u"&&"nice"in t){var n=e.nice;if(typeof n=="boolean")n&&t.nice();else if(typeof n=="number")t.nice(n);else{var r=t,i=S8(r);if(typeof n=="string")r.nice(i?$R[n]:qR[n]);else{var o=n.interval,s=n.step,u=(i?$R[o]:qR[o]).every(s);u!=null&&r.nice(u)}}}}function C8(t,e){"padding"in t&&"padding"in e&&typeof e.padding<"u"&&t.padding(e.padding),"paddingInner"in t&&"paddingInner"in e&&typeof e.paddingInner<"u"&&t.paddingInner(e.paddingInner),"paddingOuter"in t&&"paddingOuter"in e&&typeof e.paddingOuter<"u"&&t.paddingOuter(e.paddingOuter)}function R8(t,e){if(e.reverse){var n=t.range().slice().reverse();"padding"in t,t.range(n)}}function I8(t,e){"round"in e&&typeof e.round<"u"&&(e.round&&"interpolate"in e&&typeof e.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",e):"round"in t?t.round(e.round):"interpolate"in t&&e.round&&t.interpolate(fN))}function k8(t,e){"unknown"in t&&"unknown"in e&&typeof e.unknown<"u"&&t.unknown(e.unknown)}function M8(t,e){if("zero"in e&&e.zero===!0){var n=t.domain(),r=n[0],i=n[1],o=i<r,s=o?[i,r]:[r,i],u=s[0],c=s[1],f=[Math.min(0,u),Math.max(0,c)];t.domain(o?f.reverse():f)}}var A8=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],O8={domain:p8,nice:P8,zero:M8,interpolate:b8,round:I8,align:g8,base:v8,clamp:y8,constant:_8,exponent:w8,padding:C8,range:m8,reverse:R8,unknown:k8};function Tr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=new Set(e),i=A8.filter(function(o){return r.has(o)});return function(s,u){return typeof u<"u"&&i.forEach(function(c){O8[c](s,u)}),s}}var D8=Tr("domain","range","reverse","align","padding","round");function N8(t){return D8(sb(),t)}var L8=Tr("domain","range","reverse","align","padding","round");function V8(t){return L8(HB(),t)}var F8=Tr("domain","range","reverse","clamp","interpolate","nice","round","zero");function UR(t){return F8(yN(),t)}var q8=Tr("domain","range","reverse","clamp","interpolate","nice","round");function $8(t){return q8(d8(),t)}var U8=Tr("domain","range","reverse","clamp","interpolate","nice","round");function j8(t){return U8(h8(),t)}var z8=Tr("domain","range","reverse","base","clamp","interpolate","nice","round");function B8(t){return z8(wN(),t)}var W8=Tr("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function H8(t){return W8(mb(),t)}var G8=Tr("domain","range","reverse","unknown");function K8(t){return G8(ab(),t)}var Y8=Tr("domain","range","reverse","nice","zero");function Q8(t){return Y8(TN(),t)}var X8=Tr("domain","range","reverse");function J8(t){return X8(bN(),t)}var Z8=Tr("domain","range","reverse","clamp","constant","nice","zero","round");function e7(t){return Z8(xN(),t)}var t7=Tr("domain","range","reverse");function n7(t){return t7(EN(),t)}var r7=Tr("domain","range","reverse","clamp","interpolate","nice","round","zero");function i7(t){return r7(QW(),t)}function Gh(t){if(typeof t<"u"&&"type"in t)switch(t.type){case"linear":return UR(t);case"log":return B8(t);case"pow":return H8(t);case"sqrt":return i7(t);case"symlog":return e7(t);case"time":return $8(t);case"utc":return j8(t);case"quantile":return J8(t);case"quantize":return Q8(t);case"threshold":return n7(t);case"ordinal":return K8(t);case"point":return V8(t);case"band":return N8(t)}return UR(t)}function o7(t){if((typeof t=="function"||typeof t=="object"&&t)&&"valueOf"in t){var e=t.valueOf();if(typeof e=="number")return e}return t}function a7(t,e){var n=t;return"ticks"in n?n.ticks(e):n.domain().filter(function(r,i,o){return e==null||o.length<=e||i%Math.round((o.length-1)/e)===0})}function s7(t){return t==null?void 0:t.toString()}var u7=new Set(["linear","pow","quantize","sqrt","symlog"]);function jR(t){return u7.has(t.type)}var mu=$e.createContext({});function l7(t){var e,n=t;return n&&"bandwidth"in n&&(e=n==null?void 0:n.bandwidth())!=null?e:0}function Va(t){return t!=null&&typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}var I1=Math.PI,k1=2*I1,Ws=1e-6,c7=k1-Ws;function M1(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ac(){return new M1}M1.prototype=ac.prototype={constructor:M1,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,u=n-t,c=r-e,f=o-t,h=s-e,m=f*f+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(m>Ws)if(!(Math.abs(h*u-c*f)>Ws)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var g=n-o,_=r-s,y=u*u+c*c,w=g*g+_*_,x=Math.sqrt(y),T=Math.sqrt(m),E=i*Math.tan((I1-Math.acos((y+m-w)/(2*x*T)))/2),S=E/T,O=E/x;Math.abs(S-1)>Ws&&(this._+="L"+(t+S*f)+","+(e+S*h)),this._+="A"+i+","+i+",0,0,"+ +(h*g>f*_)+","+(this._x1=t+O*u)+","+(this._y1=e+O*c)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(r),u=n*Math.sin(r),c=t+s,f=e+u,h=1^o,m=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+f:(Math.abs(this._x1-c)>Ws||Math.abs(this._y1-f)>Ws)&&(this._+="L"+c+","+f),n&&(m<0&&(m=m%k1+k1),m>c7?this._+="A"+n+","+n+",0,1,"+h+","+(t-s)+","+(e-u)+"A"+n+","+n+",0,1,"+h+","+(this._x1=c)+","+(this._y1=f):m>Ws&&(this._+="A"+n+","+n+",0,"+ +(m>=I1)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function rt(t){return function(){return t}}var zR=Math.abs,Mn=Math.atan2,Rs=Math.cos,f7=Math.max,rw=Math.min,Oi=Math.sin,xl=Math.sqrt,On=1e-12,Wa=Math.PI,zg=Wa/2,Fa=2*Wa;function d7(t){return t>1?0:t<-1?Wa:Math.acos(t)}function BR(t){return t>=1?zg:t<=-1?-zg:Math.asin(t)}function h7(t){return t.innerRadius}function p7(t){return t.outerRadius}function m7(t){return t.startAngle}function g7(t){return t.endAngle}function v7(t){return t&&t.padAngle}function y7(t,e,n,r,i,o,s,u){var c=n-t,f=r-e,h=s-i,m=u-o,g=m*c-h*f;if(!(g*g<On))return g=(h*(e-o)-m*(t-i))/g,[t+g*c,e+g*f]}function Kh(t,e,n,r,i,o,s){var u=t-n,c=e-r,f=(s?o:-o)/xl(u*u+c*c),h=f*c,m=-f*u,g=t+h,_=e+m,y=n+h,w=r+m,x=(g+y)/2,T=(_+w)/2,E=y-g,S=w-_,O=E*E+S*S,N=i-o,$=g*w-y*_,M=(S<0?-1:1)*xl(f7(0,N*N*O-$*$)),R=($*S-E*M)/O,k=(-$*E-S*M)/O,I=($*S+E*M)/O,L=(-$*E+S*M)/O,V=R-x,A=k-T,H=I-x,X=L-T;return V*V+A*A>H*H+X*X&&(R=I,k=L),{cx:R,cy:k,x01:-h,y01:-m,x11:R*(i/N-1),y11:k*(i/N-1)}}function _7(){var t=h7,e=p7,n=rt(0),r=null,i=m7,o=g7,s=v7,u=null;function c(){var f,h,m=+t.apply(this,arguments),g=+e.apply(this,arguments),_=i.apply(this,arguments)-zg,y=o.apply(this,arguments)-zg,w=zR(y-_),x=y>_;if(u||(u=f=ac()),g<m&&(h=g,g=m,m=h),!(g>On))u.moveTo(0,0);else if(w>Fa-On)u.moveTo(g*Rs(_),g*Oi(_)),u.arc(0,0,g,_,y,!x),m>On&&(u.moveTo(m*Rs(y),m*Oi(y)),u.arc(0,0,m,y,_,x));else{var T=_,E=y,S=_,O=y,N=w,$=w,M=s.apply(this,arguments)/2,R=M>On&&(r?+r.apply(this,arguments):xl(m*m+g*g)),k=rw(zR(g-m)/2,+n.apply(this,arguments)),I=k,L=k,V,A;if(R>On){var H=BR(R/m*Oi(M)),X=BR(R/g*Oi(M));(N-=H*2)>On?(H*=x?1:-1,S+=H,O-=H):(N=0,S=O=(_+y)/2),($-=X*2)>On?(X*=x?1:-1,T+=X,E-=X):($=0,T=E=(_+y)/2)}var Q=g*Rs(T),J=g*Oi(T),j=m*Rs(O),ue=m*Oi(O);if(k>On){var re=g*Rs(E),W=g*Oi(E),oe=m*Rs(S),le=m*Oi(S),B;if(w<Wa&&(B=y7(Q,J,oe,le,re,W,j,ue))){var te=Q-B[0],pe=J-B[1],ce=re-B[0],Pe=W-B[1],de=1/Oi(d7((te*ce+pe*Pe)/(xl(te*te+pe*pe)*xl(ce*ce+Pe*Pe)))/2),me=xl(B[0]*B[0]+B[1]*B[1]);I=rw(k,(m-me)/(de-1)),L=rw(k,(g-me)/(de+1))}}$>On?L>On?(V=Kh(oe,le,Q,J,g,L,x),A=Kh(re,W,j,ue,g,L,x),u.moveTo(V.cx+V.x01,V.cy+V.y01),L<k?u.arc(V.cx,V.cy,L,Mn(V.y01,V.x01),Mn(A.y01,A.x01),!x):(u.arc(V.cx,V.cy,L,Mn(V.y01,V.x01),Mn(V.y11,V.x11),!x),u.arc(0,0,g,Mn(V.cy+V.y11,V.cx+V.x11),Mn(A.cy+A.y11,A.cx+A.x11),!x),u.arc(A.cx,A.cy,L,Mn(A.y11,A.x11),Mn(A.y01,A.x01),!x))):(u.moveTo(Q,J),u.arc(0,0,g,T,E,!x)):u.moveTo(Q,J),!(m>On)||!(N>On)?u.lineTo(j,ue):I>On?(V=Kh(j,ue,re,W,m,-I,x),A=Kh(Q,J,oe,le,m,-I,x),u.lineTo(V.cx+V.x01,V.cy+V.y01),I<k?u.arc(V.cx,V.cy,I,Mn(V.y01,V.x01),Mn(A.y01,A.x01),!x):(u.arc(V.cx,V.cy,I,Mn(V.y01,V.x01),Mn(V.y11,V.x11),!x),u.arc(0,0,m,Mn(V.cy+V.y11,V.cx+V.x11),Mn(A.cy+A.y11,A.cx+A.x11),x),u.arc(A.cx,A.cy,I,Mn(A.y11,A.x11),Mn(A.y01,A.x01),!x))):u.arc(0,0,m,O,S,x)}if(u.closePath(),f)return u=null,f+""||null}return c.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Wa/2;return[Rs(h)*f,Oi(h)*f]},c.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:rt(+f),c):t},c.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:rt(+f),c):e},c.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:rt(+f),c):n},c.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:rt(+f),c):r},c.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:rt(+f),c):i},c.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:rt(+f),c):o},c.padAngle=function(f){return arguments.length?(s=typeof f=="function"?f:rt(+f),c):s},c.context=function(f){return arguments.length?(u=f??null,c):u},c}function ON(t){this._context=t}ON.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function $v(t){return new ON(t)}function yb(t){return t[0]}function _b(t){return t[1]}function wb(){var t=yb,e=_b,n=rt(!0),r=null,i=$v,o=null;function s(u){var c,f=u.length,h,m=!1,g;for(r==null&&(o=i(g=ac())),c=0;c<=f;++c)!(c<f&&n(h=u[c],c,u))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+t(h,c,u),+e(h,c,u));if(g)return o=null,g+""||null}return s.x=function(u){return arguments.length?(t=typeof u=="function"?u:rt(+u),s):t},s.y=function(u){return arguments.length?(e=typeof u=="function"?u:rt(+u),s):e},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:rt(!!u),s):n},s.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),s):i},s.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),s):r},s}function DN(){var t=yb,e=null,n=rt(0),r=_b,i=rt(!0),o=null,s=$v,u=null;function c(h){var m,g,_,y=h.length,w,x=!1,T,E=new Array(y),S=new Array(y);for(o==null&&(u=s(T=ac())),m=0;m<=y;++m){if(!(m<y&&i(w=h[m],m,h))===x)if(x=!x)g=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=m-1;_>=g;--_)u.point(E[_],S[_]);u.lineEnd(),u.areaEnd()}x&&(E[m]=+t(w,m,h),S[m]=+n(w,m,h),u.point(e?+e(w,m,h):E[m],r?+r(w,m,h):S[m]))}if(T)return u=null,T+""||null}function f(){return wb().defined(i).curve(s).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:rt(+h),e=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:rt(+h),c):t},c.x1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:rt(+h),c):e},c.y=function(h){return arguments.length?(n=typeof h=="function"?h:rt(+h),r=null,c):n},c.y0=function(h){return arguments.length?(n=typeof h=="function"?h:rt(+h),c):n},c.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:rt(+h),c):r},c.lineX0=c.lineY0=function(){return f().x(t).y(n)},c.lineY1=function(){return f().x(t).y(r)},c.lineX1=function(){return f().x(e).y(n)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:rt(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,o!=null&&(u=s(o)),c):s},c.context=function(h){return arguments.length?(h==null?o=u=null:u=s(o=h),c):o},c}function w7(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function x7(t){return t}function b7(){var t=x7,e=w7,n=null,r=rt(0),i=rt(Fa),o=rt(0);function s(u){var c,f=u.length,h,m,g=0,_=new Array(f),y=new Array(f),w=+r.apply(this,arguments),x=Math.min(Fa,Math.max(-Fa,i.apply(this,arguments)-w)),T,E=Math.min(Math.abs(x)/f,o.apply(this,arguments)),S=E*(x<0?-1:1),O;for(c=0;c<f;++c)(O=y[_[c]=c]=+t(u[c],c,u))>0&&(g+=O);for(e!=null?_.sort(function(N,$){return e(y[N],y[$])}):n!=null&&_.sort(function(N,$){return n(u[N],u[$])}),c=0,m=g?(x-f*S)/g:0;c<f;++c,w=T)h=_[c],O=y[h],T=w+(O>0?O*m:0)+S,y[h]={data:u[h],index:c,value:O,startAngle:w,endAngle:T,padAngle:E};return y}return s.value=function(u){return arguments.length?(t=typeof u=="function"?u:rt(+u),s):t},s.sortValues=function(u){return arguments.length?(e=u,n=null,s):e},s.sort=function(u){return arguments.length?(n=u,e=null,s):n},s.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:rt(+u),s):r},s.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:rt(+u),s):i},s.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:rt(+u),s):o},s}var NN=xb($v);function LN(t){this._curve=t}LN.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function xb(t){function e(n){return new LN(t(n))}return e._curve=t,e}function Pf(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(xb(n)):e()._curve},t}function WR(){return Pf(wb().curve(NN))}function HR(){var t=DN().curve(NN),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Pf(n())},delete t.lineX0,t.lineEndAngle=function(){return Pf(r())},delete t.lineX1,t.lineInnerRadius=function(){return Pf(i())},delete t.lineY0,t.lineOuterRadius=function(){return Pf(o())},delete t.lineY1,t.curve=function(s){return arguments.length?e(xb(s)):e()._curve},t}function Cf(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var A1=Array.prototype.slice;function T7(t){return t.source}function E7(t){return t.target}function bb(t){var e=T7,n=E7,r=yb,i=_b,o=null;function s(){var u,c=A1.call(arguments),f=e.apply(this,c),h=n.apply(this,c);if(o||(o=u=ac()),t(o,+r.apply(this,(c[0]=f,c)),+i.apply(this,c),+r.apply(this,(c[0]=h,c)),+i.apply(this,c)),u)return o=null,u+""||null}return s.source=function(u){return arguments.length?(e=u,s):e},s.target=function(u){return arguments.length?(n=u,s):n},s.x=function(u){return arguments.length?(r=typeof u=="function"?u:rt(+u),s):r},s.y=function(u){return arguments.length?(i=typeof u=="function"?u:rt(+u),s):i},s.context=function(u){return arguments.length?(o=u??null,s):o},s}function S7(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function P7(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function C7(t,e,n,r,i){var o=Cf(e,n),s=Cf(e,n=(n+i)/2),u=Cf(r,n),c=Cf(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],u[0],u[1],c[0],c[1])}function R7(){return bb(S7)}function I7(){return bb(P7)}function k7(){var t=bb(C7);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Tb={draw:function(t,e){var n=Math.sqrt(e/Wa);t.moveTo(n,0),t.arc(0,0,n,0,Fa)}},VN={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var FN=Math.sqrt(1/3),M7=FN*2;const qN={draw:function(t,e){var n=Math.sqrt(e/M7),r=n*FN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var A7=.8908130915292852,$N=Math.sin(Wa/10)/Math.sin(7*Wa/10),O7=Math.sin(Fa/10)*$N,D7=-Math.cos(Fa/10)*$N;const UN={draw:function(t,e){var n=Math.sqrt(e*A7),r=O7*n,i=D7*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var s=Fa*o/5,u=Math.cos(s),c=Math.sin(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},jN={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var iw=Math.sqrt(3);const zN={draw:function(t,e){var n=-Math.sqrt(e/(iw*3));t.moveTo(0,n*2),t.lineTo(-iw*n,-n),t.lineTo(iw*n,-n),t.closePath()}};var Dr=-.5,Nr=Math.sqrt(3)/2,O1=1/Math.sqrt(12),N7=(O1/2+1)*3;const BN={draw:function(t,e){var n=Math.sqrt(e/N7),r=n/2,i=n*O1,o=r,s=n*O1+n,u=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(Dr*r-Nr*i,Nr*r+Dr*i),t.lineTo(Dr*o-Nr*s,Nr*o+Dr*s),t.lineTo(Dr*u-Nr*c,Nr*u+Dr*c),t.lineTo(Dr*r+Nr*i,Dr*i-Nr*r),t.lineTo(Dr*o+Nr*s,Dr*s-Nr*o),t.lineTo(Dr*u+Nr*c,Dr*c-Nr*u),t.closePath()}};var L7=[Tb,VN,qN,jN,UN,zN,BN];function V7(){var t=rt(Tb),e=rt(64),n=null;function r(){var i;if(n||(n=i=ac()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:rt(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:rt(+i),r):e},r.context=function(i){return arguments.length?(n=i??null,r):n},r}function Ha(){}function Bg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Uv(t){this._context=t}Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F7(t){return new Uv(t)}function WN(t){this._context=t}WN.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q7(t){return new WN(t)}function HN(t){this._context=t}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $7(t){return new HN(t)}function GN(t,e){this._basis=new Uv(t),this._beta=e}GN.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,s=e[n]-i,u=-1,c;++u<=n;)c=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+c*o),this._beta*e[u]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const U7=function t(e){function n(r){return e===1?new Uv(r):new GN(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Wg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Eb(t,e){this._context=t,this._k=(1-e)/6}Eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Wg(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const j7=function t(e){function n(r){return new Eb(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Sb(t,e){this._context=t,this._k=(1-e)/6}Sb.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const z7=function t(e){function n(r){return new Sb(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Pb(t,e){this._context=t,this._k=(1-e)/6}Pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wg(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const B7=function t(e){function n(r){return new Pb(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Cb(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>On){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>On){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*f+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function KN(t,e){this._context=t,this._alpha=e}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Cb(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const W7=function t(e){function n(r){return e?new KN(r,e):new Eb(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function YN(t,e){this._context=t,this._alpha=e}YN.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cb(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const H7=function t(e){function n(r){return e?new YN(r,e):new Sb(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function QN(t,e){this._context=t,this._alpha=e}QN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cb(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G7=function t(e){function n(r){return e?new QN(r,e):new Pb(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function XN(t){this._context=t}XN.prototype={areaStart:Ha,areaEnd:Ha,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function K7(t){return new XN(t)}function GR(t){return t<0?-1:1}function KR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(GR(o)+GR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function YR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ow(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Hg(t){this._context=t}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ow(this,this._t0,YR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ow(this,YR(this,n=KR(this,t,e)),n);break;default:ow(this,this._t0,n=KR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function JN(t){this._context=new ZN(t)}(JN.prototype=Object.create(Hg.prototype)).point=function(t,e){Hg.prototype.point.call(this,e,t)};function ZN(t){this._context=t}ZN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Y7(t){return new Hg(t)}function Q7(t){return new JN(t)}function eL(t){this._context=t}eL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=QR(t),i=QR(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function X7(t){return new eL(t)}function jv(t,e){this._context=t,this._t=e}jv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function J7(t){return new jv(t,.5)}function Z7(t){return new jv(t,0)}function eG(t){return new jv(t,1)}function Wl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Hl(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function tG(t,e){return t[e]}function nG(){var t=rt([]),e=Hl,n=Wl,r=tG;function i(o){var s=t.apply(this,arguments),u,c=o.length,f=s.length,h=new Array(f),m;for(u=0;u<f;++u){for(var g=s[u],_=h[u]=new Array(c),y=0,w;y<c;++y)_[y]=w=[0,+r(o[y],g,y,o)],w.data=o[y];_.key=g}for(u=0,m=e(h);u<f;++u)h[m[u]].index=u;return n(h,m),h}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:rt(A1.call(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:rt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Hl:typeof o=="function"?o:rt(A1.call(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Wl,i):n},i}function rG(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Wl(t,e)}}function iG(t,e){if((c=t.length)>0)for(var n,r=0,i,o,s,u,c,f=t[e[0]].length;r<f;++r)for(s=u=0,n=0;n<c;++n)(o=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=u,i[0]=u+=o):(i[0]=0,i[1]=o)}function oG(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Wl(t,e)}}function aG(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,g=h[r-1][1]||0,_=(m-g)/2,y=0;y<u;++y){var w=t[e[y]],x=w[r][1]||0,T=w[r-1][1]||0;_+=x-T}c+=m,f+=_*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Wl(t,e)}}function tL(t){var e=t.map(sG);return Hl(t).sort(function(n,r){return e[n]-e[r]})}function sG(t){for(var e=-1,n=0,r=t.length,i,o=-1/0;++e<r;)(i=+t[e][1])>o&&(o=i,n=e);return n}function nL(t){var e=t.map(rL);return Hl(t).sort(function(n,r){return e[n]-e[r]})}function rL(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function uG(t){return nL(t).reverse()}function lG(t){var e=t.length,n,r,i=t.map(rL),o=tL(t),s=0,u=0,c=[],f=[];for(n=0;n<e;++n)r=o[n],s<u?(s+=i[r],c.push(r)):(u+=i[r],f.push(r));return f.reverse().concat(c)}function cG(t){return Hl(t).reverse()}const fG=Object.freeze(Object.defineProperty({__proto__:null,arc:_7,area:DN,areaRadial:HR,curveBasis:F7,curveBasisClosed:q7,curveBasisOpen:$7,curveBundle:U7,curveCardinal:j7,curveCardinalClosed:z7,curveCardinalOpen:B7,curveCatmullRom:W7,curveCatmullRomClosed:H7,curveCatmullRomOpen:G7,curveLinear:$v,curveLinearClosed:K7,curveMonotoneX:Y7,curveMonotoneY:Q7,curveNatural:X7,curveStep:J7,curveStepAfter:eG,curveStepBefore:Z7,line:wb,lineRadial:WR,linkHorizontal:R7,linkRadial:k7,linkVertical:I7,pie:b7,pointRadial:Cf,radialArea:HR,radialLine:WR,stack:nG,stackOffsetDiverging:iG,stackOffsetExpand:rG,stackOffsetNone:Wl,stackOffsetSilhouette:oG,stackOffsetWiggle:aG,stackOrderAppearance:tL,stackOrderAscending:nL,stackOrderDescending:uG,stackOrderInsideOut:lG,stackOrderNone:Hl,stackOrderReverse:cG,symbol:V7,symbolCircle:Tb,symbolCross:VN,symbolDiamond:qN,symbolSquare:jN,symbolStar:UN,symbolTriangle:zN,symbolWye:BN,symbols:L7},Symbol.toStringTag,{value:"Module"}));var dG=["from","to","fill","className","innerRef"];function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(this,arguments)}function hG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iL(t){var e=t.from,n=e===void 0?{x:0,y:0}:e,r=t.to,i=r===void 0?{x:1,y:1}:r,o=t.fill,s=o===void 0?"transparent":o,u=t.className,c=t.innerRef,f=hG(t,dG),h=n.x===i.x||n.y===i.y;return $e.createElement("line",D1({ref:c,className:iu("visx-line",u),x1:n.x,y1:n.y,x2:i.x,y2:i.y,fill:s,shapeRendering:h?"crispEdges":"auto"},f))}var pG=["className","innerRef"];function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N1.apply(this,arguments)}function mG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gG(t){var e=t.className,n=t.innerRef,r=mG(t,pG);return $e.createElement("circle",N1({ref:n,className:iu("visx-circle",e)},r))}var vG=["AxisComponent"];function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function yG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _G(t){var e,n,r,i,o,s,u,c=t.AxisComponent,f=yG(t,vG),h=F.useContext(mu),m=h.theme,g=h.xScale,_=h.yScale,y=h.margin,w=h.width,x=h.height,T=f.orientation,E=F.useMemo(function(){var R,k,I,L;return T==="left"||T==="right"?m==null||(R=m.axisStyles)==null||(k=R.y)==null?void 0:k[T]:m==null||(I=m.axisStyles)==null||(L=I.x)==null?void 0:L[T]},[m,T]),S=f.tickLabelProps,O=F.useMemo(function(){return S||E?function(R,k,I){return Gg({},E==null?void 0:E.tickLabel,{width:T==="left"||T==="right"?y==null?void 0:y[T]:void 0},typeof S=="function"?S(R,k,I):S)}:void 0},[S,E,T,y]),N=T==="bottom"?(x??0)-((e=y==null?void 0:y.bottom)!=null?e:0):T==="top"&&(n=y==null?void 0:y.top)!=null?n:0,$=T==="left"?(r=y==null?void 0:y.left)!=null?r:0:T==="right"?(w??0)-((i=y==null?void 0:y.right)!=null?i:0):0,M=T==="left"||T==="right"?_:g;return M?$e.createElement(c,Gg({top:N,left:$,labelProps:E==null?void 0:E.axisLabel,stroke:E==null||(o=E.axisLine)==null?void 0:o.stroke,strokeWidth:E==null||(s=E.axisLine)==null?void 0:s.strokeWidth,tickLength:E==null?void 0:E.tickLength,tickStroke:E==null||(u=E.tickLine)==null?void 0:u.stroke},f,{tickLabelProps:O,scale:M})):null}var ci={top:"top",left:"left",bottom:"bottom"};function wG(t){var e=t.labelOffset,n=t.labelProps,r=t.orientation,i=t.range,o=t.tickLabelFontSize,s=t.tickLength,u=r===ci.left||r===ci.top?-1:1,c,f,h;if(r===ci.top||r===ci.bottom){var m=r===ci.bottom&&typeof n.fontSize=="number"?n.fontSize:0;c=(Number(i[0])+Number(i[i.length-1]))/2,f=u*(s+e+o+m)}else c=u*((Number(i[0])+Number(i[i.length-1]))/2),f=-(s+e),h="rotate("+u*90+")";return{x:c,y:f,transform:h}}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function xG(t){var e=t.hideTicks,n=t.horizontal,r=t.orientation,i=t.tickClassName,o=t.tickComponent,s=t.tickLabelProps,u=t.tickStroke,c=u===void 0?"#222":u,f=t.tickTransform,h=t.ticks,m=t.strokeWidth,g=t.tickLineProps;return h.map(function(_){var y,w=_.value,x=_.index,T=_.from,E=_.to,S=_.formattedValue,O=(y=s[x])!=null?y:{},N=Math.max(10,typeof O.fontSize=="number"&&O.fontSize||0),$=E.y+(n&&r!==ci.top?N:0);return $e.createElement(ob,{key:"visx-tick-"+w+"-"+x,className:iu("visx-axis-tick",i),transform:f},!e&&$e.createElement(iL,Vf({from:T,to:E,stroke:c,strokeWidth:m,strokeLinecap:"square"},g)),o?o(Vf({},O,{x:E.x,y:$,formattedValue:S})):$e.createElement(GD,Vf({x:E.x,y:$},O),S))})}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}var XR={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function bG(t){var e=t.axisFromPoint,n=t.axisLineClassName,r=t.axisToPoint,i=t.hideAxisLine,o=t.hideTicks,s=t.horizontal,u=t.label,c=u===void 0?"":u,f=t.labelClassName,h=t.labelOffset,m=h===void 0?14:h,g=t.labelProps,_=t.orientation,y=_===void 0?ci.bottom:_,w=t.scale,x=t.stroke,T=x===void 0?"#222":x,E=t.strokeDasharray,S=t.strokeWidth,O=S===void 0?1:S,N=t.tickClassName,$=t.tickComponent,M=t.tickLineProps,R=t.tickLabelProps,k=t.tickLength,I=k===void 0?8:k,L=t.tickStroke,V=L===void 0?"#222":L,A=t.tickTransform,H=t.ticks,X=t.ticksComponent,Q=X===void 0?xG:X,J=Ff({},XR,g),j=Ff({},XR,typeof R=="object"?R:null),ue=H.map(function(W){var oe=W.value,le=W.index;return typeof R=="function"?R(oe,le,H):j}),re=Math.max.apply(Math,[10].concat(ue.map(function(W){return typeof W.fontSize=="number"?W.fontSize:0})));return $e.createElement($e.Fragment,null,Q({hideTicks:o,horizontal:s,orientation:y,scale:w,tickClassName:N,tickComponent:$,tickLabelProps:ue,tickStroke:V,tickTransform:A,ticks:H,strokeWidth:O,tickLineProps:M}),!i&&$e.createElement(iL,{className:iu("visx-axis-line",n),from:e,to:r,stroke:T,strokeWidth:O,strokeDasharray:E}),c&&$e.createElement(GD,Ff({className:iu("visx-axis-label",f)},wG({labelOffset:m,labelProps:J,orientation:y,range:w.range(),tickLabelFontSize:re,tickLength:I}),J),c))}function TG(t,e){e===void 0&&(e="center");var n=t;if(e!=="start"&&"bandwidth"in n){var r=n.bandwidth();return e==="center"&&(r/=2),n.round()&&(r=Math.round(r)),function(i){var o=n(i);return typeof o=="number"?o+r:o}}return t}function EG(t){var e=t;return"tickFormat"in e?e.tickFormat():s7}function Yh(t,e){var n=t.x,r=t.y;return new ko(e?{x:n,y:r}:{x:r,y:n})}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(this,arguments)}var aw=0;function SG(t){return t===void 0&&(t=aw),typeof t=="number"?{start:t,end:t}:L1({start:aw,end:aw},t)}var PG=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(this,arguments)}function CG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RG(t){var e=t.children,n=e===void 0?bG:e,r=t.axisClassName,i=t.hideAxisLine,o=i===void 0?!1:i,s=t.hideTicks,u=s===void 0?!1:s,c=t.hideZero,f=c===void 0?!1:c,h=t.innerRef,m=t.left,g=m===void 0?0:m,_=t.numTicks,y=_===void 0?10:_,w=t.orientation,x=w===void 0?ci.bottom:w,T=t.rangePadding,E=T===void 0?0:T,S=t.scale,O=t.tickFormat,N=t.tickLength,$=N===void 0?8:N,M=t.tickValues,R=t.top,k=R===void 0?0:R,I=CG(t,PG),L=O??EG(S),V=x===ci.left,A=x===ci.top,H=A||x===ci.bottom,X=TG(S),Q=V||A?-1:1,J=S.range(),j=SG(E),ue=Yh({x:Number(J[0])+.5-j.start,y:0},H),re=Yh({x:Number(J[J.length-1])+.5+j.end,y:0},H),W=(M??a7(S,y)).filter(function(le){return!f||le!==0&&le!=="0"}).map(function(le,B){return{value:le,index:B}}),oe=W.map(function(le){var B=le.value,te=le.index,pe=o7(X(B));return{value:B,index:te,from:Yh({x:pe,y:0},H),to:Yh({x:pe,y:$*Q},H),formattedValue:L(B,te,W)}});return $e.createElement(ob,{className:iu("visx-axis",r),innerRef:h,top:k,left:g},n(V1({},I,{axisFromPoint:ue,axisToPoint:re,hideAxisLine:o,hideTicks:u,hideZero:f,horizontal:H,numTicks:y,orientation:x,rangePadding:E,scale:S,tickFormat:L,tickLength:$,tickPosition:X,tickSign:Q,ticks:oe})))}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(this,arguments)}function JR(t){return $e.createElement(_G,F1({AxisComponent:RG},t))}var IG=["tooltipOpen"];function kG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function MG(t){var e=F.useState(Kg({tooltipOpen:!1},t)),n=e[0],r=e[1],i=F.useCallback(function(s){return r(typeof s=="function"?function(u){u.tooltipOpen;var c=kG(u,IG);return Kg({},s(c),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:s.tooltipLeft,tooltipTop:s.tooltipTop,tooltipData:s.tooltipData})},[r]),o=F.useCallback(function(){return r({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[r]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:r,showTooltip:i,hideTooltip:o}}var Rb=F.createContext(null),Qh={},Xh={},sw,ZR;function AG(){if(ZR)return sw;ZR=1;var t=Tv(),e=function(){return t.Date.now()};return sw=e,sw}var uw,eI;function OG(){if(eI)return uw;eI=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return uw=e,uw}var lw,tI;function DG(){if(tI)return lw;tI=1;var t=OG(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return lw=n,lw}var cw,nI;function NG(){if(nI)return cw;nI=1;function t(e){return e!=null&&typeof e=="object"}return cw=t,cw}var fw,rI;function LG(){if(rI)return fw;rI=1;var t=WD(),e=NG(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return fw=r,fw}var dw,iI;function VG(){if(iI)return dw;iI=1;var t=DG(),e=Ev(),n=LG(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=o.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):i.test(f)?r:+f}return dw=c,dw}var hw,oI;function oL(){if(oI)return hw;oI=1;var t=Ev(),e=AG(),n=VG(),r="Expected a function",i=Math.max,o=Math.min;function s(u,c,f){var h,m,g,_,y,w,x=0,T=!1,E=!1,S=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(T=!!f.leading,E="maxWait"in f,g=E?i(n(f.maxWait)||0,c):g,S="trailing"in f?!!f.trailing:S);function O(A){var H=h,X=m;return h=m=void 0,x=A,_=u.apply(X,H),_}function N(A){return x=A,y=setTimeout(R,c),T?O(A):_}function $(A){var H=A-w,X=A-x,Q=c-H;return E?o(Q,g-X):Q}function M(A){var H=A-w,X=A-x;return w===void 0||H>=c||H<0||E&&X>=g}function R(){var A=e();if(M(A))return k(A);y=setTimeout(R,$(A))}function k(A){return y=void 0,S&&h?O(A):(h=m=void 0,_)}function I(){y!==void 0&&clearTimeout(y),x=0,h=w=m=y=void 0}function L(){return y===void 0?_:k(e())}function V(){var A=e(),H=M(A);if(h=arguments,m=this,w=A,H){if(y===void 0)return N(w);if(E)return clearTimeout(y),y=setTimeout(R,c),O(w)}return y===void 0&&(y=setTimeout(R,c)),_}return V.cancel=I,V.flush=L,V}return hw=s,hw}var aI;function FG(){if(aI)return Xh;aI=1,Xh.__esModule=!0,Xh.default=s;var t=n(oL()),e=Kl();function n(u){return u&&u.__esModule?u:{default:u}}function r(){return r=Object.assign?Object.assign.bind():function(u){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)}var i=[],o={width:0,height:0,top:0,left:0};function s(u){var c=u===void 0?{}:u,f=c.initialSize,h=f===void 0?o:f,m=c.debounceTime,g=m===void 0?300:m,_=c.ignoreDimensions,y=_===void 0?i:_,w=c.enableDebounceLeadingCall,x=w===void 0?!0:w,T=c.resizeObserverPolyfill,E=(0,e.useRef)(null),S=(0,e.useRef)(0),O=(0,e.useState)(r({},o,h)),N=O[0],$=O[1],M=(0,e.useMemo)(function(){var R=Array.isArray(y)?y:[y];return(0,t.default)(function(k){$(function(I){var L=Object.keys(I),V=L.filter(function(H){return I[H]!==k[H]}),A=V.every(function(H){return R.includes(H)});return A?I:k})},g,{leading:x})},[g,x,y]);return(0,e.useEffect)(function(){var R=T||window.ResizeObserver,k=new R(function(I){I.forEach(function(L){var V,A=(V=L==null?void 0:L.contentRect)!=null?V:{},H=A.left,X=A.top,Q=A.width,J=A.height;S.current=window.requestAnimationFrame(function(){M({width:Q,height:J,top:X,left:H})})})});return E.current&&k.observe(E.current),function(){window.cancelAnimationFrame(S.current),k.disconnect(),M.cancel()}},[M,T]),r({parentRef:E,resize:M},N)}return Xh}var sI;function qG(){if(sI)return Qh;sI=1,Qh.__esModule=!0,Qh.default=f;var t=o(jD()),e=o(Kl()),n=o(FG()),r=["className","children","debounceTime","ignoreDimensions","initialSize","parentSizeStyles","enableDebounceLeadingCall","resizeObserverPolyfill"],i=["parentRef","resize"];function o(h){return h&&h.__esModule?h:{default:h}}function s(){return s=Object.assign?Object.assign.bind():function(h){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(h[_]=g[_])}return h},s.apply(this,arguments)}function u(h,m){if(h==null)return{};var g={},_=Object.keys(h),y,w;for(w=0;w<_.length;w++)y=_[w],!(m.indexOf(y)>=0)&&(g[y]=h[y]);return g}var c={width:"100%",height:"100%"};function f(h){var m=h.className,g=h.children,_=h.debounceTime,y=h.ignoreDimensions,w=h.initialSize,x=h.parentSizeStyles,T=x===void 0?c:x,E=h.enableDebounceLeadingCall,S=E===void 0?!0:E,O=h.resizeObserverPolyfill,N=u(h,r),$=(0,n.default)({initialSize:w,debounceTime:_,ignoreDimensions:y,enableDebounceLeadingCall:S,resizeObserverPolyfill:O}),M=$.parentRef,R=$.resize,k=u($,i);return e.default.createElement("div",s({style:T,ref:M,className:m},N),g(s({},k,{ref:M.current,resize:R})))}return f.propTypes={className:t.default.string,children:t.default.func.isRequired},Qh}var $G=qG();const UG=Xi($G);var aL=F.createContext(null);function Pa(t,e,n){var r=F.useContext(aL),i=F.useRef();i.current=n;var o=F.useCallback(function(s,u,c){r&&r.emit(s,{event:u,svgPoint:m1(u),source:c})},[r]);return F.useEffect(function(){if(r&&t&&e){var s=function(c){var f;(!i.current||c!=null&&c.source&&(f=i.current)!=null&&f.includes(c.source))&&e(c)};return r.on(t,s),function(){return r==null?void 0:r.off(t,s)}}},[r,t,e]),r?o:null}function jG(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r&&r.push(n)||t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(e,n){(t.get(e)||[]).slice().map(function(r){r(n)}),(t.get("*")||[]).slice().map(function(r){r(e,n)})}}}function zG(t){var e=t.children,n=F.useMemo(function(){return jG()},[]);return $e.createElement(aL.Provider,{value:n},e)}var BG=oL();const WG=Xi(BG);function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function sL(t){var e=t.hideTooltipDebounceMs,n=e===void 0?400:e,r=t.children,i=MG(void 0),o=i.tooltipOpen,s=i.tooltipLeft,u=i.tooltipTop,c=i.tooltipData,f=i.updateTooltip,h=i.hideTooltip,m=F.useRef(null);function g(){m.current&&(m.current.cancel(),m.current=null)}F.useEffect(function(){return g},[]);var _=F.useRef(function(x){var T=x.svgPoint,E=x.index,S=x.key,O=x.datum,N=x.distanceX,$=x.distanceY;g();var M=Va(N)?N:1/0,R=Va($)?$:1/0,k=Math.sqrt(Math.pow(M,2)+Math.pow(R,2));f(function(I){var L,V,A,H=I.tooltipData,X=H!=null&&H.nearestDatum&&Va(H.nearestDatum.distance)?H.nearestDatum.distance:1/0;return{tooltipOpen:!0,tooltipLeft:T==null?void 0:T.x,tooltipTop:T==null?void 0:T.y,tooltipData:{nearestDatum:((L=H==null||(V=H.nearestDatum)==null?void 0:V.key)!=null?L:"")!==S&&X<k?H==null?void 0:H.nearestDatum:{key:S,index:E,datum:O,distance:k},datumByKey:q1({},H==null?void 0:H.datumByKey,(A={},A[S]={datum:O,index:E,key:S},A))}}})}),y=F.useCallback(function(){m.current=WG(h,n),m.current()},[h,n]),w=F.useMemo(function(){return{tooltipOpen:o,tooltipLeft:s,tooltipTop:u,tooltipData:c,updateTooltip:f,showTooltip:_.current,hideTooltip:y}},[y,c,s,o,u,f]);return $e.createElement(Rb.Provider,{value:w},r)}sL.propTypes={hideTooltipDebounceMs:et.number,children:et.node.isRequired};var tl={},pw={},Zc={},mw={},Jr={},Jh={},uI;function Zi(){if(uI)return Jh;uI=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.default=t;function t(e,n){return e==null||n==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}return Jh}var Zh={},ep={},lI;function uL(){if(lI)return ep;lI=1,Object.defineProperty(ep,"__esModule",{value:!0}),ep.default=t;function t(e,n){return e==null||n==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}return ep}var cI;function lL(){if(cI)return Zh;cI=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.default=r;var t=n(Zi()),e=n(uL());function n(o){return o&&o.__esModule?o:{default:o}}function r(o){let s,u,c;o.length!==2?(s=t.default,u=(g,_)=>(0,t.default)(o(g),_),c=(g,_)=>o(g)-_):(s=o===t.default||o===e.default?o:i,u=o,c=o);function f(g,_,y=0,w=g.length){if(y<w){if(s(_,_)!==0)return w;do{const x=y+w>>>1;u(g[x],_)<0?y=x+1:w=x}while(y<w)}return y}function h(g,_,y=0,w=g.length){if(y<w){if(s(_,_)!==0)return w;do{const x=y+w>>>1;u(g[x],_)<=0?y=x+1:w=x}while(y<w)}return y}function m(g,_,y=0,w=g.length){const x=f(g,_,y,w-1);return x>y&&c(g[x-1],_)>-c(g[x],_)?x-1:x}return{left:f,center:m,right:h}}function i(){return 0}return Zh}var ef={},fI;function cL(){if(fI)return ef;fI=1,Object.defineProperty(ef,"__esModule",{value:!0}),ef.default=t,ef.numbers=e;function t(n){return n===null?NaN:+n}function*e(n,r){if(r===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let o of n)(o=r(o,++i,n))!=null&&(o=+o)>=o&&(yield o)}}return ef}var dI;function fL(){if(dI)return Jr;dI=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=Jr.bisectRight=Jr.bisectLeft=Jr.bisectCenter=void 0;var t=r(Zi()),e=r(lL()),n=r(cL());function r(f){return f&&f.__esModule?f:{default:f}}const i=(0,e.default)(t.default),o=i.right;Jr.bisectRight=o;const s=i.left;Jr.bisectLeft=s;const u=(0,e.default)(n.default).center;Jr.bisectCenter=u;var c=o;return Jr.default=c,Jr}var _a={},hI;function HG(){if(hI)return _a;hI=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.blur=t,_a.blurImage=_a.blur2=void 0;function t(f,h){if(!((h=+h)>=0))throw new RangeError("invalid r");let m=f.length;if(!((m=Math.floor(m))>=0))throw new RangeError("invalid length");if(!m||!h)return f;const g=u(h),_=f.slice();return g(f,_,0,m,1),g(_,f,0,m,1),g(f,_,0,m,1),f}const e=r(u);_a.blur2=e;const n=r(s);_a.blurImage=n;function r(f){return function(h,m,g=m){if(!((m=+m)>=0))throw new RangeError("invalid rx");if(!((g=+g)>=0))throw new RangeError("invalid ry");let{data:_,width:y,height:w}=h;if(!((y=Math.floor(y))>=0))throw new RangeError("invalid width");if(!((w=Math.floor(w!==void 0?w:_.length/y))>=0))throw new RangeError("invalid height");if(!y||!w||!m&&!g)return h;const x=m&&f(m),T=g&&f(g),E=_.slice();return x&&T?(i(x,E,_,y,w),i(x,_,E,y,w),i(x,E,_,y,w),o(T,_,E,y,w),o(T,E,_,y,w),o(T,_,E,y,w)):x?(i(x,_,E,y,w),i(x,E,_,y,w),i(x,_,E,y,w)):T&&(o(T,_,E,y,w),o(T,E,_,y,w),o(T,_,E,y,w)),h}}function i(f,h,m,g,_){for(let y=0,w=g*_;y<w;)f(h,m,y,y+=g,1)}function o(f,h,m,g,_){for(let y=0,w=g*_;y<g;++y)f(h,m,y,y+w,g)}function s(f){const h=u(f);return(m,g,_,y,w)=>{_<<=2,y<<=2,w<<=2,h(m,g,_+0,y+0,w),h(m,g,_+1,y+1,w),h(m,g,_+2,y+2,w),h(m,g,_+3,y+3,w)}}function u(f){const h=Math.floor(f);if(h===f)return c(f);const m=f-h,g=2*f+1;return(_,y,w,x,T)=>{if(!((x-=T)>=w))return;let E=h*y[w];const S=T*h,O=S+T;for(let N=w,$=w+S;N<$;N+=T)E+=y[Math.min(x,N)];for(let N=w,$=x;N<=$;N+=T)E+=y[Math.min(x,N+S)],_[N]=(E+m*(y[Math.max(w,N-O)]+y[Math.min(x,N+O)]))/g,E-=y[Math.max(w,N-S)]}}function c(f){const h=2*f+1;return(m,g,_,y,w)=>{if(!((y-=w)>=_))return;let x=f*g[_];const T=w*f;for(let E=_,S=_+T;E<S;E+=w)x+=g[Math.min(y,E)];for(let E=_,S=y;E<=S;E+=w)x+=g[Math.min(y,E+T)],m[E]=x/h,x-=g[Math.max(_,E-T)]}}return _a}var tp={},pI;function zv(){if(pI)return tp;pI=1,Object.defineProperty(tp,"__esModule",{value:!0}),tp.default=t;function t(e,n){let r=0;if(n===void 0)for(let i of e)i!=null&&(i=+i)>=i&&++r;else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(o=+o)>=o&&++r}return r}return tp}var np={},mI;function GG(){if(mI)return np;mI=1,Object.defineProperty(np,"__esModule",{value:!0}),np.default=i;function t(o){return o.length|0}function e(o){return!(o>0)}function n(o){return typeof o!="object"||"length"in o?o:Array.from(o)}function r(o){return s=>o(...s)}function i(...o){const s=typeof o[o.length-1]=="function"&&r(o.pop());o=o.map(n);const u=o.map(t),c=o.length-1,f=new Array(c+1).fill(0),h=[];if(c<0||u.some(e))return h;for(;;){h.push(f.map((g,_)=>o[_][g]));let m=c;for(;++f[m]===u[m];){if(m===0)return s?h.map(s):h;f[m--]=0}}}return np}var rp={},gI;function KG(){if(gI)return rp;gI=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.default=t;function t(e,n){var r=0,i=0;return Float64Array.from(e,n===void 0?o=>r+=+o||0:o=>r+=+n(o,i++,e)||0)}return rp}var ip={},op={},vI;function dL(){if(vI)return op;vI=1,Object.defineProperty(op,"__esModule",{value:!0}),op.default=t;function t(e,n){let r=0,i,o=0,s=0;if(n===void 0)for(let u of e)u!=null&&(u=+u)>=u&&(i=u-o,o+=i/++r,s+=i*(u-o));else{let u=-1;for(let c of e)(c=n(c,++u,e))!=null&&(c=+c)>=c&&(i=c-o,o+=i/++r,s+=i*(c-o))}if(r>1)return s/(r-1)}return op}var yI;function hL(){if(yI)return ip;yI=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.default=n;var t=e(dL());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){const o=(0,t.default)(r,i);return o&&Math.sqrt(o)}return ip}var ap={},_I;function pL(){if(_I)return ap;_I=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.default=t;function t(e,n){let r,i;if(n===void 0)for(const o of e)o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)));else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}return[r,i]}return ap}var Is={},wI;function YG(){if(wI)return Is;wI=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.Adder=void 0,Is.fcumsum=n,Is.fsum=e;class t{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){const o=this._partials;let s=0;for(let u=0;u<this._n&&u<32;u++){const c=o[u],f=i+c,h=Math.abs(i)<Math.abs(c)?i-(f-c):c-(f-i);h&&(o[s++]=h),i=f}return o[s]=i,this._n=s+1,this}valueOf(){const i=this._partials;let o=this._n,s,u,c,f=0;if(o>0){for(f=i[--o];o>0&&(s=f,u=i[--o],f=s+u,c=u-(f-s),!c););o>0&&(c<0&&i[o-1]<0||c>0&&i[o-1]>0)&&(u=c*2,s=f+u,u==s-f&&(f=s))}return f}}Is.Adder=t;function e(r,i){const o=new t;if(i===void 0)for(let s of r)(s=+s)&&o.add(s);else{let s=-1;for(let u of r)(u=+i(u,++s,r))&&o.add(u)}return+o}function n(r,i){const o=new t;let s=-1;return Float64Array.from(r,i===void 0?u=>o.add(+u||0):u=>o.add(+i(u,++s,r)||0))}return Is}var Zr={},ks={},xI;function gu(){if(xI)return ks;xI=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.InternSet=ks.InternMap=void 0;class t extends Map{constructor(u,c=o){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:c}}),u!=null)for(const[f,h]of u)this.set(f,h)}get(u){return super.get(n(this,u))}has(u){return super.has(n(this,u))}set(u,c){return super.set(r(this,u),c)}delete(u){return super.delete(i(this,u))}}ks.InternMap=t;class e extends Set{constructor(u,c=o){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:c}}),u!=null)for(const f of u)this.add(f)}has(u){return super.has(n(this,u))}add(u){return super.add(r(this,u))}delete(u){return super.delete(i(this,u))}}ks.InternSet=e;function n({_intern:s,_key:u},c){const f=u(c);return s.has(f)?s.get(f):c}function r({_intern:s,_key:u},c){const f=u(c);return s.has(f)?s.get(f):(s.set(f,c),c)}function i({_intern:s,_key:u},c){const f=u(c);return s.has(f)&&(c=s.get(f),s.delete(f)),c}function o(s){return s!==null&&typeof s=="object"?s.valueOf():s}return ks}var sp={},bI;function mL(){if(bI)return sp;bI=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.default=t;function t(e){return e}return sp}var TI;function gL(){if(TI)return Zr;TI=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=r,Zr.flatGroup=s,Zr.flatRollup=u,Zr.groups=i,Zr.index=h,Zr.indexes=m,Zr.rollup=c,Zr.rollups=f;var t=gu(),e=n(mL());function n(y){return y&&y.__esModule?y:{default:y}}function r(y,...w){return _(y,e.default,e.default,w)}function i(y,...w){return _(y,Array.from,e.default,w)}function o(y,w){for(let x=1,T=w.length;x<T;++x)y=y.flatMap(E=>E.pop().map(([S,O])=>[...E,S,O]));return y}function s(y,...w){return o(i(y,...w),w)}function u(y,w,...x){return o(f(y,w,...x),x)}function c(y,w,...x){return _(y,e.default,w,x)}function f(y,w,...x){return _(y,Array.from,w,x)}function h(y,...w){return _(y,e.default,g,w)}function m(y,...w){return _(y,Array.from,g,w)}function g(y){if(y.length!==1)throw new Error("duplicate key");return y[0]}function _(y,w,x,T){return function E(S,O){if(O>=T.length)return x(S);const N=new t.InternMap,$=T[O++];let M=-1;for(const R of S){const k=$(R,++M,S),I=N.get(k);I?I.push(R):N.set(k,[R])}for(const[R,k]of N)N.set(R,E(k,O));return w(N)}(y,0)}return Zr}var up={},nl={},lp={},EI;function vL(){if(EI)return lp;EI=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.default=t;function t(e,n){return Array.from(n,r=>e[r])}return lp}var SI;function bd(){if(SI)return nl;SI=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.ascendingDefined=o,nl.compareDefined=i,nl.default=r;var t=n(Zi()),e=n(vL());function n(s){return s&&s.__esModule?s:{default:s}}function r(s,...u){if(typeof s[Symbol.iterator]!="function")throw new TypeError("values is not iterable");s=Array.from(s);let[c]=u;if(c&&c.length!==2||u.length>1){const f=Uint32Array.from(s,(h,m)=>m);return u.length>1?(u=u.map(h=>s.map(h)),f.sort((h,m)=>{for(const g of u){const _=o(g[h],g[m]);if(_)return _}})):(c=s.map(c),f.sort((h,m)=>o(c[h],c[m]))),(0,e.default)(s,f)}return s.sort(i(c))}function i(s=t.default){if(s===t.default)return o;if(typeof s!="function")throw new TypeError("compare is not a function");return(u,c)=>{const f=s(u,c);return f||f===0?f:(s(c,c)===0)-(s(u,u)===0)}}function o(s,u){return(s==null||!(s>=s))-(u==null||!(u>=u))||(s<u?-1:s>u?1:0)}return nl}var PI;function QG(){if(PI)return up;PI=1,Object.defineProperty(up,"__esModule",{value:!0}),up.default=s;var t=o(Zi()),e=i(gL()),n=o(bd());function r(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(r=function(h){return h?f:c})(u)}function i(u,c){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=r(c);if(f&&f.has(u))return f.get(u);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var _=m?Object.getOwnPropertyDescriptor(u,g):null;_&&(_.get||_.set)?Object.defineProperty(h,g,_):h[g]=u[g]}return h.default=u,f&&f.set(u,h),h}function o(u){return u&&u.__esModule?u:{default:u}}function s(u,c,f){return(c.length!==2?(0,n.default)((0,e.rollup)(u,c,f),([h,m],[g,_])=>(0,t.default)(m,_)||(0,t.default)(h,g)):(0,n.default)((0,e.default)(u,f),([h,m],[g,_])=>c(m,_)||(0,t.default)(h,g))).map(([h])=>h)}return up}var cp={},Ms={},CI;function XG(){if(CI)return Ms;CI=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.slice=Ms.map=void 0;var t=Array.prototype,e=t.slice;Ms.slice=e;var n=t.map;return Ms.map=n,Ms}var fp={},RI;function JG(){if(RI)return fp;RI=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.default=t;function t(e){return()=>e}return fp}var dp={},rl={},II;function Ib(){if(II)return rl;II=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.default=r,rl.tickIncrement=i,rl.tickStep=o;var t=Math.sqrt(50),e=Math.sqrt(10),n=Math.sqrt(2);function r(s,u,c){var f,h=-1,m,g,_;if(u=+u,s=+s,c=+c,s===u&&c>0)return[s];if((f=u<s)&&(m=s,s=u,u=m),(_=i(s,u,c))===0||!isFinite(_))return[];if(_>0){let y=Math.round(s/_),w=Math.round(u/_);for(y*_<s&&++y,w*_>u&&--w,g=new Array(m=w-y+1);++h<m;)g[h]=(y+h)*_}else{_=-_;let y=Math.round(s*_),w=Math.round(u*_);for(y/_<s&&++y,w/_>u&&--w,g=new Array(m=w-y+1);++h<m;)g[h]=(y+h)/_}return f&&g.reverse(),g}function i(s,u,c){var f=(u-s)/Math.max(0,c),h=Math.floor(Math.log(f)/Math.LN10),m=f/Math.pow(10,h);return h>=0?(m>=t?10:m>=e?5:m>=n?2:1)*Math.pow(10,h):-Math.pow(10,-h)/(m>=t?10:m>=e?5:m>=n?2:1)}function o(s,u,c){var f=Math.abs(u-s)/Math.max(0,c),h=Math.pow(10,Math.floor(Math.log(f)/Math.LN10)),m=f/h;return m>=t?h*=10:m>=e?h*=5:m>=n&&(h*=2),u<s?-h:h}return rl}var kI;function yL(){if(kI)return dp;kI=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.default=e;var t=Ib();function e(n,r,i){let o;for(;;){const s=(0,t.tickIncrement)(n,r,i);if(s===o||s===0||!isFinite(s))return[n,r];s>0?(n=Math.floor(n/s)*s,r=Math.ceil(r/s)*s):s<0&&(n=Math.ceil(n*s)/s,r=Math.floor(r*s)/s),o=s}}return dp}var hp={},MI;function _L(){if(MI)return hp;MI=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.default=n;var t=e(zv());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){return Math.ceil(Math.log((0,t.default)(r))/Math.LN2)+1}return hp}var AI;function ZG(){if(AI)return cp;AI=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.default=m;var t=XG(),e=h(fL()),n=h(JG()),r=h(pL()),i=h(mL()),o=h(yL()),s=f(Ib()),u=h(_L());function c(g){if(typeof WeakMap!="function")return null;var _=new WeakMap,y=new WeakMap;return(c=function(w){return w?y:_})(g)}function f(g,_){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var y=c(_);if(y&&y.has(g))return y.get(g);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in g)if(T!=="default"&&Object.prototype.hasOwnProperty.call(g,T)){var E=x?Object.getOwnPropertyDescriptor(g,T):null;E&&(E.get||E.set)?Object.defineProperty(w,T,E):w[T]=g[T]}return w.default=g,y&&y.set(g,w),w}function h(g){return g&&g.__esModule?g:{default:g}}function m(){var g=i.default,_=r.default,y=u.default;function w(x){Array.isArray(x)||(x=Array.from(x));var T,E=x.length,S,O,N=new Array(E);for(T=0;T<E;++T)N[T]=g(x[T],T,x);var $=_(N),M=$[0],R=$[1],k=y(N,M,R);if(!Array.isArray(k)){const X=R,Q=+k;if(_===r.default&&([M,R]=(0,o.default)(M,R,Q)),k=(0,s.default)(M,R,Q),k[0]<=M&&(O=(0,s.tickIncrement)(M,R,Q)),k[k.length-1]>=R)if(X>=R&&_===r.default){const J=(0,s.tickIncrement)(M,R,Q);isFinite(J)&&(J>0?R=(Math.floor(R/J)+1)*J:J<0&&(R=(Math.ceil(R*-J)+1)/-J))}else k.pop()}for(var I=k.length,L=0,V=I;k[L]<=M;)++L;for(;k[V-1]>R;)--V;(L||V<I)&&(k=k.slice(L,V),I=V-L);var A=new Array(I+1),H;for(T=0;T<=I;++T)H=A[T]=[],H.x0=T>0?k[T-1]:M,H.x1=T<I?k[T]:R;if(isFinite(O)){if(O>0)for(T=0;T<E;++T)(S=N[T])!=null&&M<=S&&S<=R&&A[Math.min(I,Math.floor((S-M)/O))].push(x[T]);else if(O<0){for(T=0;T<E;++T)if((S=N[T])!=null&&M<=S&&S<=R){const X=Math.floor((M-S)*O);A[Math.min(I,X+(k[X]<=S))].push(x[T])}}}else for(T=0;T<E;++T)(S=N[T])!=null&&M<=S&&S<=R&&A[(0,e.default)(k,S,0,I)].push(x[T]);return A}return w.value=function(x){return arguments.length?(g=typeof x=="function"?x:(0,n.default)(x),w):g},w.domain=function(x){return arguments.length?(_=typeof x=="function"?x:(0,n.default)([x[0],x[1]]),w):_},w.thresholds=function(x){return arguments.length?(y=typeof x=="function"?x:(0,n.default)(Array.isArray(x)?t.slice.call(x):x),w):y},w}return cp}var pp={},il={},mp={},OI;function wL(){if(OI)return mp;OI=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.default=t;function t(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}return r}return mp}var gp={},DI;function kb(){if(DI)return gp;DI=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.default=t;function t(e,n){let r,i=-1,o=-1;if(n===void 0)for(const s of e)++o,s!=null&&(r<s||r===void 0&&s>=s)&&(r=s,i=o);else for(let s of e)(s=n(s,++o,e))!=null&&(r<s||r===void 0&&s>=s)&&(r=s,i=o);return i}return gp}var vp={},NI;function Mb(){if(NI)return vp;NI=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.default=t;function t(e,n){let r;if(n===void 0)for(const i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let o of e)(o=n(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}return r}return vp}var yp={},LI;function Ab(){if(LI)return yp;LI=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.default=t;function t(e,n){let r,i=-1,o=-1;if(n===void 0)for(const s of e)++o,s!=null&&(r>s||r===void 0&&s>=s)&&(r=s,i=o);else for(let s of e)(s=n(s,++o,e))!=null&&(r>s||r===void 0&&s>=s)&&(r=s,i=o);return i}return yp}var _p={},VI;function xL(){if(VI)return _p;VI=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.default=e;var t=bd();function e(r,i,o=0,s=1/0,u){if(i=Math.floor(i),o=Math.floor(Math.max(0,o)),s=Math.floor(Math.min(r.length-1,s)),!(o<=i&&i<=s))return r;for(u=u===void 0?t.ascendingDefined:(0,t.compareDefined)(u);s>o;){if(s-o>600){const m=s-o+1,g=i-o+1,_=Math.log(m),y=.5*Math.exp(2*_/3),w=.5*Math.sqrt(_*y*(m-y)/m)*(g-m/2<0?-1:1),x=Math.max(o,Math.floor(i-g*y/m+w)),T=Math.min(s,Math.floor(i+(m-g)*y/m+w));e(r,i,x,T,u)}const c=r[i];let f=o,h=s;for(n(r,o,i),u(r[s],c)>0&&n(r,o,s);f<h;){for(n(r,f,h),++f,--h;u(r[f],c)<0;)++f;for(;u(r[h],c)>0;)--h}u(r[o],c)===0?n(r,o,h):(++h,n(r,h,s)),h<=i&&(o=h+1),i<=h&&(s=h-1)}return r}function n(r,i,o){const s=r[i];r[i]=r[o],r[o]=s}return _p}var wp={},FI;function bL(){if(FI)return wp;FI=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.default=n;var t=e(Zi());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i=t.default){let o,s=!1;if(i.length===1){let u;for(const c of r){const f=i(c);(s?(0,t.default)(f,u)>0:(0,t.default)(f,f)===0)&&(o=c,u=f,s=!0)}}else for(const u of r)(s?i(u,o)>0:i(u,u)===0)&&(o=u,s=!0);return o}return wp}var qI;function Ob(){if(qI)return il;qI=1,Object.defineProperty(il,"__esModule",{value:!0}),il.default=m,il.quantileIndex=_,il.quantileSorted=g;var t=h(wL()),e=h(kb()),n=h(Mb()),r=h(Ab()),i=h(xL()),o=f(cL()),s=bd(),u=h(bL());function c(y){if(typeof WeakMap!="function")return null;var w=new WeakMap,x=new WeakMap;return(c=function(T){return T?x:w})(y)}function f(y,w){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var x=c(w);if(x&&x.has(y))return x.get(y);var T={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in y)if(S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)){var O=E?Object.getOwnPropertyDescriptor(y,S):null;O&&(O.get||O.set)?Object.defineProperty(T,S,O):T[S]=y[S]}return T.default=y,x&&x.set(y,T),T}function h(y){return y&&y.__esModule?y:{default:y}}function m(y,w,x){if(y=Float64Array.from((0,o.numbers)(y,x)),!(!(T=y.length)||isNaN(w=+w))){if(w<=0||T<2)return(0,n.default)(y);if(w>=1)return(0,t.default)(y);var T,E=(T-1)*w,S=Math.floor(E),O=(0,t.default)((0,i.default)(y,S).subarray(0,S+1)),N=(0,n.default)(y.subarray(S+1));return O+(N-O)*(E-S)}}function g(y,w,x=o.default){if(!(!(T=y.length)||isNaN(w=+w))){if(w<=0||T<2)return+x(y[0],0,y);if(w>=1)return+x(y[T-1],T-1,y);var T,E=(T-1)*w,S=Math.floor(E),O=+x(y[S],S,y),N=+x(y[S+1],S+1,y);return O+(N-O)*(E-S)}}function _(y,w,x){if(y=Float64Array.from((0,o.numbers)(y,x)),!(!(T=y.length)||isNaN(w=+w))){if(w<=0||T<2)return(0,r.default)(y);if(w>=1)return(0,e.default)(y);var T,E=Math.floor((T-1)*w),S=(N,$)=>(0,s.ascendingDefined)(y[N],y[$]),O=(0,i.default)(Uint32Array.from(y,(N,$)=>$),E,0,T-1,S);return(0,u.default)(O.subarray(0,E+1),N=>y[N])}}return il}var $I;function eK(){if($I)return pp;$I=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.default=r;var t=n(zv()),e=n(Ob());function n(i){return i&&i.__esModule?i:{default:i}}function r(i,o,s){return Math.ceil((s-o)/(2*((0,e.default)(i,.75)-(0,e.default)(i,.25))*Math.pow((0,t.default)(i),-1/3)))}return pp}var xp={},UI;function tK(){if(UI)return xp;UI=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.default=r;var t=n(zv()),e=n(hL());function n(i){return i&&i.__esModule?i:{default:i}}function r(i,o,s){return Math.ceil((s-o)*Math.cbrt((0,t.default)(i))/(3.49*(0,e.default)(i)))}return xp}var bp={},jI;function nK(){if(jI)return bp;jI=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.default=t;function t(e,n){let r=0,i=0;if(n===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(++r,i+=o);else{let o=-1;for(let s of e)(s=n(s,++o,e))!=null&&(s=+s)>=s&&(++r,i+=s)}if(r)return i/r}return bp}var tf={},zI;function rK(){if(zI)return tf;zI=1,Object.defineProperty(tf,"__esModule",{value:!0}),tf.default=r,tf.medianIndex=i;var t=n(Ob());function e(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,u=new WeakMap;return(e=function(c){return c?u:s})(o)}function n(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var u=e(s);if(u&&u.has(o))return u.get(o);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var m=f?Object.getOwnPropertyDescriptor(o,h):null;m&&(m.get||m.set)?Object.defineProperty(c,h,m):c[h]=o[h]}return c.default=o,u&&u.set(o,c),c}function r(o,s){return(0,t.default)(o,.5,s)}function i(o,s){return(0,t.quantileIndex)(o,.5,s)}return tf}var Tp={},BI;function iK(){if(BI)return Tp;BI=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.default=e;function*t(n){for(const r of n)yield*r}function e(n){return Array.from(t(n))}return Tp}var Ep={},WI;function oK(){if(WI)return Ep;WI=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.default=e;var t=gu();function e(n,r){const i=new t.InternMap;if(r===void 0)for(let u of n)u!=null&&u>=u&&i.set(u,(i.get(u)||0)+1);else{let u=-1;for(let c of n)(c=r(c,++u,n))!=null&&c>=c&&i.set(c,(i.get(c)||0)+1)}let o,s=0;for(const[u,c]of i)c>s&&(s=c,o=u);return o}return Ep}var nf={},HI;function aK(){if(HI)return nf;HI=1,Object.defineProperty(nf,"__esModule",{value:!0}),nf.default=t,nf.pair=e;function t(n,r=e){const i=[];let o,s=!1;for(const u of n)s&&i.push(r(o,u)),o=u,s=!0;return i}function e(n,r){return[n,r]}return nf}var Sp={},GI;function sK(){if(GI)return Sp;GI=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.default=t;function t(e,n,r){e=+e,n=+n,r=(o=arguments.length)<2?(n=e,e=0,1):o<3?1:+r;for(var i=-1,o=Math.max(0,Math.ceil((n-e)/r))|0,s=new Array(o);++i<o;)s[i]=e+i*r;return s}return Sp}var Pp={},KI;function uK(){if(KI)return Pp;KI=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.default=r;var t=n(Zi()),e=bd();function n(i){return i&&i.__esModule?i:{default:i}}function r(i,o=t.default){if(typeof i[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let s=Array.from(i);const u=new Float64Array(s.length);o.length!==2&&(s=s.map(o),o=t.default);const c=(m,g)=>o(s[m],s[g]);let f,h;return Uint32Array.from(s,(m,g)=>g).sort(o===t.default?(m,g)=>(0,e.ascendingDefined)(s[m],s[g]):(0,e.compareDefined)(c)).forEach((m,g)=>{const _=c(m,f===void 0?m:f);_>=0?((f===void 0||_>0)&&(f=m,h=g),u[m]=h):u[m]=NaN}),u}return Pp}var Cp={},YI;function lK(){if(YI)return Cp;YI=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.default=n;var t=e(Zi());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i=t.default){let o,s=!1;if(i.length===1){let u;for(const c of r){const f=i(c);(s?(0,t.default)(f,u)<0:(0,t.default)(f,f)===0)&&(o=c,u=f,s=!0)}}else for(const u of r)(s?i(u,o)<0:i(u,u)===0)&&(o=u,s=!0);return o}return Cp}var Rp={},QI;function TL(){if(QI)return Rp;QI=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.default=r;var t=n(Zi()),e=n(Ab());function n(i){return i&&i.__esModule?i:{default:i}}function r(i,o=t.default){if(o.length===1)return(0,e.default)(i,o);let s,u=-1,c=-1;for(const f of i)++c,(u<0?o(f,f)===0:o(f,s)<0)&&(s=f,u=c);return u}return Rp}var Ip={},XI;function cK(){if(XI)return Ip;XI=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.default=r;var t=n(Zi()),e=n(kb());function n(i){return i&&i.__esModule?i:{default:i}}function r(i,o=t.default){if(o.length===1)return(0,e.default)(i,o);let s,u=-1,c=-1;for(const f of i)++c,(u<0?o(f,f)===0:o(f,s)>0)&&(s=f,u=c);return u}return Ip}var kp={},JI;function fK(){if(JI)return kp;JI=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.default=n;var t=e(TL());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){const o=(0,t.default)(r,i);return o<0?void 0:o}return kp}var ol={},ZI;function dK(){if(ZI)return ol;ZI=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.default=void 0,ol.shuffler=e;var t=e(Math.random);ol.default=t;function e(n){return function(i,o=0,s=i.length){let u=s-(o=+o);for(;u;){const c=n()*u--|0,f=i[u+o];i[u+o]=i[c+o],i[c+o]=f}return i}}return ol}var Mp={},ek;function hK(){if(ek)return Mp;ek=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.default=t;function t(e,n){let r=0;if(n===void 0)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let o of e)(o=+n(o,++i,e))&&(r+=o)}return r}return Mp}var Ap={},tk;function EL(){if(tk)return Ap;tk=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.default=n;var t=e(Mb());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){if(!(f=i.length))return[];for(var o=-1,s=(0,t.default)(i,r),u=new Array(s);++o<s;)for(var c=-1,f,h=u[o]=new Array(f);++c<f;)h[c]=i[c][o];return u}function r(i){return i.length}return Ap}var Op={},nk;function pK(){if(nk)return Op;nk=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.default=n;var t=e(EL());function e(r){return r&&r.__esModule?r:{default:r}}function n(){return(0,t.default)(arguments)}return Op}var Dp={},rk;function mK(){if(rk)return Dp;rk=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.default=t;function t(e,n){if(typeof n!="function")throw new TypeError("test is not a function");let r=-1;for(const i of e)if(!n(i,++r,e))return!1;return!0}return Dp}var Np={},ik;function gK(){if(ik)return Np;ik=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.default=t;function t(e,n){if(typeof n!="function")throw new TypeError("test is not a function");let r=-1;for(const i of e)if(n(i,++r,e))return!0;return!1}return Np}var Lp={},ok;function vK(){if(ok)return Lp;ok=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.default=t;function t(e,n){if(typeof n!="function")throw new TypeError("test is not a function");const r=[];let i=-1;for(const o of e)n(o,++i,e)&&r.push(o);return r}return Lp}var Vp={},ak;function yK(){if(ak)return Vp;ak=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.default=t;function t(e,n){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof n!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,i)=>n(r,i,e))}return Vp}var Fp={},sk;function _K(){if(sk)return Fp;sk=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.default=t;function t(e,n,r){if(typeof n!="function")throw new TypeError("reducer is not a function");const i=e[Symbol.iterator]();let o,s,u=-1;if(arguments.length<3){if({done:o,value:r}=i.next(),o)return;++u}for(;{done:o,value:s}=i.next(),!o;)r=n(r,s,++u,e);return r}return Fp}var qp={},uk;function wK(){if(uk)return qp;uk=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.default=t;function t(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}return qp}var $p={},lk;function xK(){if(lk)return $p;lk=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.default=e;var t=gu();function e(n,...r){n=new t.InternSet(n);for(const i of r)for(const o of i)n.delete(o);return n}return $p}var Up={},ck;function bK(){if(ck)return Up;ck=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.default=e;var t=gu();function e(n,r){const i=r[Symbol.iterator](),o=new t.InternSet;for(const s of n){if(o.has(s))return!1;let u,c;for(;({value:u,done:c}=i.next())&&!c;){if(Object.is(s,u))return!1;o.add(u)}}return!0}return Up}var jp={},fk;function TK(){if(fk)return jp;fk=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.default=e;var t=gu();function e(r,...i){r=new t.InternSet(r),i=i.map(n);e:for(const o of r)for(const s of i)if(!s.has(o)){r.delete(o);continue e}return r}function n(r){return r instanceof t.InternSet?r:new t.InternSet(r)}return jp}var zp={},Bp={},dk;function SL(){if(dk)return Bp;dk=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.default=t;function t(n,r){const i=n[Symbol.iterator](),o=new Set;for(const s of r){const u=e(s);if(o.has(u))continue;let c,f;for(;{value:c,done:f}=i.next();){if(f)return!1;const h=e(c);if(o.add(h),Object.is(u,h))break}}return!0}function e(n){return n!==null&&typeof n=="object"?n.valueOf():n}return Bp}var hk;function EK(){if(hk)return zp;hk=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.default=n;var t=e(SL());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){return(0,t.default)(i,r)}return zp}var Wp={},pk;function SK(){if(pk)return Wp;pk=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.default=e;var t=gu();function e(...n){const r=new t.InternSet;for(const i of n)for(const o of i)r.add(o);return r}return Wp}var mk;function wi(){return mk||(mk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Adder",{enumerable:!0,get:function(){return m.Adder}}),Object.defineProperty(t,"InternMap",{enumerable:!0,get:function(){return Fn.InternMap}}),Object.defineProperty(t,"InternSet",{enumerable:!0,get:function(){return Fn.InternSet}}),Object.defineProperty(t,"ascending",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"bin",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"bisect",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"bisectCenter",{enumerable:!0,get:function(){return e.bisectCenter}}),Object.defineProperty(t,"bisectLeft",{enumerable:!0,get:function(){return e.bisectLeft}}),Object.defineProperty(t,"bisectRight",{enumerable:!0,get:function(){return e.bisectRight}}),Object.defineProperty(t,"bisector",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"blur",{enumerable:!0,get:function(){return i.blur}}),Object.defineProperty(t,"blur2",{enumerable:!0,get:function(){return i.blur2}}),Object.defineProperty(t,"blurImage",{enumerable:!0,get:function(){return i.blurImage}}),Object.defineProperty(t,"count",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"cross",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"cumsum",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"descending",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"deviation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"difference",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(t,"disjoint",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(t,"every",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(t,"extent",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"fcumsum",{enumerable:!0,get:function(){return m.fcumsum}}),Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(t,"flatGroup",{enumerable:!0,get:function(){return g.flatGroup}}),Object.defineProperty(t,"flatRollup",{enumerable:!0,get:function(){return g.flatRollup}}),Object.defineProperty(t,"fsum",{enumerable:!0,get:function(){return m.fsum}}),Object.defineProperty(t,"greatest",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"greatestIndex",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"group",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"groupSort",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"groups",{enumerable:!0,get:function(){return g.groups}}),Object.defineProperty(t,"histogram",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"index",{enumerable:!0,get:function(){return g.index}}),Object.defineProperty(t,"indexes",{enumerable:!0,get:function(){return g.indexes}}),Object.defineProperty(t,"intersection",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"least",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"leastIndex",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"map",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(t,"max",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"maxIndex",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"mean",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"median",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"medianIndex",{enumerable:!0,get:function(){return N.medianIndex}}),Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"min",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"minIndex",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"mode",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"nice",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"permute",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"quantile",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"quantileIndex",{enumerable:!0,get:function(){return A.quantileIndex}}),Object.defineProperty(t,"quantileSorted",{enumerable:!0,get:function(){return A.quantileSorted}}),Object.defineProperty(t,"quickselect",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"range",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"rank",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"reverse",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(t,"rollup",{enumerable:!0,get:function(){return g.rollup}}),Object.defineProperty(t,"rollups",{enumerable:!0,get:function(){return g.rollups}}),Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(t,"shuffle",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"shuffler",{enumerable:!0,get:function(){return oe.shuffler}}),Object.defineProperty(t,"some",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"sort",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(t,"subset",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(t,"sum",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"superset",{enumerable:!0,get:function(){return Vn.default}}),Object.defineProperty(t,"thresholdFreedmanDiaconis",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"thresholdScott",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"thresholdSturges",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"tickIncrement",{enumerable:!0,get:function(){return B.tickIncrement}}),Object.defineProperty(t,"tickStep",{enumerable:!0,get:function(){return B.tickStep}}),Object.defineProperty(t,"ticks",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"transpose",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(t,"variance",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ce.default}});var e=qn(fL()),n=qe(Zi()),r=qe(lL()),i=HG(),o=qe(zv()),s=qe(GG()),u=qe(KG()),c=qe(uL()),f=qe(hL()),h=qe(pL()),m=YG(),g=qn(gL()),_=qe(QG()),y=qe(ZG()),w=qe(eK()),x=qe(tK()),T=qe(_L()),E=qe(wL()),S=qe(kb()),O=qe(nK()),N=qn(rK()),$=qe(iK()),M=qe(Mb()),R=qe(Ab()),k=qe(oK()),I=qe(yL()),L=qe(aK()),V=qe(vL()),A=qn(Ob()),H=qe(xL()),X=qe(sK()),Q=qe(uK()),J=qe(lK()),j=qe(TL()),ue=qe(bL()),re=qe(cK()),W=qe(fK()),oe=qn(dK()),le=qe(hK()),B=qn(Ib()),te=qe(EL()),pe=qe(dL()),ce=qe(pK()),Pe=qe(mK()),de=qe(gK()),me=qe(vK()),be=qe(yK()),fe=qe(_K()),Xe=qe(wK()),Be=qe(bd()),ht=qe(xK()),gt=qe(bK()),kt=qe(TK()),ur=qe(EK()),Vn=qe(SL()),lr=qe(SK()),Fn=gu();function qe(pt){return pt&&pt.__esModule?pt:{default:pt}}function qr(pt){if(typeof WeakMap!="function")return null;var Et=new WeakMap,vt=new WeakMap;return(qr=function(zt){return zt?vt:Et})(pt)}function qn(pt,Et){if(pt&&pt.__esModule)return pt;if(pt===null||typeof pt!="object"&&typeof pt!="function")return{default:pt};var vt=qr(Et);if(vt&&vt.has(pt))return vt.get(pt);var zt={},to=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var hn in pt)if(hn!=="default"&&Object.prototype.hasOwnProperty.call(pt,hn)){var Hn=to?Object.getOwnPropertyDescriptor(pt,hn):null;Hn&&(Hn.get||Hn.set)?Object.defineProperty(zt,hn,Hn):zt[hn]=pt[hn]}return zt.default=pt,vt&&vt.set(pt,zt),zt}}(mw)),mw}var rf={},gk;function Wn(){if(gk)return rf;gk=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.initInterpolator=e,rf.initRange=t;function t(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function e(n,r){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}return rf}var al={},vk;function PL(){if(vk)return al;vk=1,Object.defineProperty(al,"__esModule",{value:!0}),al.default=r,al.implicit=void 0;var t=wi(),e=Wn();const n=Symbol("implicit");al.implicit=n;function r(){var i=new t.InternMap,o=[],s=[],u=n;function c(f){let h=i.get(f);if(h===void 0){if(u!==n)return u;i.set(f,h=o.push(f)-1)}return s[h%s.length]}return c.domain=function(f){if(!arguments.length)return o.slice();o=[],i=new t.InternMap;for(const h of f)i.has(h)||i.set(h,o.push(h)-1);return c},c.range=function(f){return arguments.length?(s=Array.from(f),c):s.slice()},c.unknown=function(f){return arguments.length?(u=f,c):u},c.copy=function(){return r(o,s).unknown(u)},e.initRange.apply(c,arguments),c}return al}var yk;function PK(){if(yk)return Zc;yk=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.default=i,Zc.point=s;var t=wi(),e=Wn(),n=r(PL());function r(u){return u&&u.__esModule?u:{default:u}}function i(){var u=(0,n.default)().unknown(void 0),c=u.domain,f=u.range,h=0,m=1,g,_,y=!1,w=0,x=0,T=.5;delete u.unknown;function E(){var S=c().length,O=m<h,N=O?m:h,$=O?h:m;g=($-N)/Math.max(1,S-w+x*2),y&&(g=Math.floor(g)),N+=($-N-g*(S-w))*T,_=g*(1-w),y&&(N=Math.round(N),_=Math.round(_));var M=(0,t.range)(S).map(function(R){return N+g*R});return f(O?M.reverse():M)}return u.domain=function(S){return arguments.length?(c(S),E()):c()},u.range=function(S){return arguments.length?([h,m]=S,h=+h,m=+m,E()):[h,m]},u.rangeRound=function(S){return[h,m]=S,h=+h,m=+m,y=!0,E()},u.bandwidth=function(){return _},u.step=function(){return g},u.round=function(S){return arguments.length?(y=!!S,E()):y},u.padding=function(S){return arguments.length?(w=Math.min(1,x=+S),E()):w},u.paddingInner=function(S){return arguments.length?(w=Math.min(1,S),E()):w},u.paddingOuter=function(S){return arguments.length?(x=+S,E()):x},u.align=function(S){return arguments.length?(T=Math.max(0,Math.min(1,S)),E()):T},u.copy=function(){return i(c(),[h,m]).round(y).paddingInner(w).paddingOuter(x).align(T)},e.initRange.apply(E(),arguments)}function o(u){var c=u.copy;return u.padding=u.paddingOuter,delete u.paddingInner,delete u.paddingOuter,u.copy=function(){return o(c())},u}function s(){return o(i.apply(null,arguments).paddingInner(1))}return Zc}var Hp={},of={},As={},gw={},Gp={},vw={},or={},af={},_k;function Db(){if(_k)return af;_k=1,Object.defineProperty(af,"__esModule",{value:!0}),af.default=t,af.extend=e;function t(n,r,i){n.prototype=r.prototype=i,i.constructor=n}function e(n,r){var i=Object.create(n.prototype);for(var o in r)i[o]=r[o];return i}return af}var wk;function Nb(){if(wk)return or;wk=1,Object.defineProperty(or,"__esModule",{value:!0}),or.Color=r,or.Rgb=I,or.darker=or.brighter=void 0,or.default=N,or.hsl=ue,or.hslConvert=j,or.rgb=k,or.rgbConvert=R;var t=n(Db());function e(B){if(typeof WeakMap!="function")return null;var te=new WeakMap,pe=new WeakMap;return(e=function(ce){return ce?pe:te})(B)}function n(B,te){if(B&&B.__esModule)return B;if(B===null||typeof B!="object"&&typeof B!="function")return{default:B};var pe=e(te);if(pe&&pe.has(B))return pe.get(B);var ce={},Pe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var de in B)if(de!=="default"&&Object.prototype.hasOwnProperty.call(B,de)){var me=Pe?Object.getOwnPropertyDescriptor(B,de):null;me&&(me.get||me.set)?Object.defineProperty(ce,de,me):ce[de]=B[de]}return ce.default=B,pe&&pe.set(B,ce),ce}function r(){}var i=.7;or.darker=i;var o=1/i;or.brighter=o;var s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,h=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),m=new RegExp(`^rgb\\(${c},${c},${c}\\)$`),g=new RegExp(`^rgba\\(${s},${s},${s},${u}\\)$`),_=new RegExp(`^rgba\\(${c},${c},${c},${u}\\)$`),y=new RegExp(`^hsl\\(${u},${c},${c}\\)$`),w=new RegExp(`^hsla\\(${u},${c},${c},${u}\\)$`),x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};(0,t.default)(r,N,{copy(B){return Object.assign(new this.constructor,this,B)},displayable(){return this.rgb().displayable()},hex:T,formatHex:T,formatHex8:E,formatHsl:S,formatRgb:O,toString:O});function T(){return this.rgb().formatHex()}function E(){return this.rgb().formatHex8()}function S(){return j(this).formatHsl()}function O(){return this.rgb().formatRgb()}function N(B){var te,pe;return B=(B+"").trim().toLowerCase(),(te=f.exec(B))?(pe=te[1].length,te=parseInt(te[1],16),pe===6?$(te):pe===3?new I(te>>8&15|te>>4&240,te>>4&15|te&240,(te&15)<<4|te&15,1):pe===8?M(te>>24&255,te>>16&255,te>>8&255,(te&255)/255):pe===4?M(te>>12&15|te>>8&240,te>>8&15|te>>4&240,te>>4&15|te&240,((te&15)<<4|te&15)/255):null):(te=h.exec(B))?new I(te[1],te[2],te[3],1):(te=m.exec(B))?new I(te[1]*255/100,te[2]*255/100,te[3]*255/100,1):(te=g.exec(B))?M(te[1],te[2],te[3],te[4]):(te=_.exec(B))?M(te[1]*255/100,te[2]*255/100,te[3]*255/100,te[4]):(te=y.exec(B))?J(te[1],te[2]/100,te[3]/100,1):(te=w.exec(B))?J(te[1],te[2]/100,te[3]/100,te[4]):x.hasOwnProperty(B)?$(x[B]):B==="transparent"?new I(NaN,NaN,NaN,0):null}function $(B){return new I(B>>16&255,B>>8&255,B&255,1)}function M(B,te,pe,ce){return ce<=0&&(B=te=pe=NaN),new I(B,te,pe,ce)}function R(B){return B instanceof r||(B=N(B)),B?(B=B.rgb(),new I(B.r,B.g,B.b,B.opacity)):new I}function k(B,te,pe,ce){return arguments.length===1?R(B):new I(B,te,pe,ce??1)}function I(B,te,pe,ce){this.r=+B,this.g=+te,this.b=+pe,this.opacity=+ce}(0,t.default)(I,k,(0,t.extend)(r,{brighter(B){return B=B==null?o:Math.pow(o,B),new I(this.r*B,this.g*B,this.b*B,this.opacity)},darker(B){return B=B==null?i:Math.pow(i,B),new I(this.r*B,this.g*B,this.b*B,this.opacity)},rgb(){return this},clamp(){return new I(X(this.r),X(this.g),X(this.b),H(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L,formatHex:L,formatHex8:V,formatRgb:A,toString:A}));function L(){return`#${Q(this.r)}${Q(this.g)}${Q(this.b)}`}function V(){return`#${Q(this.r)}${Q(this.g)}${Q(this.b)}${Q((isNaN(this.opacity)?1:this.opacity)*255)}`}function A(){const B=H(this.opacity);return`${B===1?"rgb(":"rgba("}${X(this.r)}, ${X(this.g)}, ${X(this.b)}${B===1?")":`, ${B})`}`}function H(B){return isNaN(B)?1:Math.max(0,Math.min(1,B))}function X(B){return Math.max(0,Math.min(255,Math.round(B)||0))}function Q(B){return B=X(B),(B<16?"0":"")+B.toString(16)}function J(B,te,pe,ce){return ce<=0?B=te=pe=NaN:pe<=0||pe>=1?B=te=NaN:te<=0&&(B=NaN),new re(B,te,pe,ce)}function j(B){if(B instanceof re)return new re(B.h,B.s,B.l,B.opacity);if(B instanceof r||(B=N(B)),!B)return new re;if(B instanceof re)return B;B=B.rgb();var te=B.r/255,pe=B.g/255,ce=B.b/255,Pe=Math.min(te,pe,ce),de=Math.max(te,pe,ce),me=NaN,be=de-Pe,fe=(de+Pe)/2;return be?(te===de?me=(pe-ce)/be+(pe<ce)*6:pe===de?me=(ce-te)/be+2:me=(te-pe)/be+4,be/=fe<.5?de+Pe:2-de-Pe,me*=60):be=fe>0&&fe<1?0:me,new re(me,be,fe,B.opacity)}function ue(B,te,pe,ce){return arguments.length===1?j(B):new re(B,te,pe,ce??1)}function re(B,te,pe,ce){this.h=+B,this.s=+te,this.l=+pe,this.opacity=+ce}(0,t.default)(re,ue,(0,t.extend)(r,{brighter(B){return B=B==null?o:Math.pow(o,B),new re(this.h,this.s,this.l*B,this.opacity)},darker(B){return B=B==null?i:Math.pow(i,B),new re(this.h,this.s,this.l*B,this.opacity)},rgb(){var B=this.h%360+(this.h<0)*360,te=isNaN(B)||isNaN(this.s)?0:this.s,pe=this.l,ce=pe+(pe<.5?pe:1-pe)*te,Pe=2*pe-ce;return new I(le(B>=240?B-240:B+120,Pe,ce),le(B,Pe,ce),le(B<120?B+240:B-120,Pe,ce),this.opacity)},clamp(){return new re(W(this.h),oe(this.s),oe(this.l),H(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const B=H(this.opacity);return`${B===1?"hsl(":"hsla("}${W(this.h)}, ${oe(this.s)*100}%, ${oe(this.l)*100}%${B===1?")":`, ${B})`}`}}));function W(B){return B=(B||0)%360,B<0?B+360:B}function oe(B){return Math.max(0,Math.min(1,B||0))}function le(B,te,pe){return(B<60?te+(pe-te)*B/60:B<180?pe:B<240?te+(pe-te)*(240-B)/60:te)*255}return or}var bo={},Os={},xk;function CL(){if(xk)return Os;xk=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.radians=Os.degrees=void 0;const t=Math.PI/180;Os.radians=t;const e=180/Math.PI;return Os.degrees=e,Os}var bk;function CK(){if(bk)return bo;bk=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.Hcl=R,bo.Lab=x,bo.default=w,bo.gray=y,bo.hcl=M,bo.lch=$;var t=i(Db()),e=Nb(),n=CL();function r(I){if(typeof WeakMap!="function")return null;var L=new WeakMap,V=new WeakMap;return(r=function(A){return A?V:L})(I)}function i(I,L){if(I&&I.__esModule)return I;if(I===null||typeof I!="object"&&typeof I!="function")return{default:I};var V=r(L);if(V&&V.has(I))return V.get(I);var A={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var X in I)if(X!=="default"&&Object.prototype.hasOwnProperty.call(I,X)){var Q=H?Object.getOwnPropertyDescriptor(I,X):null;Q&&(Q.get||Q.set)?Object.defineProperty(A,X,Q):A[X]=I[X]}return A.default=I,V&&V.set(I,A),A}const o=18,s=.96422,u=1,c=.82521,f=4/29,h=6/29,m=3*h*h,g=h*h*h;function _(I){if(I instanceof x)return new x(I.l,I.a,I.b,I.opacity);if(I instanceof R)return k(I);I instanceof e.Rgb||(I=(0,e.rgbConvert)(I));var L=O(I.r),V=O(I.g),A=O(I.b),H=T((.2225045*L+.7168786*V+.0606169*A)/u),X,Q;return L===V&&V===A?X=Q=H:(X=T((.4360747*L+.3850649*V+.1430804*A)/s),Q=T((.0139322*L+.0971045*V+.7141733*A)/c)),new x(116*H-16,500*(X-H),200*(H-Q),I.opacity)}function y(I,L){return new x(I,0,0,L??1)}function w(I,L,V,A){return arguments.length===1?_(I):new x(I,L,V,A??1)}function x(I,L,V,A){this.l=+I,this.a=+L,this.b=+V,this.opacity=+A}(0,t.default)(x,w,(0,t.extend)(e.Color,{brighter(I){return new x(this.l+o*(I??1),this.a,this.b,this.opacity)},darker(I){return new x(this.l-o*(I??1),this.a,this.b,this.opacity)},rgb(){var I=(this.l+16)/116,L=isNaN(this.a)?I:I+this.a/500,V=isNaN(this.b)?I:I-this.b/200;return L=s*E(L),I=u*E(I),V=c*E(V),new e.Rgb(S(3.1338561*L-1.6168667*I-.4906146*V),S(-.9787684*L+1.9161415*I+.033454*V),S(.0719453*L-.2289914*I+1.4052427*V),this.opacity)}}));function T(I){return I>g?Math.pow(I,1/3):I/m+f}function E(I){return I>h?I*I*I:m*(I-f)}function S(I){return 255*(I<=.0031308?12.92*I:1.055*Math.pow(I,1/2.4)-.055)}function O(I){return(I/=255)<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function N(I){if(I instanceof R)return new R(I.h,I.c,I.l,I.opacity);if(I instanceof x||(I=_(I)),I.a===0&&I.b===0)return new R(NaN,0<I.l&&I.l<100?0:NaN,I.l,I.opacity);var L=Math.atan2(I.b,I.a)*n.degrees;return new R(L<0?L+360:L,Math.sqrt(I.a*I.a+I.b*I.b),I.l,I.opacity)}function $(I,L,V,A){return arguments.length===1?N(I):new R(V,L,I,A??1)}function M(I,L,V,A){return arguments.length===1?N(I):new R(I,L,V,A??1)}function R(I,L,V,A){this.h=+I,this.c=+L,this.l=+V,this.opacity=+A}function k(I){if(isNaN(I.h))return new x(I.l,0,0,I.opacity);var L=I.h*n.radians;return new x(I.l,Math.cos(L)*I.c,Math.sin(L)*I.c,I.opacity)}return(0,t.default)(R,M,(0,t.extend)(e.Color,{brighter(I){return new R(this.h,this.c,this.l+o*(I??1),this.opacity)},darker(I){return new R(this.h,this.c,this.l-o*(I??1),this.opacity)},rgb(){return k(this).rgb()}})),bo}var sf={},Tk;function RK(){if(Tk)return sf;Tk=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.Cubehelix=w,sf.default=y;var t=i(Db()),e=Nb(),n=CL();function r(x){if(typeof WeakMap!="function")return null;var T=new WeakMap,E=new WeakMap;return(r=function(S){return S?E:T})(x)}function i(x,T){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var E=r(T);if(E&&E.has(x))return E.get(x);var S={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in x)if(N!=="default"&&Object.prototype.hasOwnProperty.call(x,N)){var $=O?Object.getOwnPropertyDescriptor(x,N):null;$&&($.get||$.set)?Object.defineProperty(S,N,$):S[N]=x[N]}return S.default=x,E&&E.set(x,S),S}var o=-.14861,s=1.78277,u=-.29227,c=-.90649,f=1.97294,h=f*c,m=f*s,g=s*u-c*o;function _(x){if(x instanceof w)return new w(x.h,x.s,x.l,x.opacity);x instanceof e.Rgb||(x=(0,e.rgbConvert)(x));var T=x.r/255,E=x.g/255,S=x.b/255,O=(g*S+h*T-m*E)/(g+h-m),N=S-O,$=(f*(E-O)-u*N)/c,M=Math.sqrt($*$+N*N)/(f*O*(1-O)),R=M?Math.atan2($,N)*n.degrees-120:NaN;return new w(R<0?R+360:R,M,O,x.opacity)}function y(x,T,E,S){return arguments.length===1?_(x):new w(x,T,E,S??1)}function w(x,T,E,S){this.h=+x,this.s=+T,this.l=+E,this.opacity=+S}return(0,t.default)(w,y,(0,t.extend)(e.Color,{brighter(x){return x=x==null?e.brighter:Math.pow(e.brighter,x),new w(this.h,this.s,this.l*x,this.opacity)},darker(x){return x=x==null?e.darker:Math.pow(e.darker,x),new w(this.h,this.s,this.l*x,this.opacity)},rgb(){var x=isNaN(this.h)?0:(this.h+120)*n.radians,T=+this.l,E=isNaN(this.s)?0:this.s*T*(1-T),S=Math.cos(x),O=Math.sin(x);return new e.Rgb(255*(T+E*(o*S+s*O)),255*(T+E*(u*S+c*O)),255*(T+E*(f*S)),this.opacity)}})),sf}var Ek;function sc(){return Ek||(Ek=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"color",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"cubehelix",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"gray",{enumerable:!0,get:function(){return n.gray}}),Object.defineProperty(t,"hcl",{enumerable:!0,get:function(){return n.hcl}}),Object.defineProperty(t,"hsl",{enumerable:!0,get:function(){return e.hsl}}),Object.defineProperty(t,"lab",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"lch",{enumerable:!0,get:function(){return n.lch}}),Object.defineProperty(t,"rgb",{enumerable:!0,get:function(){return e.rgb}});var e=s(Nb()),n=s(CK()),r=i(RK());function i(u){return u&&u.__esModule?u:{default:u}}function o(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(o=function(h){return h?f:c})(u)}function s(u,c){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=o(c);if(f&&f.has(u))return f.get(u);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var _=m?Object.getOwnPropertyDescriptor(u,g):null;_&&(_.get||_.set)?Object.defineProperty(h,g,_):h[g]=u[g]}return h.default=u,f&&f.set(u,h),h}}(vw)),vw}var To={},uf={},Sk;function Lb(){if(Sk)return uf;Sk=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.basis=t,uf.default=e;function t(n,r,i,o,s){var u=n*n,c=u*n;return((1-3*n+3*u-c)*r+(4-6*u+3*c)*i+(1+3*n+3*u-3*c)*o+c*s)/6}function e(n){var r=n.length-1;return function(i){var o=i<=0?i=0:i>=1?(i=1,r-1):Math.floor(i*r),s=n[o],u=n[o+1],c=o>0?n[o-1]:2*s-u,f=o<r-1?n[o+2]:2*u-s;return t((i-o/r)*r,c,s,u,f)}}return uf}var Kp={},Pk;function RL(){if(Pk)return Kp;Pk=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.default=e;var t=Lb();function e(n){var r=n.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*r),s=n[(o+r-1)%r],u=n[o%r],c=n[(o+1)%r],f=n[(o+2)%r];return(0,t.basis)((i-o/r)*r,s,u,c,f)}}return Kp}var sl={},lf={},Ck;function IL(){if(Ck)return lf;Ck=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.default=void 0;var t=e=>()=>e;return lf.default=t,lf}var Rk;function uc(){if(Rk)return sl;Rk=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.default=s,sl.gamma=o,sl.hue=i;var t=e(IL());function e(u){return u&&u.__esModule?u:{default:u}}function n(u,c){return function(f){return u+f*c}}function r(u,c,f){return u=Math.pow(u,f),c=Math.pow(c,f)-u,f=1/f,function(h){return Math.pow(u+h*c,f)}}function i(u,c){var f=c-u;return f?n(u,f>180||f<-180?f-360*Math.round(f/360):f):(0,t.default)(isNaN(u)?c:u)}function o(u){return(u=+u)==1?s:function(c,f){return f-c?r(c,f,u):(0,t.default)(isNaN(c)?f:c)}}function s(u,c){var f=c-u;return f?n(u,f):(0,t.default)(isNaN(u)?c:u)}return sl}var Ik;function kL(){if(Ik)return To;Ik=1,Object.defineProperty(To,"__esModule",{value:!0}),To.rgbBasisClosed=To.rgbBasis=To.default=void 0;var t=sc(),e=s(Lb()),n=s(RL()),r=o(uc());function i(m){if(typeof WeakMap!="function")return null;var g=new WeakMap,_=new WeakMap;return(i=function(y){return y?_:g})(m)}function o(m,g){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var _=i(g);if(_&&_.has(m))return _.get(m);var y={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in m)if(x!=="default"&&Object.prototype.hasOwnProperty.call(m,x)){var T=w?Object.getOwnPropertyDescriptor(m,x):null;T&&(T.get||T.set)?Object.defineProperty(y,x,T):y[x]=m[x]}return y.default=m,_&&_.set(m,y),y}function s(m){return m&&m.__esModule?m:{default:m}}var u=function m(g){var _=(0,r.gamma)(g);function y(w,x){var T=_((w=(0,t.rgb)(w)).r,(x=(0,t.rgb)(x)).r),E=_(w.g,x.g),S=_(w.b,x.b),O=(0,r.default)(w.opacity,x.opacity);return function(N){return w.r=T(N),w.g=E(N),w.b=S(N),w.opacity=O(N),w+""}}return y.gamma=m,y}(1);To.default=u;function c(m){return function(g){var _=g.length,y=new Array(_),w=new Array(_),x=new Array(_),T,E;for(T=0;T<_;++T)E=(0,t.rgb)(g[T]),y[T]=E.r||0,w[T]=E.g||0,x[T]=E.b||0;return y=m(y),w=m(w),x=m(x),E.opacity=1,function(S){return E.r=y(S),E.g=w(S),E.b=x(S),E+""}}}var f=c(e.default);To.rgbBasis=f;var h=c(n.default);return To.rgbBasisClosed=h,To}var cf={},ff={},kk;function Vb(){if(kk)return ff;kk=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.default=t,ff.isNumberArray=e;function t(n,r){r||(r=[]);var i=n?Math.min(r.length,n.length):0,o=r.slice(),s;return function(u){for(s=0;s<i;++s)o[s]=n[s]*(1-u)+r[s]*u;return o}}function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}return ff}var Mk;function ML(){if(Mk)return cf;Mk=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.default=o,cf.genericArray=s;var t=i(Wv()),e=r(Vb());function n(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(n=function(h){return h?f:c})(u)}function r(u,c){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=n(c);if(f&&f.has(u))return f.get(u);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var _=m?Object.getOwnPropertyDescriptor(u,g):null;_&&(_.get||_.set)?Object.defineProperty(h,g,_):h[g]=u[g]}return h.default=u,f&&f.set(u,h),h}function i(u){return u&&u.__esModule?u:{default:u}}function o(u,c){return((0,e.isNumberArray)(c)?e.default:s)(u,c)}function s(u,c){var f=c?c.length:0,h=u?Math.min(f,u.length):0,m=new Array(h),g=new Array(f),_;for(_=0;_<h;++_)m[_]=(0,t.default)(u[_],c[_]);for(;_<f;++_)g[_]=c[_];return function(y){for(_=0;_<h;++_)g[_]=m[_](y);return g}}return cf}var Yp={},Ak;function AL(){if(Ak)return Yp;Ak=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.default=t;function t(e,n){var r=new Date;return e=+e,n=+n,function(i){return r.setTime(e*(1-i)+n*i),r}}return Yp}var Qp={},Ok;function Bv(){if(Ok)return Qp;Ok=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.default=t;function t(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}return Qp}var Xp={},Dk;function OL(){if(Dk)return Xp;Dk=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.default=n;var t=e(Wv());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){var o={},s={},u;(r===null||typeof r!="object")&&(r={}),(i===null||typeof i!="object")&&(i={});for(u in i)u in r?o[u]=(0,t.default)(r[u],i[u]):s[u]=i[u];return function(c){for(u in o)s[u]=o[u](c);return s}}return Xp}var Jp={},Nk;function DL(){if(Nk)return Jp;Nk=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.default=s;var t=e(Bv());function e(u){return u&&u.__esModule?u:{default:u}}var n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(n.source,"g");function i(u){return function(){return u}}function o(u){return function(c){return u(c)+""}}function s(u,c){var f=n.lastIndex=r.lastIndex=0,h,m,g,_=-1,y=[],w=[];for(u=u+"",c=c+"";(h=n.exec(u))&&(m=r.exec(c));)(g=m.index)>f&&(g=c.slice(f,g),y[_]?y[_]+=g:y[++_]=g),(h=h[0])===(m=m[0])?y[_]?y[_]+=m:y[++_]=m:(y[++_]=null,w.push({i:_,x:(0,t.default)(h,m)})),f=r.lastIndex;return f<c.length&&(g=c.slice(f),y[_]?y[_]+=g:y[++_]=g),y.length<2?w[0]?o(w[0].x):i(c):(c=w.length,function(x){for(var T=0,E;T<c;++T)y[(E=w[T]).i]=E.x(x);return y.join("")})}return Jp}var Lk;function Wv(){if(Lk)return Gp;Lk=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.default=g;var t=sc(),e=m(kL()),n=ML(),r=m(AL()),i=m(Bv()),o=m(OL()),s=m(DL()),u=m(IL()),c=h(Vb());function f(_){if(typeof WeakMap!="function")return null;var y=new WeakMap,w=new WeakMap;return(f=function(x){return x?w:y})(_)}function h(_,y){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var w=f(y);if(w&&w.has(_))return w.get(_);var x={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in _)if(E!=="default"&&Object.prototype.hasOwnProperty.call(_,E)){var S=T?Object.getOwnPropertyDescriptor(_,E):null;S&&(S.get||S.set)?Object.defineProperty(x,E,S):x[E]=_[E]}return x.default=_,w&&w.set(_,x),x}function m(_){return _&&_.__esModule?_:{default:_}}function g(_,y){var w=typeof y,x;return y==null||w==="boolean"?(0,u.default)(y):(w==="number"?i.default:w==="string"?(x=(0,t.color)(y))?(y=x,e.default):s.default:y instanceof t.color?e.default:y instanceof Date?r.default:(0,c.isNumberArray)(y)?c.default:Array.isArray(y)?n.genericArray:typeof y.valueOf!="function"&&typeof y.toString!="function"||isNaN(y)?o.default:i.default)(_,y)}return Gp}var Zp={},Vk;function IK(){if(Vk)return Zp;Vk=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.default=t;function t(e){var n=e.length;return function(r){return e[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}}return Zp}var em={},Fk;function kK(){if(Fk)return em;Fk=1,Object.defineProperty(em,"__esModule",{value:!0}),em.default=e;var t=uc();function e(n,r){var i=(0,t.hue)(+n,+r);return function(o){var s=i(o);return s-360*Math.floor(s/360)}}return em}var tm={},qk;function MK(){if(qk)return tm;qk=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.default=t;function t(e,n){return e=+e,n=+n,function(r){return Math.round(e*(1-r)+n*r)}}return tm}var Ds={},df={},ul={},$k;function AK(){if($k)return ul;$k=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.default=n,ul.identity=void 0;var t=180/Math.PI,e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};ul.identity=e;function n(r,i,o,s,u,c){var f,h,m;return(f=Math.sqrt(r*r+i*i))&&(r/=f,i/=f),(m=r*o+i*s)&&(o-=r*m,s-=i*m),(h=Math.sqrt(o*o+s*s))&&(o/=h,s/=h,m/=h),r*s<i*o&&(r=-r,i=-i,m=-m,f=-f),{translateX:u,translateY:c,rotate:Math.atan2(i,r)*t,skewX:Math.atan(m)*t,scaleX:f,scaleY:h}}return ul}var Uk;function OK(){if(Uk)return df;Uk=1,Object.defineProperty(df,"__esModule",{value:!0}),df.parseCss=i,df.parseSvg=o;var t=n(AK());function e(s){if(typeof WeakMap!="function")return null;var u=new WeakMap,c=new WeakMap;return(e=function(f){return f?c:u})(s)}function n(s,u){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var c=e(u);if(c&&c.has(s))return c.get(s);var f={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in s)if(m!=="default"&&Object.prototype.hasOwnProperty.call(s,m)){var g=h?Object.getOwnPropertyDescriptor(s,m):null;g&&(g.get||g.set)?Object.defineProperty(f,m,g):f[m]=s[m]}return f.default=s,c&&c.set(s,f),f}var r;function i(s){const u=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(s+"");return u.isIdentity?t.identity:(0,t.default)(u.a,u.b,u.c,u.d,u.e,u.f)}function o(s){return s==null||(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",s),!(s=r.transform.baseVal.consolidate()))?t.identity:(s=s.matrix,(0,t.default)(s.a,s.b,s.c,s.d,s.e,s.f))}return df}var jk;function DK(){if(jk)return Ds;jk=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.interpolateTransformSvg=Ds.interpolateTransformCss=void 0;var t=n(Bv()),e=OK();function n(s){return s&&s.__esModule?s:{default:s}}function r(s,u,c,f){function h(w){return w.length?w.pop()+" ":""}function m(w,x,T,E,S,O){if(w!==T||x!==E){var N=S.push("translate(",null,u,null,c);O.push({i:N-4,x:(0,t.default)(w,T)},{i:N-2,x:(0,t.default)(x,E)})}else(T||E)&&S.push("translate("+T+u+E+c)}function g(w,x,T,E){w!==x?(w-x>180?x+=360:x-w>180&&(w+=360),E.push({i:T.push(h(T)+"rotate(",null,f)-2,x:(0,t.default)(w,x)})):x&&T.push(h(T)+"rotate("+x+f)}function _(w,x,T,E){w!==x?E.push({i:T.push(h(T)+"skewX(",null,f)-2,x:(0,t.default)(w,x)}):x&&T.push(h(T)+"skewX("+x+f)}function y(w,x,T,E,S,O){if(w!==T||x!==E){var N=S.push(h(S)+"scale(",null,",",null,")");O.push({i:N-4,x:(0,t.default)(w,T)},{i:N-2,x:(0,t.default)(x,E)})}else(T!==1||E!==1)&&S.push(h(S)+"scale("+T+","+E+")")}return function(w,x){var T=[],E=[];return w=s(w),x=s(x),m(w.translateX,w.translateY,x.translateX,x.translateY,T,E),g(w.rotate,x.rotate,T,E),_(w.skewX,x.skewX,T,E),y(w.scaleX,w.scaleY,x.scaleX,x.scaleY,T,E),w=x=null,function(S){for(var O=-1,N=E.length,$;++O<N;)T[($=E[O]).i]=$.x(S);return T.join("")}}}var i=r(e.parseCss,"px, ","px)","deg)");Ds.interpolateTransformCss=i;var o=r(e.parseSvg,", ",")",")");return Ds.interpolateTransformSvg=o,Ds}var hf={},zk;function NK(){if(zk)return hf;zk=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.default=void 0;var t=1e-12;function e(o){return((o=Math.exp(o))+1/o)/2}function n(o){return((o=Math.exp(o))-1/o)/2}function r(o){return((o=Math.exp(2*o))-1)/(o+1)}var i=function o(s,u,c){function f(h,m){var g=h[0],_=h[1],y=h[2],w=m[0],x=m[1],T=m[2],E=w-g,S=x-_,O=E*E+S*S,N,$;if(O<t)$=Math.log(T/y)/s,N=function(V){return[g+V*E,_+V*S,y*Math.exp(s*V*$)]};else{var M=Math.sqrt(O),R=(T*T-y*y+c*O)/(2*y*u*M),k=(T*T-y*y-c*O)/(2*T*u*M),I=Math.log(Math.sqrt(R*R+1)-R),L=Math.log(Math.sqrt(k*k+1)-k);$=(L-I)/s,N=function(V){var A=V*$,H=e(I),X=y/(u*M)*(H*r(s*A+I)-n(I));return[g+X*E,_+X*S,y*H/e(s*A+I)]}}return N.duration=$*1e3*s/Math.SQRT2,N}return f.rho=function(h){var m=Math.max(.001,+h),g=m*m,_=g*g;return o(m,g,_)},f}(Math.SQRT2,2,4);return hf.default=i,hf}var Ns={},Bk;function LK(){if(Bk)return Ns;Bk=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.hslLong=Ns.default=void 0;var t=sc(),e=r(uc());function n(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(n=function(h){return h?f:c})(u)}function r(u,c){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=n(c);if(f&&f.has(u))return f.get(u);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var _=m?Object.getOwnPropertyDescriptor(u,g):null;_&&(_.get||_.set)?Object.defineProperty(h,g,_):h[g]=u[g]}return h.default=u,f&&f.set(u,h),h}function i(u){return function(c,f){var h=u((c=(0,t.hsl)(c)).h,(f=(0,t.hsl)(f)).h),m=(0,e.default)(c.s,f.s),g=(0,e.default)(c.l,f.l),_=(0,e.default)(c.opacity,f.opacity);return function(y){return c.h=h(y),c.s=m(y),c.l=g(y),c.opacity=_(y),c+""}}}var o=i(e.hue);Ns.default=o;var s=i(e.default);return Ns.hslLong=s,Ns}var nm={},Wk;function VK(){if(Wk)return nm;Wk=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.default=r;var t=sc(),e=n(uc());function n(i){return i&&i.__esModule?i:{default:i}}function r(i,o){var s=(0,e.default)((i=(0,t.lab)(i)).l,(o=(0,t.lab)(o)).l),u=(0,e.default)(i.a,o.a),c=(0,e.default)(i.b,o.b),f=(0,e.default)(i.opacity,o.opacity);return function(h){return i.l=s(h),i.a=u(h),i.b=c(h),i.opacity=f(h),i+""}}return nm}var Ls={},Hk;function FK(){if(Hk)return Ls;Hk=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.hclLong=Ls.default=void 0;var t=sc(),e=r(uc());function n(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(n=function(h){return h?f:c})(u)}function r(u,c){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=n(c);if(f&&f.has(u))return f.get(u);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var _=m?Object.getOwnPropertyDescriptor(u,g):null;_&&(_.get||_.set)?Object.defineProperty(h,g,_):h[g]=u[g]}return h.default=u,f&&f.set(u,h),h}function i(u){return function(c,f){var h=u((c=(0,t.hcl)(c)).h,(f=(0,t.hcl)(f)).h),m=(0,e.default)(c.c,f.c),g=(0,e.default)(c.l,f.l),_=(0,e.default)(c.opacity,f.opacity);return function(y){return c.h=h(y),c.c=m(y),c.l=g(y),c.opacity=_(y),c+""}}}var o=i(e.hue);Ls.default=o;var s=i(e.default);return Ls.hclLong=s,Ls}var Vs={},Gk;function qK(){if(Gk)return Vs;Gk=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.default=Vs.cubehelixLong=void 0;var t=sc(),e=r(uc());function n(u){if(typeof WeakMap!="function")return null;var c=new WeakMap,f=new WeakMap;return(n=function(h){return h?f:c})(u)}function r(u,c){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=n(c);if(f&&f.has(u))return f.get(u);var h={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in u)if(g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)){var _=m?Object.getOwnPropertyDescriptor(u,g):null;_&&(_.get||_.set)?Object.defineProperty(h,g,_):h[g]=u[g]}return h.default=u,f&&f.set(u,h),h}function i(u){return function c(f){f=+f;function h(m,g){var _=u((m=(0,t.cubehelix)(m)).h,(g=(0,t.cubehelix)(g)).h),y=(0,e.default)(m.s,g.s),w=(0,e.default)(m.l,g.l),x=(0,e.default)(m.opacity,g.opacity);return function(T){return m.h=_(T),m.s=y(T),m.l=w(Math.pow(T,f)),m.opacity=x(T),m+""}}return h.gamma=c,h}(1)}var o=i(e.hue);Vs.default=o;var s=i(e.default);return Vs.cubehelixLong=s,Vs}var rm={},Kk;function $K(){if(Kk)return rm;Kk=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.default=n;var t=e(Wv());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){i===void 0&&(i=r,r=t.default);for(var o=0,s=i.length-1,u=i[0],c=new Array(s<0?0:s);o<s;)c[o]=r(u,u=i[++o]);return function(f){var h=Math.max(0,Math.min(s-1,Math.floor(f*=s)));return c[h](f-h)}}return rm}var im={},Yk;function UK(){if(Yk)return im;Yk=1,Object.defineProperty(im,"__esModule",{value:!0}),im.default=t;function t(e,n){for(var r=new Array(n),i=0;i<n;++i)r[i]=e(i/(n-1));return r}return im}var Qk;function Hv(){return Qk||(Qk=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"interpolateArray",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"interpolateBasis",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"interpolateBasisClosed",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"interpolateCubehelix",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"interpolateCubehelixLong",{enumerable:!0,get:function(){return S.cubehelixLong}}),Object.defineProperty(t,"interpolateDate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"interpolateDiscrete",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"interpolateHcl",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"interpolateHclLong",{enumerable:!0,get:function(){return E.hclLong}}),Object.defineProperty(t,"interpolateHsl",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"interpolateHslLong",{enumerable:!0,get:function(){return x.hslLong}}),Object.defineProperty(t,"interpolateHue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"interpolateLab",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"interpolateNumber",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"interpolateNumberArray",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"interpolateObject",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"interpolateRgb",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"interpolateRgbBasis",{enumerable:!0,get:function(){return w.rgbBasis}}),Object.defineProperty(t,"interpolateRgbBasisClosed",{enumerable:!0,get:function(){return w.rgbBasisClosed}}),Object.defineProperty(t,"interpolateRound",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"interpolateString",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"interpolateTransformCss",{enumerable:!0,get:function(){return _.interpolateTransformCss}}),Object.defineProperty(t,"interpolateTransformSvg",{enumerable:!0,get:function(){return _.interpolateTransformSvg}}),Object.defineProperty(t,"interpolateZoom",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"piecewise",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"quantize",{enumerable:!0,get:function(){return N.default}});var e=R(Wv()),n=R(ML()),r=R(Lb()),i=R(RL()),o=R(AL()),s=R(IK()),u=R(kK()),c=R(Bv()),f=R(Vb()),h=R(OL()),m=R(MK()),g=R(DL()),_=DK(),y=R(NK()),w=M(kL()),x=M(LK()),T=R(VK()),E=M(FK()),S=M(qK()),O=R($K()),N=R(UK());function $(k){if(typeof WeakMap!="function")return null;var I=new WeakMap,L=new WeakMap;return($=function(V){return V?L:I})(k)}function M(k,I){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var L=$(I);if(L&&L.has(k))return L.get(k);var V={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in k)if(H!=="default"&&Object.prototype.hasOwnProperty.call(k,H)){var X=A?Object.getOwnPropertyDescriptor(k,H):null;X&&(X.get||X.set)?Object.defineProperty(V,H,X):V[H]=k[H]}return V.default=k,L&&L.set(k,V),V}function R(k){return k&&k.__esModule?k:{default:k}}}(gw)),gw}var om={},Xk;function jK(){if(Xk)return om;Xk=1,Object.defineProperty(om,"__esModule",{value:!0}),om.default=t;function t(e){return function(){return e}}return om}var am={},Jk;function Fb(){if(Jk)return am;Jk=1,Object.defineProperty(am,"__esModule",{value:!0}),am.default=t;function t(e){return+e}return am}var Zk;function Ho(){if(Zk)return As;Zk=1,Object.defineProperty(As,"__esModule",{value:!0}),As.copy=m,As.default=_,As.identity=s,As.transformer=g;var t=wi(),e=Hv(),n=i(jK()),r=i(Fb());function i(y){return y&&y.__esModule?y:{default:y}}var o=[0,1];function s(y){return y}function u(y,w){return(w-=y=+y)?function(x){return(x-y)/w}:(0,n.default)(isNaN(w)?NaN:.5)}function c(y,w){var x;return y>w&&(x=y,y=w,w=x),function(T){return Math.max(y,Math.min(w,T))}}function f(y,w,x){var T=y[0],E=y[1],S=w[0],O=w[1];return E<T?(T=u(E,T),S=x(O,S)):(T=u(T,E),S=x(S,O)),function(N){return S(T(N))}}function h(y,w,x){var T=Math.min(y.length,w.length)-1,E=new Array(T),S=new Array(T),O=-1;for(y[T]<y[0]&&(y=y.slice().reverse(),w=w.slice().reverse());++O<T;)E[O]=u(y[O],y[O+1]),S[O]=x(w[O],w[O+1]);return function(N){var $=(0,t.bisect)(y,N,1,T)-1;return S[$](E[$](N))}}function m(y,w){return w.domain(y.domain()).range(y.range()).interpolate(y.interpolate()).clamp(y.clamp()).unknown(y.unknown())}function g(){var y=o,w=o,x=e.interpolate,T,E,S,O=s,N,$,M;function R(){var I=Math.min(y.length,w.length);return O!==s&&(O=c(y[0],y[I-1])),N=I>2?h:f,$=M=null,k}function k(I){return I==null||isNaN(I=+I)?S:($||($=N(y.map(T),w,x)))(T(O(I)))}return k.invert=function(I){return O(E((M||(M=N(w,y.map(T),e.interpolateNumber)))(I)))},k.domain=function(I){return arguments.length?(y=Array.from(I,r.default),R()):y.slice()},k.range=function(I){return arguments.length?(w=Array.from(I),R()):w.slice()},k.rangeRound=function(I){return w=Array.from(I),x=e.interpolateRound,R()},k.clamp=function(I){return arguments.length?(O=I?!0:s,R()):O!==s},k.interpolate=function(I){return arguments.length?(x=I,R()):x},k.unknown=function(I){return arguments.length?(S=I,k):S},function(I,L){return T=I,E=L,R()}}function _(){return g()(s,s)}return As}var sm={},yw={},Di={},um={},lm={},pf={},eM;function Gv(){if(eM)return pf;eM=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.default=t,pf.formatDecimalParts=e;function t(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function e(n,r){if((i=(n=r?n.toExponential(r-1):n.toExponential()).indexOf("e"))<0)return null;var i,o=n.slice(0,i);return[o.length>1?o[0]+o.slice(2):o,+n.slice(i+1)]}return pf}var tM;function Kv(){if(tM)return lm;tM=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.default=e;var t=Gv();function e(n){return n=(0,t.formatDecimalParts)(Math.abs(n)),n?n[1]:NaN}return lm}var cm={},nM;function zK(){if(nM)return cm;nM=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.default=t;function t(e,n){return function(r,i){for(var o=r.length,s=[],u=0,c=e[0],f=0;o>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),s.push(r.substring(o-=c,o+c)),!((f+=c+1)>i));)c=e[u=(u+1)%e.length];return s.reverse().join(n)}}return cm}var fm={},rM;function BK(){if(rM)return fm;rM=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.default=t;function t(e){return function(n){return n.replace(/[0-9]/g,function(r){return e[+r]})}}return fm}var mf={},iM;function NL(){if(iM)return mf;iM=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.FormatSpecifier=n,mf.default=e;var t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e(r){if(!(i=t.exec(r)))throw new Error("invalid format: "+r);var i;return new n({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}e.prototype=n.prototype;function n(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}return n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type},mf}var dm={},oM;function WK(){if(oM)return dm;oM=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.default=t;function t(e){e:for(var n=e.length,r=1,i=-1,o;r<n;++r)switch(e[r]){case".":i=o=r;break;case"0":i===0&&(i=r),o=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(o+1):e}return dm}var gf={},Fs={},aM;function LL(){if(aM)return Fs;aM=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.default=n,Fs.prefixExponent=void 0;var t=Gv(),e;Fs.prefixExponent=e;function n(r,i){var o=(0,t.formatDecimalParts)(r,i);if(!o)return r+"";var s=o[0],u=o[1],c=u-(Fs.prefixExponent=e=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,f=s.length;return c===f?s:c>f?s+new Array(c-f+1).join("0"):c>0?s.slice(0,c)+"."+s.slice(c):"0."+new Array(1-c).join("0")+(0,t.formatDecimalParts)(r,Math.max(0,i+c-1))[0]}return Fs}var hm={},sM;function HK(){if(sM)return hm;sM=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.default=e;var t=Gv();function e(n,r){var i=(0,t.formatDecimalParts)(n,r);if(!i)return n+"";var o=i[0],s=i[1];return s<0?"0."+new Array(-s).join("0")+o:o.length>s+1?o.slice(0,s+1)+"."+o.slice(s+1):o+new Array(s-o.length+2).join("0")}return hm}var uM;function GK(){if(uM)return gf;uM=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.default=void 0;var t=r(Gv()),e=r(LL()),n=r(HK());function r(o){return o&&o.__esModule?o:{default:o}}var i={"%":(o,s)=>(o*100).toFixed(s),b:o=>Math.round(o).toString(2),c:o=>o+"",d:t.default,e:(o,s)=>o.toExponential(s),f:(o,s)=>o.toFixed(s),g:(o,s)=>o.toPrecision(s),o:o=>Math.round(o).toString(8),p:(o,s)=>(0,n.default)(o*100,s),r:n.default,s:e.default,X:o=>Math.round(o).toString(16).toUpperCase(),x:o=>Math.round(o).toString(16)};return gf.default=i,gf}var pm={},lM;function KK(){if(lM)return pm;lM=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.default=t;function t(e){return e}return pm}var cM;function VL(){if(cM)return um;cM=1,Object.defineProperty(um,"__esModule",{value:!0}),um.default=m;var t=c(Kv()),e=c(zK()),n=c(BK()),r=c(NL()),i=c(WK()),o=c(GK()),s=LL(),u=c(KK());function c(g){return g&&g.__esModule?g:{default:g}}var f=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function m(g){var _=g.grouping===void 0||g.thousands===void 0?u.default:(0,e.default)(f.call(g.grouping,Number),g.thousands+""),y=g.currency===void 0?"":g.currency[0]+"",w=g.currency===void 0?"":g.currency[1]+"",x=g.decimal===void 0?".":g.decimal+"",T=g.numerals===void 0?u.default:(0,n.default)(f.call(g.numerals,String)),E=g.percent===void 0?"%":g.percent+"",S=g.minus===void 0?"−":g.minus+"",O=g.nan===void 0?"NaN":g.nan+"";function N(M){M=(0,r.default)(M);var R=M.fill,k=M.align,I=M.sign,L=M.symbol,V=M.zero,A=M.width,H=M.comma,X=M.precision,Q=M.trim,J=M.type;J==="n"?(H=!0,J="g"):o.default[J]||(X===void 0&&(X=12),Q=!0,J="g"),(V||R==="0"&&k==="=")&&(V=!0,R="0",k="=");var j=L==="$"?y:L==="#"&&/[boxX]/.test(J)?"0"+J.toLowerCase():"",ue=L==="$"?w:/[%p]/.test(J)?E:"",re=o.default[J],W=/[defgprs%]/.test(J);X=X===void 0?6:/[gprs]/.test(J)?Math.max(1,Math.min(21,X)):Math.max(0,Math.min(20,X));function oe(le){var B=j,te=ue,pe,ce,Pe;if(J==="c")te=re(le)+te,le="";else{le=+le;var de=le<0||1/le<0;if(le=isNaN(le)?O:re(Math.abs(le),X),Q&&(le=(0,i.default)(le)),de&&+le==0&&I!=="+"&&(de=!1),B=(de?I==="("?I:S:I==="-"||I==="("?"":I)+B,te=(J==="s"?h[8+s.prefixExponent/3]:"")+te+(de&&I==="("?")":""),W){for(pe=-1,ce=le.length;++pe<ce;)if(Pe=le.charCodeAt(pe),48>Pe||Pe>57){te=(Pe===46?x+le.slice(pe+1):le.slice(pe))+te,le=le.slice(0,pe);break}}}H&&!V&&(le=_(le,1/0));var me=B.length+le.length+te.length,be=me<A?new Array(A-me+1).join(R):"";switch(H&&V&&(le=_(be+le,be.length?A-te.length:1/0),be=""),k){case"<":le=B+le+te+be;break;case"=":le=B+be+le+te;break;case"^":le=be.slice(0,me=be.length>>1)+B+le+te+be.slice(me);break;default:le=be+B+le+te;break}return T(le)}return oe.toString=function(){return M+""},oe}function $(M,R){var k=N((M=(0,r.default)(M),M.type="f",M)),I=Math.max(-8,Math.min(8,Math.floor((0,t.default)(R)/3)))*3,L=Math.pow(10,-I),V=h[8+I/3];return function(A){return k(L*A)+V}}return{format:N,formatPrefix:$}}return um}var fM;function YK(){if(fM)return Di;fM=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.default=o,Di.formatPrefix=Di.format=void 0;var t=e(VL());function e(s){return s&&s.__esModule?s:{default:s}}var n,r;Di.format=r;var i;Di.formatPrefix=i,o({thousands:",",grouping:[3],currency:["$",""]});function o(s){return n=(0,t.default)(s),Di.format=r=n.format,Di.formatPrefix=i=n.formatPrefix,n}return Di}var mm={},dM;function QK(){if(dM)return mm;dM=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.default=n;var t=e(Kv());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){return Math.max(0,-(0,t.default)(Math.abs(r)))}return mm}var gm={},hM;function XK(){if(hM)return gm;hM=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.default=n;var t=e(Kv());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){return Math.max(0,Math.max(-8,Math.min(8,Math.floor((0,t.default)(i)/3)))*3-(0,t.default)(Math.abs(r)))}return gm}var vm={},pM;function JK(){if(pM)return vm;pM=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.default=n;var t=e(Kv());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){return r=Math.abs(r),i=Math.abs(i)-r,Math.max(0,(0,t.default)(i)-(0,t.default)(r))+1}return vm}var mM;function FL(){return mM||(mM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FormatSpecifier",{enumerable:!0,get:function(){return r.FormatSpecifier}}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return e.format}}),Object.defineProperty(t,"formatDefaultLocale",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"formatLocale",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"formatPrefix",{enumerable:!0,get:function(){return e.formatPrefix}}),Object.defineProperty(t,"formatSpecifier",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"precisionFixed",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"precisionPrefix",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"precisionRound",{enumerable:!0,get:function(){return s.default}});var e=f(YK()),n=u(VL()),r=f(NL()),i=u(QK()),o=u(XK()),s=u(JK());function u(h){return h&&h.__esModule?h:{default:h}}function c(h){if(typeof WeakMap!="function")return null;var m=new WeakMap,g=new WeakMap;return(c=function(_){return _?g:m})(h)}function f(h,m){if(h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var g=c(m);if(g&&g.has(h))return g.get(h);var _={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in h)if(w!=="default"&&Object.prototype.hasOwnProperty.call(h,w)){var x=y?Object.getOwnPropertyDescriptor(h,w):null;x&&(x.get||x.set)?Object.defineProperty(_,w,x):_[w]=h[w]}return _.default=h,g&&g.set(h,_),_}}(yw)),yw}var gM;function qL(){if(gM)return sm;gM=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.default=n;var t=wi(),e=FL();function n(r,i,o,s){var u=(0,t.tickStep)(r,i,o),c;switch(s=(0,e.formatSpecifier)(s??",f"),s.type){case"s":{var f=Math.max(Math.abs(r),Math.abs(i));return s.precision==null&&!isNaN(c=(0,e.precisionPrefix)(u,f))&&(s.precision=c),(0,e.formatPrefix)(s,f)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(c=(0,e.precisionRound)(u,Math.max(Math.abs(r),Math.abs(i))))&&(s.precision=c-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(c=(0,e.precisionFixed)(u))&&(s.precision=c-(s.type==="%")*2);break}}return(0,e.format)(s)}return sm}var vM;function Za(){if(vM)return of;vM=1,Object.defineProperty(of,"__esModule",{value:!0}),of.default=c,of.linearish=u;var t=wi(),e=s(Ho()),n=Wn(),r=i(qL());function i(f){return f&&f.__esModule?f:{default:f}}function o(f){if(typeof WeakMap!="function")return null;var h=new WeakMap,m=new WeakMap;return(o=function(g){return g?m:h})(f)}function s(f,h){if(f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var m=o(h);if(m&&m.has(f))return m.get(f);var g={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in f)if(y!=="default"&&Object.prototype.hasOwnProperty.call(f,y)){var w=_?Object.getOwnPropertyDescriptor(f,y):null;w&&(w.get||w.set)?Object.defineProperty(g,y,w):g[y]=f[y]}return g.default=f,m&&m.set(f,g),g}function u(f){var h=f.domain;return f.ticks=function(m){var g=h();return(0,t.ticks)(g[0],g[g.length-1],m??10)},f.tickFormat=function(m,g){var _=h();return(0,r.default)(_[0],_[_.length-1],m??10,g)},f.nice=function(m){m==null&&(m=10);var g=h(),_=0,y=g.length-1,w=g[_],x=g[y],T,E,S=10;for(x<w&&(E=w,w=x,x=E,E=_,_=y,y=E);S-- >0;){if(E=(0,t.tickIncrement)(w,x,m),E===T)return g[_]=w,g[y]=x,h(g);if(E>0)w=Math.floor(w/E)*E,x=Math.ceil(x/E)*E;else if(E<0)w=Math.ceil(w*E)/E,x=Math.floor(x*E)/E;else break;T=E}return f},f}function c(){var f=(0,e.default)();return f.copy=function(){return(0,e.copy)(f,c())},n.initRange.apply(f,arguments),u(f)}return of}var yM;function ZK(){if(yM)return Hp;yM=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.default=r;var t=Za(),e=n(Fb());function n(i){return i&&i.__esModule?i:{default:i}}function r(i){var o;function s(u){return u==null||isNaN(u=+u)?o:u}return s.invert=s,s.domain=s.range=function(u){return arguments.length?(i=Array.from(u,e.default),s):i.slice()},s.unknown=function(u){return arguments.length?(o=u,s):o},s.copy=function(){return r(i).unknown(o)},i=arguments.length?Array.from(i,e.default):[0,1],(0,t.linearish)(s)}return Hp}var vf={},ym={},_M;function $L(){if(_M)return ym;_M=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.default=t;function t(e,n){e=e.slice();var r=0,i=e.length-1,o=e[r],s=e[i],u;return s<o&&(u=r,r=i,i=u,u=o,o=s,s=u),e[r]=n.floor(o),e[i]=n.ceil(s),e}return ym}var wM;function qb(){if(wM)return vf;wM=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.default=w,vf.loggish=y;var t=wi(),e=FL(),n=o($L()),r=Ho(),i=Wn();function o(x){return x&&x.__esModule?x:{default:x}}function s(x){return Math.log(x)}function u(x){return Math.exp(x)}function c(x){return-Math.log(-x)}function f(x){return-Math.exp(-x)}function h(x){return isFinite(x)?+("1e"+x):x<0?0:x}function m(x){return x===10?h:x===Math.E?Math.exp:T=>Math.pow(x,T)}function g(x){return x===Math.E?Math.log:x===10&&Math.log10||x===2&&Math.log2||(x=Math.log(x),T=>Math.log(T)/x)}function _(x){return(T,E)=>-x(-T,E)}function y(x){const T=x(s,u),E=T.domain;let S=10,O,N;function $(){return O=g(S),N=m(S),E()[0]<0?(O=_(O),N=_(N),x(c,f)):x(s,u),T}return T.base=function(M){return arguments.length?(S=+M,$()):S},T.domain=function(M){return arguments.length?(E(M),$()):E()},T.ticks=M=>{const R=E();let k=R[0],I=R[R.length-1];const L=I<k;L&&([k,I]=[I,k]);let V=O(k),A=O(I),H,X;const Q=M==null?10:+M;let J=[];if(!(S%1)&&A-V<Q){if(V=Math.floor(V),A=Math.ceil(A),k>0){for(;V<=A;++V)for(H=1;H<S;++H)if(X=V<0?H/N(-V):H*N(V),!(X<k)){if(X>I)break;J.push(X)}}else for(;V<=A;++V)for(H=S-1;H>=1;--H)if(X=V>0?H/N(-V):H*N(V),!(X<k)){if(X>I)break;J.push(X)}J.length*2<Q&&(J=(0,t.ticks)(k,I,Q))}else J=(0,t.ticks)(V,A,Math.min(A-V,Q)).map(N);return L?J.reverse():J},T.tickFormat=(M,R)=>{if(M==null&&(M=10),R==null&&(R=S===10?"s":","),typeof R!="function"&&(!(S%1)&&(R=(0,e.formatSpecifier)(R)).precision==null&&(R.trim=!0),R=(0,e.format)(R)),M===1/0)return R;const k=Math.max(1,S*M/T.ticks().length);return I=>{let L=I/N(Math.round(O(I)));return L*S<S-.5&&(L*=S),L<=k?R(I):""}},T.nice=()=>E((0,n.default)(E(),{floor:M=>N(Math.floor(O(M))),ceil:M=>N(Math.ceil(O(M)))})),T}function w(){const x=y((0,r.transformer)()).domain([1,10]);return x.copy=()=>(0,r.copy)(x,w()).base(x.base()),i.initRange.apply(x,arguments),x}return vf}var yf={},xM;function $b(){if(xM)return yf;xM=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.default=s,yf.symlogish=o;var t=Za(),e=Ho(),n=Wn();function r(u){return function(c){return Math.sign(c)*Math.log1p(Math.abs(c/u))}}function i(u){return function(c){return Math.sign(c)*Math.expm1(Math.abs(c))*u}}function o(u){var c=1,f=u(r(c),i(c));return f.constant=function(h){return arguments.length?u(r(c=+h),i(c)):c},(0,t.linearish)(f)}function s(){var u=o((0,e.transformer)());return u.copy=function(){return(0,e.copy)(u,s()).constant(u.constant())},n.initRange.apply(u,arguments)}return yf}var ll={},bM;function Ub(){if(bM)return ll;bM=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.default=u,ll.powish=s,ll.sqrt=c;var t=Za(),e=Ho(),n=Wn();function r(f){return function(h){return h<0?-Math.pow(-h,f):Math.pow(h,f)}}function i(f){return f<0?-Math.sqrt(-f):Math.sqrt(f)}function o(f){return f<0?-f*f:f*f}function s(f){var h=f(e.identity,e.identity),m=1;function g(){return m===1?f(e.identity,e.identity):m===.5?f(i,o):f(r(m),r(1/m))}return h.exponent=function(_){return arguments.length?(m=+_,g()):m},(0,t.linearish)(h)}function u(){var f=s((0,e.transformer)());return f.copy=function(){return(0,e.copy)(f,u()).exponent(f.exponent())},n.initRange.apply(f,arguments),f}function c(){return u.apply(null,arguments).exponent(.5)}return ll}var _m={},TM;function eY(){if(TM)return _m;TM=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.default=u;var t=i(Ho()),e=Wn(),n=Za(),r=i(Fb());function i(c){return c&&c.__esModule?c:{default:c}}function o(c){return Math.sign(c)*c*c}function s(c){return Math.sign(c)*Math.sqrt(Math.abs(c))}function u(){var c=(0,t.default)(),f=[0,1],h=!1,m;function g(_){var y=s(c(_));return isNaN(y)?m:h?Math.round(y):y}return g.invert=function(_){return c.invert(o(_))},g.domain=function(_){return arguments.length?(c.domain(_),g):c.domain()},g.range=function(_){return arguments.length?(c.range((f=Array.from(_,r.default)).map(o)),g):f.slice()},g.rangeRound=function(_){return g.range(_).round(!0)},g.round=function(_){return arguments.length?(h=!!_,g):h},g.clamp=function(_){return arguments.length?(c.clamp(_),g):c.clamp()},g.unknown=function(_){return arguments.length?(m=_,g):m},g.copy=function(){return u(c.domain(),f).round(h).clamp(c.clamp()).unknown(m)},e.initRange.apply(g,arguments),(0,n.linearish)(g)}return _m}var wm={},EM;function tY(){if(EM)return wm;EM=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.default=n;var t=wi(),e=Wn();function n(){var r=[],i=[],o=[],s;function u(){var f=0,h=Math.max(1,i.length);for(o=new Array(h-1);++f<h;)o[f-1]=(0,t.quantileSorted)(r,f/h);return c}function c(f){return f==null||isNaN(f=+f)?s:i[(0,t.bisect)(o,f)]}return c.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:[h>0?o[h-1]:r[0],h<o.length?o[h]:r[r.length-1]]},c.domain=function(f){if(!arguments.length)return r.slice();r=[];for(let h of f)h!=null&&!isNaN(h=+h)&&r.push(h);return r.sort(t.ascending),u()},c.range=function(f){return arguments.length?(i=Array.from(f),u()):i.slice()},c.unknown=function(f){return arguments.length?(s=f,c):s},c.quantiles=function(){return o.slice()},c.copy=function(){return n().domain(r).range(i).unknown(s)},e.initRange.apply(c,arguments)}return wm}var xm={},SM;function nY(){if(SM)return xm;SM=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.default=r;var t=wi(),e=Za(),n=Wn();function r(){var i=0,o=1,s=1,u=[.5],c=[0,1],f;function h(g){return g!=null&&g<=g?c[(0,t.bisect)(u,g,0,s)]:f}function m(){var g=-1;for(u=new Array(s);++g<s;)u[g]=((g+1)*o-(g-s)*i)/(s+1);return h}return h.domain=function(g){return arguments.length?([i,o]=g,i=+i,o=+o,m()):[i,o]},h.range=function(g){return arguments.length?(s=(c=Array.from(g)).length-1,m()):c.slice()},h.invertExtent=function(g){var _=c.indexOf(g);return _<0?[NaN,NaN]:_<1?[i,u[0]]:_>=s?[u[s-1],o]:[u[_-1],u[_]]},h.unknown=function(g){return arguments.length&&(f=g),h},h.thresholds=function(){return u.slice()},h.copy=function(){return r().domain([i,o]).range(c).unknown(f)},n.initRange.apply((0,e.linearish)(h),arguments)}return xm}var bm={},PM;function rY(){if(PM)return bm;PM=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.default=n;var t=wi(),e=Wn();function n(){var r=[.5],i=[0,1],o,s=1;function u(c){return c!=null&&c<=c?i[(0,t.bisect)(r,c,0,s)]:o}return u.domain=function(c){return arguments.length?(r=Array.from(c),s=Math.min(r.length,i.length-1),u):r.slice()},u.range=function(c){return arguments.length?(i=Array.from(c),s=Math.min(r.length,i.length-1),u):i.slice()},u.invertExtent=function(c){var f=i.indexOf(c);return[r[f-1],r[f]]},u.unknown=function(c){return arguments.length?(o=c,u):o},u.copy=function(){return n().domain(r).range(i).unknown(o)},e.initRange.apply(u,arguments)}return bm}var _f={},_w={},Tm={},CM;function Go(){if(CM)return Tm;CM=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.timeInterval=n;const t=new Date,e=new Date;function n(r,i,o,s){function u(c){return r(c=arguments.length===0?new Date:new Date(+c)),c}return u.floor=c=>(r(c=new Date(+c)),c),u.ceil=c=>(r(c=new Date(c-1)),i(c,1),r(c),c),u.round=c=>{const f=u(c),h=u.ceil(c);return c-f<h-c?f:h},u.offset=(c,f)=>(i(c=new Date(+c),f==null?1:Math.floor(f)),c),u.range=(c,f,h)=>{const m=[];if(c=u.ceil(c),h=h==null?1:Math.floor(h),!(c<f)||!(h>0))return m;let g;do m.push(g=new Date(+c)),i(c,h),r(c);while(g<c&&c<f);return m},u.filter=c=>n(f=>{if(f>=f)for(;r(f),!c(f);)f.setTime(f-1)},(f,h)=>{if(f>=f)if(h<0)for(;++h<=0;)for(;i(f,-1),!c(f););else for(;--h>=0;)for(;i(f,1),!c(f););}),o&&(u.count=(c,f)=>(t.setTime(+c),e.setTime(+f),r(t),r(e),Math.floor(o(t,e))),u.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?u.filter(s?f=>s(f)%c===0:f=>u.count(0,f)%c===0):u)),u}return Tm}var qs={},RM;function UL(){if(RM)return qs;RM=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.milliseconds=qs.millisecond=void 0;var t=Go();const e=(0,t.timeInterval)(()=>{},(r,i)=>{r.setTime(+r+i)},(r,i)=>i-r);qs.millisecond=e,e.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?(0,t.timeInterval)(i=>{i.setTime(Math.floor(i/r)*r)},(i,o)=>{i.setTime(+i+o*r)},(i,o)=>(o-i)/r):e);const n=e.range;return qs.milliseconds=n,qs}var $s={},_n={},IM;function lc(){if(IM)return _n;IM=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.durationYear=_n.durationWeek=_n.durationSecond=_n.durationMonth=_n.durationMinute=_n.durationHour=_n.durationDay=void 0;const t=1e3;_n.durationSecond=t;const e=t*60;_n.durationMinute=e;const n=e*60;_n.durationHour=n;const r=n*24;_n.durationDay=r;const i=r*7;_n.durationWeek=i;const o=r*30;_n.durationMonth=o;const s=r*365;return _n.durationYear=s,_n}var kM;function jL(){if(kM)return $s;kM=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.seconds=$s.second=void 0;var t=Go(),e=lc();const n=(0,t.timeInterval)(i=>{i.setTime(i-i.getMilliseconds())},(i,o)=>{i.setTime(+i+o*e.durationSecond)},(i,o)=>(o-i)/e.durationSecond,i=>i.getUTCSeconds());$s.second=n;const r=n.range;return $s.seconds=r,$s}var ei={},MM;function zL(){if(MM)return ei;MM=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.utcMinutes=ei.utcMinute=ei.timeMinutes=ei.timeMinute=void 0;var t=Go(),e=lc();const n=(0,t.timeInterval)(s=>{s.setTime(s-s.getMilliseconds()-s.getSeconds()*e.durationSecond)},(s,u)=>{s.setTime(+s+u*e.durationMinute)},(s,u)=>(u-s)/e.durationMinute,s=>s.getMinutes());ei.timeMinute=n;const r=n.range;ei.timeMinutes=r;const i=(0,t.timeInterval)(s=>{s.setUTCSeconds(0,0)},(s,u)=>{s.setTime(+s+u*e.durationMinute)},(s,u)=>(u-s)/e.durationMinute,s=>s.getUTCMinutes());ei.utcMinute=i;const o=i.range;return ei.utcMinutes=o,ei}var ti={},AM;function BL(){if(AM)return ti;AM=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.utcHours=ti.utcHour=ti.timeHours=ti.timeHour=void 0;var t=Go(),e=lc();const n=(0,t.timeInterval)(s=>{s.setTime(s-s.getMilliseconds()-s.getSeconds()*e.durationSecond-s.getMinutes()*e.durationMinute)},(s,u)=>{s.setTime(+s+u*e.durationHour)},(s,u)=>(u-s)/e.durationHour,s=>s.getHours());ti.timeHour=n;const r=n.range;ti.timeHours=r;const i=(0,t.timeInterval)(s=>{s.setUTCMinutes(0,0,0)},(s,u)=>{s.setTime(+s+u*e.durationHour)},(s,u)=>(u-s)/e.durationHour,s=>s.getUTCHours());ti.utcHour=i;const o=i.range;return ti.utcHours=o,ti}var Bn={},OM;function WL(){if(OM)return Bn;OM=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.utcDays=Bn.utcDay=Bn.unixDays=Bn.unixDay=Bn.timeDays=Bn.timeDay=void 0;var t=Go(),e=lc();const n=(0,t.timeInterval)(c=>c.setHours(0,0,0,0),(c,f)=>c.setDate(c.getDate()+f),(c,f)=>(f-c-(f.getTimezoneOffset()-c.getTimezoneOffset())*e.durationMinute)/e.durationDay,c=>c.getDate()-1);Bn.timeDay=n;const r=n.range;Bn.timeDays=r;const i=(0,t.timeInterval)(c=>{c.setUTCHours(0,0,0,0)},(c,f)=>{c.setUTCDate(c.getUTCDate()+f)},(c,f)=>(f-c)/e.durationDay,c=>c.getUTCDate()-1);Bn.utcDay=i;const o=i.range;Bn.utcDays=o;const s=(0,t.timeInterval)(c=>{c.setUTCHours(0,0,0,0)},(c,f)=>{c.setUTCDate(c.getUTCDate()+f)},(c,f)=>(f-c)/e.durationDay,c=>Math.floor(c/e.durationDay));Bn.unixDay=s;const u=s.range;return Bn.unixDays=u,Bn}var Fe={},DM;function HL(){if(DM)return Fe;DM=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.utcWednesdays=Fe.utcWednesday=Fe.utcTuesdays=Fe.utcTuesday=Fe.utcThursdays=Fe.utcThursday=Fe.utcSundays=Fe.utcSunday=Fe.utcSaturdays=Fe.utcSaturday=Fe.utcMondays=Fe.utcMonday=Fe.utcFridays=Fe.utcFriday=Fe.timeWednesdays=Fe.timeWednesday=Fe.timeTuesdays=Fe.timeTuesday=Fe.timeThursdays=Fe.timeThursday=Fe.timeSundays=Fe.timeSunday=Fe.timeSaturdays=Fe.timeSaturday=Fe.timeMondays=Fe.timeMonday=Fe.timeFridays=Fe.timeFriday=void 0;var t=Go(),e=lc();function n(Q){return(0,t.timeInterval)(J=>{J.setDate(J.getDate()-(J.getDay()+7-Q)%7),J.setHours(0,0,0,0)},(J,j)=>{J.setDate(J.getDate()+j*7)},(J,j)=>(j-J-(j.getTimezoneOffset()-J.getTimezoneOffset())*e.durationMinute)/e.durationWeek)}const r=n(0);Fe.timeSunday=r;const i=n(1);Fe.timeMonday=i;const o=n(2);Fe.timeTuesday=o;const s=n(3);Fe.timeWednesday=s;const u=n(4);Fe.timeThursday=u;const c=n(5);Fe.timeFriday=c;const f=n(6);Fe.timeSaturday=f;const h=r.range;Fe.timeSundays=h;const m=i.range;Fe.timeMondays=m;const g=o.range;Fe.timeTuesdays=g;const _=s.range;Fe.timeWednesdays=_;const y=u.range;Fe.timeThursdays=y;const w=c.range;Fe.timeFridays=w;const x=f.range;Fe.timeSaturdays=x;function T(Q){return(0,t.timeInterval)(J=>{J.setUTCDate(J.getUTCDate()-(J.getUTCDay()+7-Q)%7),J.setUTCHours(0,0,0,0)},(J,j)=>{J.setUTCDate(J.getUTCDate()+j*7)},(J,j)=>(j-J)/e.durationWeek)}const E=T(0);Fe.utcSunday=E;const S=T(1);Fe.utcMonday=S;const O=T(2);Fe.utcTuesday=O;const N=T(3);Fe.utcWednesday=N;const $=T(4);Fe.utcThursday=$;const M=T(5);Fe.utcFriday=M;const R=T(6);Fe.utcSaturday=R;const k=E.range;Fe.utcSundays=k;const I=S.range;Fe.utcMondays=I;const L=O.range;Fe.utcTuesdays=L;const V=N.range;Fe.utcWednesdays=V;const A=$.range;Fe.utcThursdays=A;const H=M.range;Fe.utcFridays=H;const X=R.range;return Fe.utcSaturdays=X,Fe}var ni={},NM;function GL(){if(NM)return ni;NM=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.utcMonths=ni.utcMonth=ni.timeMonths=ni.timeMonth=void 0;var t=Go();const e=(0,t.timeInterval)(o=>{o.setDate(1),o.setHours(0,0,0,0)},(o,s)=>{o.setMonth(o.getMonth()+s)},(o,s)=>s.getMonth()-o.getMonth()+(s.getFullYear()-o.getFullYear())*12,o=>o.getMonth());ni.timeMonth=e;const n=e.range;ni.timeMonths=n;const r=(0,t.timeInterval)(o=>{o.setUTCDate(1),o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCMonth(o.getUTCMonth()+s)},(o,s)=>s.getUTCMonth()-o.getUTCMonth()+(s.getUTCFullYear()-o.getUTCFullYear())*12,o=>o.getUTCMonth());ni.utcMonth=r;const i=r.range;return ni.utcMonths=i,ni}var ri={},LM;function KL(){if(LM)return ri;LM=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.utcYears=ri.utcYear=ri.timeYears=ri.timeYear=void 0;var t=Go();const e=(0,t.timeInterval)(o=>{o.setMonth(0,1),o.setHours(0,0,0,0)},(o,s)=>{o.setFullYear(o.getFullYear()+s)},(o,s)=>s.getFullYear()-o.getFullYear(),o=>o.getFullYear());ri.timeYear=e,e.every=o=>!isFinite(o=Math.floor(o))||!(o>0)?null:(0,t.timeInterval)(s=>{s.setFullYear(Math.floor(s.getFullYear()/o)*o),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,u)=>{s.setFullYear(s.getFullYear()+u*o)});const n=e.range;ri.timeYears=n;const r=(0,t.timeInterval)(o=>{o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCFullYear(o.getUTCFullYear()+s)},(o,s)=>s.getUTCFullYear()-o.getUTCFullYear(),o=>o.getUTCFullYear());ri.utcYear=r,r.every=o=>!isFinite(o=Math.floor(o))||!(o>0)?null:(0,t.timeInterval)(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/o)*o),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,u)=>{s.setUTCFullYear(s.getUTCFullYear()+u*o)});const i=r.range;return ri.utcYears=i,ri}var ii={},VM;function iY(){if(VM)return ii;VM=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.utcTicks=ii.utcTickInterval=ii.timeTicks=ii.timeTickInterval=void 0;var t=wi(),e=lc(),n=UL(),r=jL(),i=zL(),o=BL(),s=WL(),u=HL(),c=GL(),f=KL();function h(w,x,T,E,S,O){const N=[[r.second,1,e.durationSecond],[r.second,5,5*e.durationSecond],[r.second,15,15*e.durationSecond],[r.second,30,30*e.durationSecond],[O,1,e.durationMinute],[O,5,5*e.durationMinute],[O,15,15*e.durationMinute],[O,30,30*e.durationMinute],[S,1,e.durationHour],[S,3,3*e.durationHour],[S,6,6*e.durationHour],[S,12,12*e.durationHour],[E,1,e.durationDay],[E,2,2*e.durationDay],[T,1,e.durationWeek],[x,1,e.durationMonth],[x,3,3*e.durationMonth],[w,1,e.durationYear]];function $(R,k,I){const L=k<R;L&&([R,k]=[k,R]);const V=I&&typeof I.range=="function"?I:M(R,k,I),A=V?V.range(R,+k+1):[];return L?A.reverse():A}function M(R,k,I){const L=Math.abs(k-R)/I,V=(0,t.bisector)(([,,X])=>X).right(N,L);if(V===N.length)return w.every((0,t.tickStep)(R/e.durationYear,k/e.durationYear,I));if(V===0)return n.millisecond.every(Math.max((0,t.tickStep)(R,k,I),1));const[A,H]=N[L/N[V-1][2]<N[V][2]/L?V-1:V];return A.every(H)}return[$,M]}const[m,g]=h(f.utcYear,c.utcMonth,u.utcSunday,s.unixDay,o.utcHour,i.utcMinute);ii.utcTickInterval=g,ii.utcTicks=m;const[_,y]=h(f.timeYear,c.timeMonth,u.timeSunday,s.timeDay,o.timeHour,i.timeMinute);return ii.timeTickInterval=y,ii.timeTicks=_,ii}var FM;function Yv(){return FM||(FM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"timeDay",{enumerable:!0,get:function(){return s.timeDay}}),Object.defineProperty(t,"timeDays",{enumerable:!0,get:function(){return s.timeDays}}),Object.defineProperty(t,"timeFriday",{enumerable:!0,get:function(){return u.timeFriday}}),Object.defineProperty(t,"timeFridays",{enumerable:!0,get:function(){return u.timeFridays}}),Object.defineProperty(t,"timeHour",{enumerable:!0,get:function(){return o.timeHour}}),Object.defineProperty(t,"timeHours",{enumerable:!0,get:function(){return o.timeHours}}),Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return e.timeInterval}}),Object.defineProperty(t,"timeMillisecond",{enumerable:!0,get:function(){return n.millisecond}}),Object.defineProperty(t,"timeMilliseconds",{enumerable:!0,get:function(){return n.milliseconds}}),Object.defineProperty(t,"timeMinute",{enumerable:!0,get:function(){return i.timeMinute}}),Object.defineProperty(t,"timeMinutes",{enumerable:!0,get:function(){return i.timeMinutes}}),Object.defineProperty(t,"timeMonday",{enumerable:!0,get:function(){return u.timeMonday}}),Object.defineProperty(t,"timeMondays",{enumerable:!0,get:function(){return u.timeMondays}}),Object.defineProperty(t,"timeMonth",{enumerable:!0,get:function(){return c.timeMonth}}),Object.defineProperty(t,"timeMonths",{enumerable:!0,get:function(){return c.timeMonths}}),Object.defineProperty(t,"timeSaturday",{enumerable:!0,get:function(){return u.timeSaturday}}),Object.defineProperty(t,"timeSaturdays",{enumerable:!0,get:function(){return u.timeSaturdays}}),Object.defineProperty(t,"timeSecond",{enumerable:!0,get:function(){return r.second}}),Object.defineProperty(t,"timeSeconds",{enumerable:!0,get:function(){return r.seconds}}),Object.defineProperty(t,"timeSunday",{enumerable:!0,get:function(){return u.timeSunday}}),Object.defineProperty(t,"timeSundays",{enumerable:!0,get:function(){return u.timeSundays}}),Object.defineProperty(t,"timeThursday",{enumerable:!0,get:function(){return u.timeThursday}}),Object.defineProperty(t,"timeThursdays",{enumerable:!0,get:function(){return u.timeThursdays}}),Object.defineProperty(t,"timeTickInterval",{enumerable:!0,get:function(){return h.timeTickInterval}}),Object.defineProperty(t,"timeTicks",{enumerable:!0,get:function(){return h.timeTicks}}),Object.defineProperty(t,"timeTuesday",{enumerable:!0,get:function(){return u.timeTuesday}}),Object.defineProperty(t,"timeTuesdays",{enumerable:!0,get:function(){return u.timeTuesdays}}),Object.defineProperty(t,"timeWednesday",{enumerable:!0,get:function(){return u.timeWednesday}}),Object.defineProperty(t,"timeWednesdays",{enumerable:!0,get:function(){return u.timeWednesdays}}),Object.defineProperty(t,"timeWeek",{enumerable:!0,get:function(){return u.timeSunday}}),Object.defineProperty(t,"timeWeeks",{enumerable:!0,get:function(){return u.timeSundays}}),Object.defineProperty(t,"timeYear",{enumerable:!0,get:function(){return f.timeYear}}),Object.defineProperty(t,"timeYears",{enumerable:!0,get:function(){return f.timeYears}}),Object.defineProperty(t,"unixDay",{enumerable:!0,get:function(){return s.unixDay}}),Object.defineProperty(t,"unixDays",{enumerable:!0,get:function(){return s.unixDays}}),Object.defineProperty(t,"utcDay",{enumerable:!0,get:function(){return s.utcDay}}),Object.defineProperty(t,"utcDays",{enumerable:!0,get:function(){return s.utcDays}}),Object.defineProperty(t,"utcFriday",{enumerable:!0,get:function(){return u.utcFriday}}),Object.defineProperty(t,"utcFridays",{enumerable:!0,get:function(){return u.utcFridays}}),Object.defineProperty(t,"utcHour",{enumerable:!0,get:function(){return o.utcHour}}),Object.defineProperty(t,"utcHours",{enumerable:!0,get:function(){return o.utcHours}}),Object.defineProperty(t,"utcMillisecond",{enumerable:!0,get:function(){return n.millisecond}}),Object.defineProperty(t,"utcMilliseconds",{enumerable:!0,get:function(){return n.milliseconds}}),Object.defineProperty(t,"utcMinute",{enumerable:!0,get:function(){return i.utcMinute}}),Object.defineProperty(t,"utcMinutes",{enumerable:!0,get:function(){return i.utcMinutes}}),Object.defineProperty(t,"utcMonday",{enumerable:!0,get:function(){return u.utcMonday}}),Object.defineProperty(t,"utcMondays",{enumerable:!0,get:function(){return u.utcMondays}}),Object.defineProperty(t,"utcMonth",{enumerable:!0,get:function(){return c.utcMonth}}),Object.defineProperty(t,"utcMonths",{enumerable:!0,get:function(){return c.utcMonths}}),Object.defineProperty(t,"utcSaturday",{enumerable:!0,get:function(){return u.utcSaturday}}),Object.defineProperty(t,"utcSaturdays",{enumerable:!0,get:function(){return u.utcSaturdays}}),Object.defineProperty(t,"utcSecond",{enumerable:!0,get:function(){return r.second}}),Object.defineProperty(t,"utcSeconds",{enumerable:!0,get:function(){return r.seconds}}),Object.defineProperty(t,"utcSunday",{enumerable:!0,get:function(){return u.utcSunday}}),Object.defineProperty(t,"utcSundays",{enumerable:!0,get:function(){return u.utcSundays}}),Object.defineProperty(t,"utcThursday",{enumerable:!0,get:function(){return u.utcThursday}}),Object.defineProperty(t,"utcThursdays",{enumerable:!0,get:function(){return u.utcThursdays}}),Object.defineProperty(t,"utcTickInterval",{enumerable:!0,get:function(){return h.utcTickInterval}}),Object.defineProperty(t,"utcTicks",{enumerable:!0,get:function(){return h.utcTicks}}),Object.defineProperty(t,"utcTuesday",{enumerable:!0,get:function(){return u.utcTuesday}}),Object.defineProperty(t,"utcTuesdays",{enumerable:!0,get:function(){return u.utcTuesdays}}),Object.defineProperty(t,"utcWednesday",{enumerable:!0,get:function(){return u.utcWednesday}}),Object.defineProperty(t,"utcWednesdays",{enumerable:!0,get:function(){return u.utcWednesdays}}),Object.defineProperty(t,"utcWeek",{enumerable:!0,get:function(){return u.utcSunday}}),Object.defineProperty(t,"utcWeeks",{enumerable:!0,get:function(){return u.utcSundays}}),Object.defineProperty(t,"utcYear",{enumerable:!0,get:function(){return f.utcYear}}),Object.defineProperty(t,"utcYears",{enumerable:!0,get:function(){return f.utcYears}});var e=Go(),n=UL(),r=jL(),i=zL(),o=BL(),s=WL(),u=HL(),c=GL(),f=KL(),h=iY()}(_w)),_w}var ww={},An={},Em={},qM;function YL(){if(qM)return Em;qM=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.default=i;var t=Yv();function e(G){if(0<=G.y&&G.y<100){var ae=new Date(-1,G.m,G.d,G.H,G.M,G.S,G.L);return ae.setFullYear(G.y),ae}return new Date(G.y,G.m,G.d,G.H,G.M,G.S,G.L)}function n(G){if(0<=G.y&&G.y<100){var ae=new Date(Date.UTC(-1,G.m,G.d,G.H,G.M,G.S,G.L));return ae.setUTCFullYear(G.y),ae}return new Date(Date.UTC(G.y,G.m,G.d,G.H,G.M,G.S,G.L))}function r(G,ae,ye){return{y:G,m:ae,d:ye,H:0,M:0,S:0,L:0}}function i(G){var ae=G.dateTime,ye=G.date,Ee=G.time,Qt=G.periods,cr=G.days,Er=G.shortDays,bi=G.months,Gn=G.shortMonths,as=m(Qt),Dt=g(Qt),Yo=m(cr),fr=g(cr),io=m(Er),oo=g(Er),Qo=m(bi),dr=g(bi),ss=m(Gn),mc=g(Gn),Kn={a:so,A:Ti,b:Qn,B:cs,c:null,d:J,e:J,f:oe,g:Xe,G:ht,H:j,I:ue,j:re,L:W,m:le,M:B,p:_u,q:uo,Q:xi,s:ro,S:te,u:pe,U:ce,V:de,w:me,W:be,x:null,X:null,y:fe,Y:Be,Z:gt,"%":Ko},Sr={a:$n,A:wu,b:pn,B:fs,c:null,d:kt,e:kt,f:qe,g:ns,G:is,H:ur,I:Vn,j:lr,L:Fn,m:qr,M:qn,p:xu,q:bu,Q:xi,s:ro,S:pt,u:Et,U:vt,V:to,w:hn,W:Hn,x:null,X:null,y:no,Y:rs,Z:os,"%":Ko},hr={a:Xo,A:Jo,b:ls,B:vu,c:gc,d:M,e:M,f:A,g:S,G:E,H:k,I:k,j:R,L:V,m:$,M:I,p:us,q:N,Q:X,s:Q,S:L,u:y,U:w,V:x,w:_,W:T,x:_t,X:yu,y:S,Y:E,Z:O,"%":H};Kn.x=En(ye,Kn),Kn.X=En(Ee,Kn),Kn.c=En(ae,Kn),Sr.x=En(ye,Sr),Sr.X=En(Ee,Sr),Sr.c=En(ae,Sr);function En(Ie,Qe){return function(Je){var xe=[],rn=-1,it=0,wt=Ie.length,$t,Sn,$r;for(Je instanceof Date||(Je=new Date(+Je));++rn<wt;)Ie.charCodeAt(rn)===37&&(xe.push(Ie.slice(it,rn)),(Sn=o[$t=Ie.charAt(++rn)])!=null?$t=Ie.charAt(++rn):Sn=$t==="e"?" ":"0",($r=Qe[$t])&&($t=$r(Je,Sn)),xe.push($t),it=rn+1);return xe.push(Ie.slice(it,rn)),xe.join("")}}function Yn(Ie,Qe){return function(Je){var xe=r(1900,void 0,1),rn=ao(xe,Ie,Je+="",0),it,wt;if(rn!=Je.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Qe&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(it=n(r(xe.y,0,1)),wt=it.getUTCDay(),it=wt>4||wt===0?t.utcMonday.ceil(it):(0,t.utcMonday)(it),it=t.utcDay.offset(it,(xe.V-1)*7),xe.y=it.getUTCFullYear(),xe.m=it.getUTCMonth(),xe.d=it.getUTCDate()+(xe.w+6)%7):(it=e(r(xe.y,0,1)),wt=it.getDay(),it=wt>4||wt===0?t.timeMonday.ceil(it):(0,t.timeMonday)(it),it=t.timeDay.offset(it,(xe.V-1)*7),xe.y=it.getFullYear(),xe.m=it.getMonth(),xe.d=it.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),wt="Z"in xe?n(r(xe.y,0,1)).getUTCDay():e(r(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(wt+5)%7:xe.w+xe.U*7-(wt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,n(xe)):e(xe)}}function ao(Ie,Qe,Je,xe){for(var rn=0,it=Qe.length,wt=Je.length,$t,Sn;rn<it;){if(xe>=wt)return-1;if($t=Qe.charCodeAt(rn++),$t===37){if($t=Qe.charAt(rn++),Sn=hr[$t in o?Qe.charAt(rn++):$t],!Sn||(xe=Sn(Ie,Je,xe))<0)return-1}else if($t!=Je.charCodeAt(xe++))return-1}return xe}function us(Ie,Qe,Je){var xe=as.exec(Qe.slice(Je));return xe?(Ie.p=Dt.get(xe[0].toLowerCase()),Je+xe[0].length):-1}function Xo(Ie,Qe,Je){var xe=io.exec(Qe.slice(Je));return xe?(Ie.w=oo.get(xe[0].toLowerCase()),Je+xe[0].length):-1}function Jo(Ie,Qe,Je){var xe=Yo.exec(Qe.slice(Je));return xe?(Ie.w=fr.get(xe[0].toLowerCase()),Je+xe[0].length):-1}function ls(Ie,Qe,Je){var xe=ss.exec(Qe.slice(Je));return xe?(Ie.m=mc.get(xe[0].toLowerCase()),Je+xe[0].length):-1}function vu(Ie,Qe,Je){var xe=Qo.exec(Qe.slice(Je));return xe?(Ie.m=dr.get(xe[0].toLowerCase()),Je+xe[0].length):-1}function gc(Ie,Qe,Je){return ao(Ie,ae,Qe,Je)}function _t(Ie,Qe,Je){return ao(Ie,ye,Qe,Je)}function yu(Ie,Qe,Je){return ao(Ie,Ee,Qe,Je)}function so(Ie){return Er[Ie.getDay()]}function Ti(Ie){return cr[Ie.getDay()]}function Qn(Ie){return Gn[Ie.getMonth()]}function cs(Ie){return bi[Ie.getMonth()]}function _u(Ie){return Qt[+(Ie.getHours()>=12)]}function uo(Ie){return 1+~~(Ie.getMonth()/3)}function $n(Ie){return Er[Ie.getUTCDay()]}function wu(Ie){return cr[Ie.getUTCDay()]}function pn(Ie){return Gn[Ie.getUTCMonth()]}function fs(Ie){return bi[Ie.getUTCMonth()]}function xu(Ie){return Qt[+(Ie.getUTCHours()>=12)]}function bu(Ie){return 1+~~(Ie.getUTCMonth()/3)}return{format:function(Ie){var Qe=En(Ie+="",Kn);return Qe.toString=function(){return Ie},Qe},parse:function(Ie){var Qe=Yn(Ie+="",!1);return Qe.toString=function(){return Ie},Qe},utcFormat:function(Ie){var Qe=En(Ie+="",Sr);return Qe.toString=function(){return Ie},Qe},utcParse:function(Ie){var Qe=Yn(Ie+="",!0);return Qe.toString=function(){return Ie},Qe}}}var o={"-":"",_:" ",0:"0"},s=/^\s*\d+/,u=/^%/,c=/[\\^$*+?|[\]().{}]/g;function f(G,ae,ye){var Ee=G<0?"-":"",Qt=(Ee?-G:G)+"",cr=Qt.length;return Ee+(cr<ye?new Array(ye-cr+1).join(ae)+Qt:Qt)}function h(G){return G.replace(c,"\\$&")}function m(G){return new RegExp("^(?:"+G.map(h).join("|")+")","i")}function g(G){return new Map(G.map((ae,ye)=>[ae.toLowerCase(),ye]))}function _(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+1));return Ee?(G.w=+Ee[0],ye+Ee[0].length):-1}function y(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+1));return Ee?(G.u=+Ee[0],ye+Ee[0].length):-1}function w(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.U=+Ee[0],ye+Ee[0].length):-1}function x(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.V=+Ee[0],ye+Ee[0].length):-1}function T(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.W=+Ee[0],ye+Ee[0].length):-1}function E(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+4));return Ee?(G.y=+Ee[0],ye+Ee[0].length):-1}function S(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.y=+Ee[0]+(+Ee[0]>68?1900:2e3),ye+Ee[0].length):-1}function O(G,ae,ye){var Ee=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ae.slice(ye,ye+6));return Ee?(G.Z=Ee[1]?0:-(Ee[2]+(Ee[3]||"00")),ye+Ee[0].length):-1}function N(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+1));return Ee?(G.q=Ee[0]*3-3,ye+Ee[0].length):-1}function $(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.m=Ee[0]-1,ye+Ee[0].length):-1}function M(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.d=+Ee[0],ye+Ee[0].length):-1}function R(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+3));return Ee?(G.m=0,G.d=+Ee[0],ye+Ee[0].length):-1}function k(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.H=+Ee[0],ye+Ee[0].length):-1}function I(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.M=+Ee[0],ye+Ee[0].length):-1}function L(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+2));return Ee?(G.S=+Ee[0],ye+Ee[0].length):-1}function V(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+3));return Ee?(G.L=+Ee[0],ye+Ee[0].length):-1}function A(G,ae,ye){var Ee=s.exec(ae.slice(ye,ye+6));return Ee?(G.L=Math.floor(Ee[0]/1e3),ye+Ee[0].length):-1}function H(G,ae,ye){var Ee=u.exec(ae.slice(ye,ye+1));return Ee?ye+Ee[0].length:-1}function X(G,ae,ye){var Ee=s.exec(ae.slice(ye));return Ee?(G.Q=+Ee[0],ye+Ee[0].length):-1}function Q(G,ae,ye){var Ee=s.exec(ae.slice(ye));return Ee?(G.s=+Ee[0],ye+Ee[0].length):-1}function J(G,ae){return f(G.getDate(),ae,2)}function j(G,ae){return f(G.getHours(),ae,2)}function ue(G,ae){return f(G.getHours()%12||12,ae,2)}function re(G,ae){return f(1+t.timeDay.count((0,t.timeYear)(G),G),ae,3)}function W(G,ae){return f(G.getMilliseconds(),ae,3)}function oe(G,ae){return W(G,ae)+"000"}function le(G,ae){return f(G.getMonth()+1,ae,2)}function B(G,ae){return f(G.getMinutes(),ae,2)}function te(G,ae){return f(G.getSeconds(),ae,2)}function pe(G){var ae=G.getDay();return ae===0?7:ae}function ce(G,ae){return f(t.timeSunday.count((0,t.timeYear)(G)-1,G),ae,2)}function Pe(G){var ae=G.getDay();return ae>=4||ae===0?(0,t.timeThursday)(G):t.timeThursday.ceil(G)}function de(G,ae){return G=Pe(G),f(t.timeThursday.count((0,t.timeYear)(G),G)+((0,t.timeYear)(G).getDay()===4),ae,2)}function me(G){return G.getDay()}function be(G,ae){return f(t.timeMonday.count((0,t.timeYear)(G)-1,G),ae,2)}function fe(G,ae){return f(G.getFullYear()%100,ae,2)}function Xe(G,ae){return G=Pe(G),f(G.getFullYear()%100,ae,2)}function Be(G,ae){return f(G.getFullYear()%1e4,ae,4)}function ht(G,ae){var ye=G.getDay();return G=ye>=4||ye===0?(0,t.timeThursday)(G):t.timeThursday.ceil(G),f(G.getFullYear()%1e4,ae,4)}function gt(G){var ae=G.getTimezoneOffset();return(ae>0?"-":(ae*=-1,"+"))+f(ae/60|0,"0",2)+f(ae%60,"0",2)}function kt(G,ae){return f(G.getUTCDate(),ae,2)}function ur(G,ae){return f(G.getUTCHours(),ae,2)}function Vn(G,ae){return f(G.getUTCHours()%12||12,ae,2)}function lr(G,ae){return f(1+t.utcDay.count((0,t.utcYear)(G),G),ae,3)}function Fn(G,ae){return f(G.getUTCMilliseconds(),ae,3)}function qe(G,ae){return Fn(G,ae)+"000"}function qr(G,ae){return f(G.getUTCMonth()+1,ae,2)}function qn(G,ae){return f(G.getUTCMinutes(),ae,2)}function pt(G,ae){return f(G.getUTCSeconds(),ae,2)}function Et(G){var ae=G.getUTCDay();return ae===0?7:ae}function vt(G,ae){return f(t.utcSunday.count((0,t.utcYear)(G)-1,G),ae,2)}function zt(G){var ae=G.getUTCDay();return ae>=4||ae===0?(0,t.utcThursday)(G):t.utcThursday.ceil(G)}function to(G,ae){return G=zt(G),f(t.utcThursday.count((0,t.utcYear)(G),G)+((0,t.utcYear)(G).getUTCDay()===4),ae,2)}function hn(G){return G.getUTCDay()}function Hn(G,ae){return f(t.utcMonday.count((0,t.utcYear)(G)-1,G),ae,2)}function no(G,ae){return f(G.getUTCFullYear()%100,ae,2)}function ns(G,ae){return G=zt(G),f(G.getUTCFullYear()%100,ae,2)}function rs(G,ae){return f(G.getUTCFullYear()%1e4,ae,4)}function is(G,ae){var ye=G.getUTCDay();return G=ye>=4||ye===0?(0,t.utcThursday)(G):t.utcThursday.ceil(G),f(G.getUTCFullYear()%1e4,ae,4)}function os(){return"+0000"}function Ko(){return"%"}function xi(G){return+G}function ro(G){return Math.floor(+G/1e3)}return Em}var $M;function jb(){if($M)return An;$M=1,Object.defineProperty(An,"__esModule",{value:!0}),An.default=u,An.utcParse=An.utcFormat=An.timeParse=An.timeFormat=void 0;var t=e(YL());function e(c){return c&&c.__esModule?c:{default:c}}var n,r;An.timeFormat=r;var i;An.timeParse=i;var o;An.utcFormat=o;var s;An.utcParse=s,u({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function u(c){return n=(0,t.default)(c),An.timeFormat=r=n.format,An.timeParse=i=n.parse,An.utcFormat=o=n.utcFormat,An.utcParse=s=n.utcParse,n}return An}var Us={},UM;function QL(){if(UM)return Us;UM=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.isoSpecifier=Us.default=void 0;var t=jb(),e="%Y-%m-%dT%H:%M:%S.%LZ";Us.isoSpecifier=e;function n(o){return o.toISOString()}var r=Date.prototype.toISOString?n:(0,t.utcFormat)(e),i=r;return Us.default=i,Us}var wf={},jM;function oY(){if(jM)return wf;jM=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.default=void 0;var t=QL(),e=jb();function n(o){var s=new Date(o);return isNaN(s)?null:s}var r=+new Date("2000-01-01T00:00:00.000Z")?n:(0,e.utcParse)(t.isoSpecifier),i=r;return wf.default=i,wf}var zM;function XL(){return zM||(zM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isoFormat",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"isoParse",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"timeFormat",{enumerable:!0,get:function(){return e.timeFormat}}),Object.defineProperty(t,"timeFormatDefaultLocale",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"timeFormatLocale",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"timeParse",{enumerable:!0,get:function(){return e.timeParse}}),Object.defineProperty(t,"utcFormat",{enumerable:!0,get:function(){return e.utcFormat}}),Object.defineProperty(t,"utcParse",{enumerable:!0,get:function(){return e.utcParse}});var e=u(jb()),n=o(YL()),r=o(QL()),i=o(oY());function o(c){return c&&c.__esModule?c:{default:c}}function s(c){if(typeof WeakMap!="function")return null;var f=new WeakMap,h=new WeakMap;return(s=function(m){return m?h:f})(c)}function u(c,f){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var h=s(f);if(h&&h.has(c))return h.get(c);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in c)if(_!=="default"&&Object.prototype.hasOwnProperty.call(c,_)){var y=g?Object.getOwnPropertyDescriptor(c,_):null;y&&(y.get||y.set)?Object.defineProperty(m,_,y):m[_]=c[_]}return m.default=c,h&&h.set(c,m),m}}(ww)),ww}var BM;function JL(){if(BM)return _f;BM=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.calendar=h,_f.default=m;var t=Yv(),e=XL(),n=u(Ho()),r=Wn(),i=o($L());function o(g){return g&&g.__esModule?g:{default:g}}function s(g){if(typeof WeakMap!="function")return null;var _=new WeakMap,y=new WeakMap;return(s=function(w){return w?y:_})(g)}function u(g,_){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var y=s(_);if(y&&y.has(g))return y.get(g);var w={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in g)if(T!=="default"&&Object.prototype.hasOwnProperty.call(g,T)){var E=x?Object.getOwnPropertyDescriptor(g,T):null;E&&(E.get||E.set)?Object.defineProperty(w,T,E):w[T]=g[T]}return w.default=g,y&&y.set(g,w),w}function c(g){return new Date(g)}function f(g){return g instanceof Date?+g:+new Date(+g)}function h(g,_,y,w,x,T,E,S,O,N){var $=(0,n.default)(),M=$.invert,R=$.domain,k=N(".%L"),I=N(":%S"),L=N("%I:%M"),V=N("%I %p"),A=N("%a %d"),H=N("%b %d"),X=N("%B"),Q=N("%Y");function J(j){return(O(j)<j?k:S(j)<j?I:E(j)<j?L:T(j)<j?V:w(j)<j?x(j)<j?A:H:y(j)<j?X:Q)(j)}return $.invert=function(j){return new Date(M(j))},$.domain=function(j){return arguments.length?R(Array.from(j,f)):R().map(c)},$.ticks=function(j){var ue=R();return g(ue[0],ue[ue.length-1],j??10)},$.tickFormat=function(j,ue){return ue==null?J:N(ue)},$.nice=function(j){var ue=R();return(!j||typeof j.range!="function")&&(j=_(ue[0],ue[ue.length-1],j??10)),j?R((0,i.default)(ue,j)):$},$.copy=function(){return(0,n.copy)($,h(g,_,y,w,x,T,E,S,O,N))},$}function m(){return r.initRange.apply(h(t.timeTicks,t.timeTickInterval,t.timeYear,t.timeMonth,t.timeWeek,t.timeDay,t.timeHour,t.timeMinute,t.timeSecond,e.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}return _f}var Sm={},WM;function aY(){if(WM)return Sm;WM=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.default=i;var t=Yv(),e=XL(),n=JL(),r=Wn();function i(){return r.initRange.apply((0,n.calendar)(t.utcTicks,t.utcTickInterval,t.utcYear,t.utcMonth,t.utcWeek,t.utcDay,t.utcHour,t.utcMinute,t.utcSecond,e.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}return Sm}var Eo={},HM;function ZL(){if(HM)return Eo;HM=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.copy=c,Eo.default=f,Eo.sequentialLog=h,Eo.sequentialPow=g,Eo.sequentialSqrt=_,Eo.sequentialSymlog=m;var t=Hv(),e=Ho(),n=Wn(),r=Za(),i=qb(),o=$b(),s=Ub();function u(){var y=0,w=1,x,T,E,S,O=e.identity,N=!1,$;function M(k){return k==null||isNaN(k=+k)?$:O(E===0?.5:(k=(S(k)-x)*E,N?Math.max(0,Math.min(1,k)):k))}M.domain=function(k){return arguments.length?([y,w]=k,x=S(y=+y),T=S(w=+w),E=x===T?0:1/(T-x),M):[y,w]},M.clamp=function(k){return arguments.length?(N=!!k,M):N},M.interpolator=function(k){return arguments.length?(O=k,M):O};function R(k){return function(I){var L,V;return arguments.length?([L,V]=I,O=k(L,V),M):[O(0),O(1)]}}return M.range=R(t.interpolate),M.rangeRound=R(t.interpolateRound),M.unknown=function(k){return arguments.length?($=k,M):$},function(k){return S=k,x=k(y),T=k(w),E=x===T?0:1/(T-x),M}}function c(y,w){return w.domain(y.domain()).interpolator(y.interpolator()).clamp(y.clamp()).unknown(y.unknown())}function f(){var y=(0,r.linearish)(u()(e.identity));return y.copy=function(){return c(y,f())},n.initInterpolator.apply(y,arguments)}function h(){var y=(0,i.loggish)(u()).domain([1,10]);return y.copy=function(){return c(y,h()).base(y.base())},n.initInterpolator.apply(y,arguments)}function m(){var y=(0,o.symlogish)(u());return y.copy=function(){return c(y,m()).constant(y.constant())},n.initInterpolator.apply(y,arguments)}function g(){var y=(0,s.powish)(u());return y.copy=function(){return c(y,g()).exponent(y.exponent())},n.initInterpolator.apply(y,arguments)}function _(){return g.apply(null,arguments).exponent(.5)}return Eo}var Pm={},GM;function sY(){if(GM)return Pm;GM=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.default=r;var t=wi(),e=Ho(),n=Wn();function r(){var i=[],o=e.identity;function s(u){if(u!=null&&!isNaN(u=+u))return o(((0,t.bisect)(i,u,1)-1)/(i.length-1))}return s.domain=function(u){if(!arguments.length)return i.slice();i=[];for(let c of u)c!=null&&!isNaN(c=+c)&&i.push(c);return i.sort(t.ascending),s},s.interpolator=function(u){return arguments.length?(o=u,s):o},s.range=function(){return i.map((u,c)=>o(c/(i.length-1)))},s.quantiles=function(u){return Array.from({length:u+1},(c,f)=>(0,t.quantile)(i,f/u))},s.copy=function(){return r(o).domain(i)},n.initInterpolator.apply(s,arguments)}return Pm}var wa={},KM;function uY(){if(KM)return wa;KM=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.default=f,wa.divergingLog=h,wa.divergingPow=g,wa.divergingSqrt=_,wa.divergingSymlog=m;var t=Hv(),e=Ho(),n=Wn(),r=Za(),i=qb(),o=ZL(),s=$b(),u=Ub();function c(){var y=0,w=.5,x=1,T=1,E,S,O,N,$,M=e.identity,R,k=!1,I;function L(A){return isNaN(A=+A)?I:(A=.5+((A=+R(A))-S)*(T*A<T*S?N:$),M(k?Math.max(0,Math.min(1,A)):A))}L.domain=function(A){return arguments.length?([y,w,x]=A,E=R(y=+y),S=R(w=+w),O=R(x=+x),N=E===S?0:.5/(S-E),$=S===O?0:.5/(O-S),T=S<E?-1:1,L):[y,w,x]},L.clamp=function(A){return arguments.length?(k=!!A,L):k},L.interpolator=function(A){return arguments.length?(M=A,L):M};function V(A){return function(H){var X,Q,J;return arguments.length?([X,Q,J]=H,M=(0,t.piecewise)(A,[X,Q,J]),L):[M(0),M(.5),M(1)]}}return L.range=V(t.interpolate),L.rangeRound=V(t.interpolateRound),L.unknown=function(A){return arguments.length?(I=A,L):I},function(A){return R=A,E=A(y),S=A(w),O=A(x),N=E===S?0:.5/(S-E),$=S===O?0:.5/(O-S),T=S<E?-1:1,L}}function f(){var y=(0,r.linearish)(c()(e.identity));return y.copy=function(){return(0,o.copy)(y,f())},n.initInterpolator.apply(y,arguments)}function h(){var y=(0,i.loggish)(c()).domain([.1,1,10]);return y.copy=function(){return(0,o.copy)(y,h()).base(y.base())},n.initInterpolator.apply(y,arguments)}function m(){var y=(0,s.symlogish)(c());return y.copy=function(){return(0,o.copy)(y,m()).constant(y.constant())},n.initInterpolator.apply(y,arguments)}function g(){var y=(0,u.powish)(c());return y.copy=function(){return(0,o.copy)(y,g()).exponent(y.exponent())},n.initInterpolator.apply(y,arguments)}function _(){return g.apply(null,arguments).exponent(.5)}return wa}var YM;function lY(){return YM||(YM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"scaleBand",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"scaleDiverging",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"scaleDivergingLog",{enumerable:!0,get:function(){return x.divergingLog}}),Object.defineProperty(t,"scaleDivergingPow",{enumerable:!0,get:function(){return x.divergingPow}}),Object.defineProperty(t,"scaleDivergingSqrt",{enumerable:!0,get:function(){return x.divergingSqrt}}),Object.defineProperty(t,"scaleDivergingSymlog",{enumerable:!0,get:function(){return x.divergingSymlog}}),Object.defineProperty(t,"scaleIdentity",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"scaleImplicit",{enumerable:!0,get:function(){return s.implicit}}),Object.defineProperty(t,"scaleLinear",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"scaleLog",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"scaleOrdinal",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"scalePoint",{enumerable:!0,get:function(){return e.point}}),Object.defineProperty(t,"scalePow",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"scaleQuantile",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"scaleQuantize",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"scaleRadial",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"scaleSequential",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"scaleSequentialLog",{enumerable:!0,get:function(){return y.sequentialLog}}),Object.defineProperty(t,"scaleSequentialPow",{enumerable:!0,get:function(){return y.sequentialPow}}),Object.defineProperty(t,"scaleSequentialQuantile",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"scaleSequentialSqrt",{enumerable:!0,get:function(){return y.sequentialSqrt}}),Object.defineProperty(t,"scaleSequentialSymlog",{enumerable:!0,get:function(){return y.sequentialSymlog}}),Object.defineProperty(t,"scaleSqrt",{enumerable:!0,get:function(){return u.sqrt}}),Object.defineProperty(t,"scaleSymlog",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"scaleThreshold",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"scaleTime",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"scaleUtc",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"tickFormat",{enumerable:!0,get:function(){return T.default}});var e=O(PK()),n=E(ZK()),r=E(Za()),i=E(qb()),o=E($b()),s=O(PL()),u=O(Ub()),c=E(eY()),f=E(tY()),h=E(nY()),m=E(rY()),g=E(JL()),_=E(aY()),y=O(ZL()),w=E(sY()),x=O(uY()),T=E(qL());function E(N){return N&&N.__esModule?N:{default:N}}function S(N){if(typeof WeakMap!="function")return null;var $=new WeakMap,M=new WeakMap;return(S=function(R){return R?M:$})(N)}function O(N,$){if(N&&N.__esModule)return N;if(N===null||typeof N!="object"&&typeof N!="function")return{default:N};var M=S($);if(M&&M.has(N))return M.get(N);var R={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in N)if(I!=="default"&&Object.prototype.hasOwnProperty.call(N,I)){var L=k?Object.getOwnPropertyDescriptor(N,I):null;L&&(L.get||L.set)?Object.defineProperty(R,I,L):R[I]=N[I]}return R.default=N,M&&M.set(N,R),R}}(pw)),pw}var xw,QM;function cY(){return QM||(QM=1,xw=lY()),xw}var cl={},Cm={},XM;function fY(){if(XM)return Cm;XM=1,Cm.__esModule=!0,Cm.default=t;function t(e,n){n.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(n.domain))}return Cm}var Rm={},JM;function dY(){if(JM)return Rm;JM=1,Rm.__esModule=!0,Rm.default=t;function t(e,n){n.range&&("padding"in e,e.range(n.range))}return Rm}var Im={},ZM;function hY(){if(ZM)return Im;ZM=1,Im.__esModule=!0,Im.default=t;function t(e,n){"align"in e&&"align"in n&&typeof n.align<"u"&&e.align(n.align)}return Im}var km={},eA;function pY(){if(eA)return km;eA=1,km.__esModule=!0,km.default=t;function t(e,n){"base"in e&&"base"in n&&typeof n.base<"u"&&e.base(n.base)}return km}var Mm={},tA;function mY(){if(tA)return Mm;tA=1,Mm.__esModule=!0,Mm.default=t;function t(e,n){"clamp"in e&&"clamp"in n&&typeof n.clamp<"u"&&e.clamp(n.clamp)}return Mm}var Am={},nA;function gY(){if(nA)return Am;nA=1,Am.__esModule=!0,Am.default=t;function t(e,n){"constant"in e&&"constant"in n&&typeof n.constant<"u"&&e.constant(n.constant)}return Am}var Om={},rA;function vY(){if(rA)return Om;rA=1,Om.__esModule=!0,Om.default=t;function t(e,n){"exponent"in e&&"exponent"in n&&typeof n.exponent<"u"&&e.exponent(n.exponent)}return Om}var Dm={},Nm={},bw,iA;function eV(){return iA||(iA=1,bw=Hv()),bw}var oA;function yY(){if(oA)return Nm;oA=1,Nm.__esModule=!0,Nm.default=n;var t=eV(),e={lab:t.interpolateLab,hcl:t.interpolateHcl,"hcl-long":t.interpolateHclLong,hsl:t.interpolateHsl,"hsl-long":t.interpolateHslLong,cubehelix:t.interpolateCubehelix,"cubehelix-long":t.interpolateCubehelixLong,rgb:t.interpolateRgb};function n(r){switch(r){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return e[r]}var i=r.type,o=r.gamma,s=e[i];return typeof o>"u"?s:s.gamma(o)}return Nm}var aA;function _Y(){if(aA)return Dm;aA=1,Dm.__esModule=!0,Dm.default=n;var t=e(yY());function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){if("interpolate"in i&&"interpolate"in r&&typeof i.interpolate<"u"){var o=(0,t.default)(i.interpolate);r.interpolate(o)}}return Dm}var Lm={},Tw,sA;function wY(){return sA||(sA=1,Tw=Yv()),Tw}var Vm={},uA;function xY(){if(uA)return Vm;uA=1,Vm.__esModule=!0,Vm.default=n;var t=new Date(Date.UTC(2020,1,2,3,4,5)),e="%Y-%m-%d %H:%M";function n(r){var i=r.tickFormat(1,e)(t);return i==="2020-02-02 03:04"}return Vm}var lA;function bY(){if(lA)return Lm;lA=1,Lm.__esModule=!0,Lm.default=o;var t=wY(),e=n(xY());function n(s){return s&&s.__esModule?s:{default:s}}var r={day:t.timeDay,hour:t.timeHour,minute:t.timeMinute,month:t.timeMonth,second:t.timeSecond,week:t.timeWeek,year:t.timeYear},i={day:t.utcDay,hour:t.utcHour,minute:t.utcMinute,month:t.utcMonth,second:t.utcSecond,week:t.utcWeek,year:t.utcYear};function o(s,u){if("nice"in u&&typeof u.nice<"u"&&"nice"in s){var c=u.nice;if(typeof c=="boolean")c&&s.nice();else if(typeof c=="number")s.nice(c);else{var f=s,h=(0,e.default)(f);if(typeof c=="string")f.nice(h?i[c]:r[c]);else{var m=c.interval,g=c.step,_=(h?i[m]:r[m]).every(g);_!=null&&f.nice(_)}}}}return Lm}var Fm={},cA;function TY(){if(cA)return Fm;cA=1,Fm.__esModule=!0,Fm.default=t;function t(e,n){"padding"in e&&"padding"in n&&typeof n.padding<"u"&&e.padding(n.padding),"paddingInner"in e&&"paddingInner"in n&&typeof n.paddingInner<"u"&&e.paddingInner(n.paddingInner),"paddingOuter"in e&&"paddingOuter"in n&&typeof n.paddingOuter<"u"&&e.paddingOuter(n.paddingOuter)}return Fm}var qm={},fA;function EY(){if(fA)return qm;fA=1,qm.__esModule=!0,qm.default=t;function t(e,n){if(n.reverse){var r=e.range().slice().reverse();"padding"in e,e.range(r)}}return qm}var $m={},dA;function SY(){if(dA)return $m;dA=1,$m.__esModule=!0,$m.default=e;var t=eV();function e(n,r){"round"in r&&typeof r.round<"u"&&(r.round&&"interpolate"in r&&typeof r.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",r):"round"in n?n.round(r.round):"interpolate"in n&&r.round&&n.interpolate(t.interpolateRound))}return $m}var Um={},hA;function PY(){if(hA)return Um;hA=1,Um.__esModule=!0,Um.default=t;function t(e,n){"unknown"in e&&"unknown"in n&&typeof n.unknown<"u"&&e.unknown(n.unknown)}return Um}var jm={},pA;function CY(){if(pA)return jm;pA=1,jm.__esModule=!0,jm.default=t;function t(e,n){if("zero"in n&&n.zero===!0){var r=e.domain(),i=r[0],o=r[1],s=o<i,u=s?[o,i]:[i,o],c=u[0],f=u[1],h=[Math.min(0,c),Math.max(0,f)];e.domain(s?h.reverse():h)}}return jm}var mA;function RY(){if(mA)return cl;mA=1,cl.__esModule=!0,cl.ALL_OPERATORS=void 0,cl.default=T;var t=y(fY()),e=y(dY()),n=y(hY()),r=y(pY()),i=y(mY()),o=y(gY()),s=y(vY()),u=y(_Y()),c=y(bY()),f=y(TY()),h=y(EY()),m=y(SY()),g=y(PY()),_=y(CY());function y(E){return E&&E.__esModule?E:{default:E}}var w=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"];cl.ALL_OPERATORS=w;var x={domain:t.default,nice:c.default,zero:_.default,interpolate:u.default,round:m.default,align:n.default,base:r.default,clamp:i.default,constant:o.default,exponent:s.default,padding:f.default,range:e.default,reverse:h.default,unknown:g.default};function T(){for(var E=arguments.length,S=new Array(E),O=0;O<E;O++)S[O]=arguments[O];var N=new Set(S),$=w.filter(function(M){return N.has(M)});return function(R,k){return typeof k<"u"&&$.forEach(function(I){x[I](R,k)}),R}}return cl}var gA;function IY(){if(gA)return tl;gA=1,tl.__esModule=!0,tl.default=i,tl.updateOrdinalScale=void 0;var t=cY(),e=n(RY());function n(o){return o&&o.__esModule?o:{default:o}}var r=(0,e.default)("domain","range","reverse","unknown");tl.updateOrdinalScale=r;function i(o){return r((0,t.scaleOrdinal)(),o)}return tl}var kY=IY();const MY=Xi(kY);var Ea={red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"]},Rf=Ea.gray,Ew=Rf[7],AY=[Ea.cyan[9],Ea.cyan[3],Ea.yellow[5],Ea.red[4],Ea.grape[8],Ea.grape[5],Ea.pink[9]];function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ct.apply(this,arguments)}var Sw={fontFamily:"-apple-system,BlinkMacSystemFont,Roboto,Helvetica Neue,sans-serif",fontWeight:700,fontSize:12,textAnchor:"middle",pointerEvents:"none",letterSpacing:.4};function OY(t){var e,n,r,i,o,s,u=Ct({},Sw,{fill:Ew,stroke:"none"},t.svgLabelBig),c=Ct({},Sw,{fontWeight:200,fontSize:11,fill:Ew,stroke:"none"},t.svgLabelSmall),f=Ct({color:(e=(n=(r=(i=t.htmlLabel)==null?void 0:i.color)!=null?r:(o=t.svgLabelBig)==null?void 0:o.fill)!=null?n:(s=t.svgLabelSmall)==null?void 0:s.fill)!=null?e:Ew},Sw,t.htmlLabel);return{backgroundColor:t.backgroundColor,colors:[].concat(t.colors),htmlLabel:Ct({},f),svgLabelSmall:Ct({},c),svgLabelBig:Ct({},u),gridStyles:Ct({stroke:t.gridColor,strokeWidth:1},t.gridStyles),axisStyles:{x:{top:{axisLabel:Ct({},u,{dy:"-0.25em"}),axisLine:Ct({stroke:t.gridColorDark,strokeWidth:2},t.xAxisLineStyles),tickLabel:Ct({},c,{dy:"-0.25em"}),tickLength:t.tickLength,tickLine:Ct({strokeWidth:1,stroke:t.gridColor},t.xTickLineStyles)},bottom:{axisLabel:Ct({},u,{dy:"-0.25em"}),axisLine:Ct({stroke:t.gridColorDark,strokeWidth:2},t.xAxisLineStyles),tickLabel:Ct({},c,{dy:"0.125em"}),tickLength:t.tickLength,tickLine:Ct({strokeWidth:1,stroke:t.gridColor},t.xTickLineStyles)}},y:{left:{axisLabel:Ct({},u,{dx:"-1.25em"}),axisLine:Ct({stroke:t.gridColor,strokeWidth:1},t.yAxisLineStyles),tickLabel:Ct({},c,{textAnchor:"end",dx:"-0.25em",dy:"0.25em"}),tickLength:t.tickLength,tickLine:Ct({strokeWidth:1,stroke:t.gridColor},t.yTickLineStyles)},right:{axisLabel:Ct({},u,{dx:"1.25em"}),axisLine:Ct({stroke:t.gridColor,strokeWidth:1},t.yAxisLineStyles),tickLabel:Ct({},c,{textAnchor:"start",dx:"0.25em",dy:"0.25em"}),tickLength:t.tickLength,tickLine:Ct({strokeWidth:1,stroke:t.gridColor},t.yTickLineStyles)}}}}}const DY=OY({backgroundColor:"#fff",colors:AY,tickLength:4,svgLabelSmall:{fill:Rf[7]},svgLabelBig:{fill:Rf[9]},gridColor:Rf[5],gridColorDark:Rf[9]});var NY=$e.createContext(DY),LY=function(){function t(){this.registry={},this.registryKeys=[]}var e=t.prototype;return e.registerData=function(r){var i=this,o=Array.isArray(r)?r:[r];o.forEach(function(s){s.key in i.registry&&i.registry[s.key]!=null&&console.debug("Overriding data registry key",s.key),i.registry[s.key]=s,i.registryKeys=Object.keys(i.registry)})},e.unregisterData=function(r){var i=this,o=Array.isArray(r)?r:[r];o.forEach(function(s){delete i.registry[s],i.registryKeys=Object.keys(i.registry)})},e.entries=function(){return Object.values(this.registry)},e.get=function(r){return this.registry[r]},e.keys=function(){return this.registryKeys},t}();function VY(){var t=F.useState(Math.random()),e=t[1],n=F.useMemo(function(){return new LY},[]);return F.useMemo(function(){return{registerData:function(){n.registerData.apply(n,arguments),e(Math.random())},unregisterData:function(){n.unregisterData.apply(n,arguments),e(Math.random())},entries:function(){return n.entries()},get:function(i){return n.get(i)},keys:function(){return n.keys()}}},[n])}var Pw={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};function FY(t){var e=F.useState({width:(t==null?void 0:t.width)==null?Pw.width:t.width,height:(t==null?void 0:t.height)==null?Pw.height:t.height,margin:(t==null?void 0:t.margin)==null?Pw.margin:t.margin}),n=e[0],r=e[1],i=F.useCallback(function(o){(o.width!==n.width||o.height!==n.height||o.margin.left!==n.margin.left||o.margin.right!==n.margin.right||o.margin.top!==n.margin.top||o.margin.bottom!==n.margin.bottom)&&r(o)},[n.width,n.height,n.margin.left,n.margin.right,n.margin.bottom,n.margin.top]);return[n,i]}function $1(t){return(t==null?void 0:t.type)==="band"||(t==null?void 0:t.type)==="ordinal"||(t==null?void 0:t.type)==="point"}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function qY(t){var e=t.dataRegistry,n=t.xRange,r=t.xScaleConfig,i=t.yRange,o=t.yScaleConfig,s=e.keys(),u=n[0],c=n[1],f=i[0],h=i[1],m=F.useMemo(function(){var _=s.map(function(T){return e.get(T)}),y=_.reduce(function(T,E){return E?T.concat(E.data.map(function(S){return E.xAccessor(S)})):T},[]);if(y.length!==0){var w=$1(r)?y:eR(y),x=jR(r)?Gh(bl({range:[u,c],domain:w,zero:!0},r)):Gh(bl({range:[u,c],domain:w},r));return _.forEach(function(T){T!=null&&T.xScale&&(x=T.xScale(x))}),x}},[e,r,s,u,c]),g=F.useMemo(function(){var _=s.map(function(T){return e.get(T)}),y=_.reduce(function(T,E){return E?T.concat(E.data.map(function(S){return E.yAccessor(S)})):T},[]);if(y.length!==0){var w=$1(o)?y:eR(y),x=jR(o)?Gh(bl({range:[f,h],domain:w,zero:!0},o)):Gh(bl({range:[f,h],domain:w},o));return _.forEach(function(T){T!=null&&T.yScale&&(x=T.yScale(x))}),x}},[e,o,s,f,h]);return{xScale:m,yScale:g}}function tV(t){var e=t.initialDimensions,n=t.theme,r=t.xScale,i=t.yScale,o=t.children,s=t.horizontal,u=s===void 0?"auto":s,c=t.resizeObserverPolyfill,f=F.useContext(NY),h=n||f,m=FY(e),g=m[0],_=g.width,y=g.height,w=g.margin,x=m[1],T=Math.max(0,_-w.left-w.right),E=Math.max(0,y-w.top-w.bottom),S=VY(),O=qY({dataRegistry:S,xScaleConfig:r,yScaleConfig:i,xRange:[w.left,Math.max(0,_-w.right)],yRange:[Math.max(0,y-w.bottom),w.top]}),N=O.xScale,$=O.yScale,M=S.keys(),R=F.useMemo(function(){return MY({domain:M,range:h.colors})},[M,h.colors]),k=u==="auto"?$1(i)||i.type==="time"||i.type==="utc":u,I=F.useMemo(function(){return{dataRegistry:S,registerData:S.registerData,unregisterData:S.unregisterData,xScale:N,yScale:$,colorScale:R,theme:h,width:_,height:y,margin:w,innerWidth:T,innerHeight:E,setDimensions:x,horizontal:k,resizeObserverPolyfill:c}},[R,S,y,k,E,T,w,x,h,_,N,$,c]);return $e.createElement(mu.Provider,{value:I},o)}tV.propTypes={children:et.node.isRequired,horizontal:et.oneOfType([et.bool,et.oneOf(["auto"])])};function nV(t){var e=t.source,n=t.onPointerOut,r=n===void 0?!0:n,i=t.onPointerMove,o=i===void 0?!0:i,s=t.onPointerUp,u=s===void 0?!0:s,c=t.onPointerDown,f=c===void 0?!0:c,h=t.onFocus,m=h===void 0?!1:h,g=t.onBlur,_=g===void 0?!1:g,y=Pa(),w=F.useCallback(function(N){return y==null?void 0:y("pointermove",N,e)},[y,e]),x=F.useCallback(function(N){return y==null?void 0:y("pointerout",N,e)},[y,e]),T=F.useCallback(function(N){return y==null?void 0:y("pointerup",N,e)},[y,e]),E=F.useCallback(function(N){return y==null?void 0:y("pointerdown",N,e)},[y,e]),S=F.useCallback(function(N){return y==null?void 0:y("focus",N,e)},[y,e]),O=F.useCallback(function(N){return y==null?void 0:y("blur",N,e)},[y,e]);return{onPointerMove:o?w:void 0,onFocus:m?S:void 0,onBlur:_?O:void 0,onPointerOut:r?x:void 0,onPointerUp:u?T:void 0,onPointerDown:f?E:void 0}}var $Y="GLYPHSERIES_EVENT_SOURCE",UY="LINESERIES_EVENT_SOURCE",Qv="XYCHART_EVENT_SOURCE";function rV(t){return!!t&&("clientX"in t||"changedTouches"in t)}function jY(t){return!!t&&!rV(t)}function iV(t){var e=t.scale,n=t.accessor,r=t.scaledValue,i=t.data,o=e,s,u;if("invert"in o&&typeof o.invert=="function"){var c=Rv(n).left,f=Number(o.invert(r)),h=c(i,f),m=i[h-1],g=i[h];s=!m||Math.abs(f-n(m))>Math.abs(f-n(g))?g:m,u=s===m?h-1:h}else if("step"in o&&typeof o.step<"u"){var _=e.domain(),y=e.range().map(Number),w=[].concat(y).sort(function($,M){return $-M}),x=XD(w[0],w[1],o.step()),T=UB(x,r),E=y[0]<y[1]?_:_.reverse(),S=E[T-1],O=i.findIndex(function($){return String(n($))===String(S)});s=i[O],u=O}else return console.warn("[visx/xychart/findNearestDatum] encountered incompatible scale type, bailing"),null;if(s==null||u==null)return null;var N=Math.abs(Number(o(n(s)))-r);return{datum:s,index:u,distance:N}}function zY(t){var e=t.xScale,n=t.xAccessor,r=t.yScale,i=t.yAccessor,o=t.point,s=t.data;if(!o)return null;var u=iV({scale:e,accessor:n,scaledValue:o.x,data:s});return u?{datum:u.datum,index:u.index,distanceX:u.distance,distanceY:Math.abs(Number(r(i(u.datum)))-o.y)}:null}function BY(t){var e=t.yScale,n=t.yAccessor,r=t.xScale,i=t.xAccessor,o=t.point,s=t.data;if(!o)return null;var u=iV({scale:e,accessor:n,scaledValue:o.y,data:s});return u?{datum:u.datum,index:u.index,distanceY:u.distance,distanceX:Math.abs(Number(r(i(u.datum)))-o.x)}:null}function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(this,arguments)}var j1="__POINTER_EVENTS_ALL",cg="__POINTER_EVENTS_NEAREST";function oV(t){var e=t.dataKey,n=t.findNearestDatum,r=t.onBlur,i=t.onFocus,o=t.onPointerMove,s=t.onPointerOut,u=t.onPointerUp,c=t.onPointerDown,f=t.allowedSources,h=F.useContext(mu),m=h.width,g=h.height,_=h.horizontal,y=h.dataRegistry,w=h.xScale,x=h.yScale,T=n||(_?BY:zY),E=F.useCallback(function(k){var I=k||{},L=I.svgPoint,V=I.event,A={},H=null,X=1/0;if(k&&V&&L&&m&&g&&w&&x){var Q,J=e===cg||e===j1,j=J?(Q=y==null?void 0:y.keys())!=null?Q:[]:Array.isArray(e)?e:[e];j.forEach(function(re){var W=y==null?void 0:y.get(re);if(W){var oe=T({dataKey:re,data:W.data,height:g,point:L,width:m,xAccessor:W.xAccessor,xScale:w,yAccessor:W.yAccessor,yScale:x});if(oe&&(A[re]=U1({key:re,svgPoint:L,event:V},oe),e===cg)){var le,B,te=Math.sqrt(((le=oe.distanceX)!=null?le:Math.pow(1/0,2))+((B=oe.distanceY)!=null?B:Math.pow(1/0,2)));H=te<X?A[re]:H,X=Math.min(X,te)}}});var ue=e===cg?[H]:e===j1||Array.isArray(e)?Object.values(A):[A[e]];return ue.filter(function(re){return re})}return[]},[e,y,w,x,m,g,T]),S=F.useCallback(function(k){o&&E(k).forEach(function(I){return o(I)})},[E,o]),O=F.useCallback(function(k){u&&E(k).forEach(function(I){return u(I)})},[E,u]),N=F.useCallback(function(k){c&&E(k).forEach(function(I){return c(I)})},[E,c]),$=F.useCallback(function(k){i&&E(k).forEach(function(I){return i(I)})},[E,i]),M=F.useCallback(function(k){var I=k==null?void 0:k.event;I&&rV(I)&&s&&s(I)},[s]),R=F.useCallback(function(k){var I=k==null?void 0:k.event;I&&jY(I)&&r&&r(I)},[r]);Pa("pointermove",o?S:void 0,f),Pa("pointerout",s?M:void 0,f),Pa("pointerup",u?O:void 0,f),Pa("pointerdown",c?N:void 0,f),Pa("focus",i?$:void 0,f),Pa("blur",r?R:void 0,f)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}var WY={top:50,right:50,bottom:50,left:50},HY=[Qv];function Tl(t){var e=t.accessibilityLabel,n=e===void 0?"XYChart":e,r=t.captureEvents,i=r===void 0?!0:r,o=t.children,s=t.height,u=t.horizontal,c=t.margin,f=c===void 0?WY:c,h=t.onPointerMove,m=t.onPointerOut,g=t.onPointerUp,_=t.onPointerDown,y=t.pointerEventsDataKey,w=y===void 0?"nearest":y,x=t.theme,T=t.width,E=t.xScale,S=t.yScale,O=t.resizeObserverPolyfill,N=F.useContext(mu),$=N.setDimensions,M=N.resizeObserverPolyfill,R=F.useContext(Rb),k=Pa();F.useEffect(function(){$&&T!=null&&s!=null&&T>0&&s>0&&$({width:T,height:s,margin:f})},[$,T,s,f]);var I=nV({source:Qv});return oV({dataKey:w==="nearest"?cg:j1,onPointerMove:h,onPointerOut:m,onPointerUp:g,onPointerDown:_,allowedSources:HY}),$?T==null||s==null?$e.createElement(UG,{resizeObserverPolyfill:M},function(L){return $e.createElement(Tl,Yg({},t,{width:t.width==null?L.width:t.width,height:t.height==null?L.height:t.height}))}):R==null?$e.createElement(sL,null,$e.createElement(Tl,t)):k==null?$e.createElement(zG,null,$e.createElement(Tl,t)):T<=0||s<=0?null:$e.createElement("svg",{width:T,height:s,"aria-label":n},o,i&&$e.createElement("rect",Yg({x:f.left,y:f.top,width:T-f.left-f.right,height:s-f.top-f.bottom,fill:"transparent"},I))):!E||!S?(console.warn("[@visx/xychart] XYChart: When no DataProvider is available in context, you must pass xScale & yScale config to XYChart."),null):$e.createElement(tV,{xScale:E,yScale:S,theme:x,initialDimensions:{width:T,height:s,margin:f},horizontal:u,resizeObserverPolyfill:O},$e.createElement(Tl,t))}Tl.propTypes={accessibilityLabel:et.string,captureEvents:et.bool,width:et.number,height:et.number,children:et.node.isRequired,horizontal:et.oneOfType([et.bool,et.oneOf(["auto"])]),onPointerMove:et.func,onPointerOut:et.func,onPointerUp:et.func,onPointerDown:et.func,pointerEventsDataKey:et.oneOf(["all","nearest"])};var So={};const zb=Uq(fG);var zm={},vA;function GY(){if(vA)return zm;vA=1,zm.__esModule=!0,zm.default=t;function t(e,n){e(n)}return zm}var xa={},yA;function KY(){if(yA)return xa;yA=1,xa.__esModule=!0,xa.STACK_ORDER_NAMES=xa.STACK_ORDERS=void 0,xa.default=r;var t=zb,e={ascending:t.stackOrderAscending,descending:t.stackOrderDescending,insideout:t.stackOrderInsideOut,none:t.stackOrderNone,reverse:t.stackOrderReverse};xa.STACK_ORDERS=e;var n=Object.keys(e);xa.STACK_ORDER_NAMES=n;function r(i){return i&&e[i]||e.none}return xa}var ba={},_A;function YY(){if(_A)return ba;_A=1,ba.__esModule=!0,ba.STACK_OFFSET_NAMES=ba.STACK_OFFSETS=void 0,ba.default=r;var t=zb,e={expand:t.stackOffsetExpand,diverging:t.stackOffsetDiverging,none:t.stackOffsetNone,silhouette:t.stackOffsetSilhouette,wiggle:t.stackOffsetWiggle};ba.STACK_OFFSETS=e;var n=Object.keys(e);ba.STACK_OFFSET_NAMES=n;function r(i){return i&&e[i]||e.none}return ba}var wA;function QY(){if(wA)return So;wA=1,So.__esModule=!0,So.arc=o,So.area=s,So.line=u,So.pie=c,So.radialLine=f,So.stack=h;var t=zb,e=i(GY()),n=i(KY()),r=i(YY());function i(m){return m&&m.__esModule?m:{default:m}}function o(m){var g=m===void 0?{}:m,_=g.innerRadius,y=g.outerRadius,w=g.cornerRadius,x=g.startAngle,T=g.endAngle,E=g.padAngle,S=g.padRadius,O=(0,t.arc)();return _!=null&&(0,e.default)(O.innerRadius,_),y!=null&&(0,e.default)(O.outerRadius,y),w!=null&&(0,e.default)(O.cornerRadius,w),x!=null&&(0,e.default)(O.startAngle,x),T!=null&&(0,e.default)(O.endAngle,T),E!=null&&(0,e.default)(O.padAngle,E),S!=null&&(0,e.default)(O.padRadius,S),O}function s(m){var g=m===void 0?{}:m,_=g.x,y=g.x0,w=g.x1,x=g.y,T=g.y0,E=g.y1,S=g.defined,O=g.curve,N=(0,t.area)();return _&&(0,e.default)(N.x,_),y&&(0,e.default)(N.x0,y),w&&(0,e.default)(N.x1,w),x&&(0,e.default)(N.y,x),T&&(0,e.default)(N.y0,T),E&&(0,e.default)(N.y1,E),S&&N.defined(S),O&&N.curve(O),N}function u(m){var g=m===void 0?{}:m,_=g.x,y=g.y,w=g.defined,x=g.curve,T=(0,t.line)();return _&&(0,e.default)(T.x,_),y&&(0,e.default)(T.y,y),w&&T.defined(w),x&&T.curve(x),T}function c(m){var g=m===void 0?{}:m,_=g.startAngle,y=g.endAngle,w=g.padAngle,x=g.value,T=g.sort,E=g.sortValues,S=(0,t.pie)();return(T===null||T!=null)&&S.sort(T),(E===null||E!=null)&&S.sortValues(E),x!=null&&S.value(x),w!=null&&(0,e.default)(S.padAngle,w),_!=null&&(0,e.default)(S.startAngle,_),y!=null&&(0,e.default)(S.endAngle,y),S}function f(m){var g=m===void 0?{}:m,_=g.angle,y=g.radius,w=g.defined,x=g.curve,T=(0,t.radialLine)();return _&&(0,e.default)(T.angle,_),y&&(0,e.default)(T.radius,y),w&&T.defined(w),x&&T.curve(x),T}function h(m){var g=m.keys,_=m.value,y=m.order,w=m.offset,x=(0,t.stack)();return g&&x.keys(g),_&&(0,e.default)(x.value,_),y&&x.order((0,n.default)(y)),w&&x.offset((0,r.default)(w)),x}return So}var Bm={},xA;function XY(){if(xA)return Bm;xA=1,Bm.__esModule=!0,Bm.default=u;var t=i(Kl()),e=i(zD()),n=QY(),r=["children","data","x","y","fill","className","curve","innerRef","defined"];function i(c){return c&&c.__esModule?c:{default:c}}function o(){return o=Object.assign?Object.assign.bind():function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(c[m]=h[m])}return c},o.apply(this,arguments)}function s(c,f){if(c==null)return{};var h={},m=Object.keys(c),g,_;for(_=0;_<m.length;_++)g=m[_],!(f.indexOf(g)>=0)&&(h[g]=c[g]);return h}function u(c){var f=c.children,h=c.data,m=h===void 0?[]:h,g=c.x,_=c.y,y=c.fill,w=y===void 0?"transparent":y,x=c.className,T=c.curve,E=c.innerRef,S=c.defined,O=S===void 0?function(){return!0}:S,N=s(c,r),$=(0,n.line)({x:g,y:_,defined:O,curve:T});return f?t.default.createElement(t.default.Fragment,null,f({path:$})):t.default.createElement("path",o({ref:E,className:(0,e.default)("visx-linepath",x),d:$(m)||"",fill:w,strokeLinecap:"round"},N))}return Bm}var JY=XY();const ZY=Xi(JY);function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(this,arguments)}function eQ(t){function e(n){var r=n.dataKey,i=n.data,o=n.xAccessor,s=n.yAccessor,u=F.useContext(mu),c=u.xScale,f=u.yScale,h=u.dataRegistry;F.useEffect(function(){return h&&h.registerData({key:r,data:i,xAccessor:o,yAccessor:s}),function(){return h==null?void 0:h.unregisterData(r)}},[h,r,i,o,s]);var m=h==null?void 0:h.get(r);if(!c||!f||!m)return null;var g=t;return $e.createElement(g,z1({},n,{xScale:c,yScale:f,data:m.data,xAccessor:m.xAccessor,yAccessor:m.yAccessor}))}return e}function Qg(t,e,n){return n===void 0&&(n="center"),function(r){var i=t(e(r));if(Va(i)){var o=(n==="start"?0:l7(t))/(n==="center"?2:1);return i+o}return NaN}}function aV(t){var e,n=t.dataKey,r=t.enableEvents,i=t.findNearestDatum,o=t.onBlur,s=t.onFocus,u=t.onPointerMove,c=t.onPointerOut,f=t.onPointerUp,h=t.onPointerDown,m=t.source,g=t.allowedSources,_=(e=F.useContext(Rb))!=null?e:{},y=_.showTooltip,w=_.hideTooltip,x=F.useCallback(function(N){y(N),u&&u(N)},[y,u]),T=F.useCallback(function(N){y(N),s&&s(N)},[y,s]),E=F.useCallback(function(N){w(),N&&c&&c(N)},[w,c]),S=F.useCallback(function(N){w(),N&&o&&o(N)},[w,o]),O=F.useCallback(function(N){y(N),h&&h(N)},[y,h]);return oV({dataKey:n,findNearestDatum:i,onBlur:r?S:void 0,onFocus:r?T:void 0,onPointerMove:r?x:void 0,onPointerOut:r?E:void 0,onPointerUp:r?f:void 0,onPointerDown:r?O:void 0,allowedSources:g}),nV({source:m,onBlur:!!o&&r,onFocus:!!s&&r,onPointerMove:!!u&&r,onPointerOut:!!c&&r,onPointerUp:!!f&&r,onPointerDown:!!h&&r})}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(this,arguments)}function sV(t){var e,n,r,i=t.colorAccessor,o=t.data,s=t.dataKey,u=t.onBlur,c=t.onFocus,f=t.onPointerMove,h=t.onPointerOut,m=t.onPointerUp,g=t.onPointerDown,_=t.enableEvents,y=_===void 0?!0:_,w=t.renderGlyphs,x=t.size,T=x===void 0?8:x,E=t.xAccessor,S=t.xScale,O=t.yAccessor,N=t.yScale,$=F.useContext(mu),M=$.colorScale,R=$.theme,k=$.horizontal,I=F.useMemo(function(){return Qg(S,E)},[S,E]),L=F.useMemo(function(){return Qg(N,O)},[N,O]),V=(e=(n=M==null?void 0:M(s))!=null?n:R==null||(r=R.colors)==null?void 0:r[0])!=null?e:"#222",A=$Y+"-"+s,H=aV({dataKey:s,enableEvents:y,onBlur:u,onFocus:c,onPointerMove:f,onPointerOut:h,onPointerUp:m,onPointerDown:g,source:A,allowedSources:[Qv,A]}),X=F.useMemo(function(){return o.map(function(Q,J){var j,ue=I(Q);if(!Va(ue))return null;var re=L(Q);return Va(re)?{key:""+J,x:ue,y:re,color:(j=i==null?void 0:i(Q,J))!=null?j:V,size:typeof T=="function"?T(Q):T,datum:Q}:null}).filter(function(Q){return Q})},[V,i,o,I,L,T]);return $e.createElement($e.Fragment,null,w(B1({glyphs:X,xScale:S,yScale:N,horizontal:k},H)))}sV.propTypes={colorAccessor:et.func,size:et.oneOfType([et.number,et.func]),renderGlyphs:et.func.isRequired};function tQ(t){var e=t.key,n=t.color,r=t.x,i=t.y,o=t.size,s=t.onBlur,u=t.onFocus,c=t.onPointerMove,f=t.onPointerOut,h=t.onPointerUp;return $e.createElement("circle",{className:"visx-circle-glyph",key:e,tabIndex:s||u?0:void 0,fill:n,r:o/2,cx:r,cy:i,onBlur:s,onFocus:u,onPointerMove:c,onPointerOut:f,onPointerUp:h})}var nQ=["colorAccessor","curve","data","dataKey","onBlur","onFocus","onPointerMove","onPointerOut","onPointerUp","onPointerDown","enableEvents","xAccessor","xScale","yAccessor","yScale","PathComponent"];function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qf.apply(this,arguments)}function rQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uV(t){var e,n,r,i=t.colorAccessor,o=t.curve,s=t.data,u=t.dataKey,c=t.onBlur,f=t.onFocus,h=t.onPointerMove,m=t.onPointerOut,g=t.onPointerUp,_=t.onPointerDown,y=t.enableEvents,w=y===void 0?!0:y,x=t.xAccessor,T=t.xScale,E=t.yAccessor,S=t.yScale,O=t.PathComponent,N=O===void 0?"path":O,$=rQ(t,nQ),M=F.useContext(mu),R=M.colorScale,k=M.theme,I=F.useMemo(function(){return Qg(T,x)},[T,x]),L=F.useMemo(function(){return Qg(S,E)},[S,E]),V=F.useCallback(function(j){return Va(T(x(j)))&&Va(S(E(j)))},[T,x,S,E]),A=(e=(n=R==null?void 0:R(u))!=null?n:k==null||(r=k.colors)==null?void 0:r[0])!=null?e:"#222",H=UY+"-"+u,X=aV({dataKey:u,enableEvents:w,onBlur:c,onFocus:f,onPointerMove:h,onPointerOut:m,onPointerUp:g,onPointerDown:_,source:H,allowedSources:[Qv,H]}),Q=!!(f||c),J=F.useCallback(function(j){var ue=j.glyphs;return Q?ue.map(function(re){return $e.createElement($e.Fragment,{key:re.key},tQ(qf({},re,{color:"transparent",onFocus:X.onFocus,onBlur:X.onBlur})))}):null},[Q,X.onFocus,X.onBlur]);return $e.createElement($e.Fragment,null,$e.createElement(ZY,qf({x:I,y:L,defined:V,curve:o},$),function(j){var ue,re=j.path;return $e.createElement(N,qf({stroke:(ue=i==null?void 0:i(u))!=null?ue:A,strokeWidth:2,fill:"transparent",strokeLinecap:"round"},$,{d:re(s)||""},X))}),Q&&$e.createElement(sV,{dataKey:u,data:s,xAccessor:x,yAccessor:E,xScale:T,yScale:S,renderGlyphs:J}))}uV.propTypes={colorAccessor:et.func};const iQ=eQ(uV);function bA(t){return $e.createElement(iQ,t)}function oQ(t){var e=F.useState(t),n=e[0],r=e[1],i=F.useRef(null),o=F.useCallback(function(s,u){i.current=u||null,r(s)},[r]);return F.useLayoutEffect(function(){i.current&&(i.current(n),i.current=null)},[n]),[n,o]}function TA(t,e,n){return Math.min(Math.max(t,e),n)}function aQ(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=sQ(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(t,e){if(t){if(typeof t=="string")return EA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uQ(t,e){for(var n=t,r=1/0,i=aQ(e),o;!(o=i()).done;){var s=o.value,u=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));u<r&&(r=u,n={x:s.x,y:s.y})}return n}function SA(t,e,n){var r,i,o,s;return n===void 0&&(n={}),e.length>0?uQ(t,e):{x:TA(t.x,(r=n.xMin)!=null?r:-1/0,(i=n.xMax)!=null?i:1/0),y:TA(t.y,(o=n.yMin)!=null?o:-1/0,(s=n.yMax)!=null?s:1/0)}}function lQ(t,e,n){if(n===void 0&&(n=1),!t)return[];for(var r=[],i=t.getTotalLength(),o=0;o<=i;o+=n){var s=t.getPointAtLength(o),u=s.matrixTransform(e);r.push(u)}return r}function cQ(t){var e=F.useMemo(function(){if(!t)return[];var n=t.getCTM()||new DOMMatrix;return lQ(t,n)},[t==null?void 0:t.getTotalLength()]);return e}function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}function fQ(t){var e=t===void 0?{}:t,n=e.resetOnStart,r=n===void 0?!1:n,i=e.snapToPointer,o=i===void 0?!0:i,s=e.onDragEnd,u=e.onDragMove,c=e.onDragStart,f=e.x,h=e.y,m=e.dx,g=e.dy,_=e.isDragging,y=e.restrict,w=y===void 0?{}:y,x=e.restrictToPath,T=F.useRef({x:f,y:h,dx:m,dy:g}),E=oQ({x:f,y:h,dx:m??0,dy:g??0,isDragging:!1}),S=E[0],O=E[1],N=F.useState(new ko({x:0,y:0})),$=N[0],M=N[1];F.useEffect(function(){(T.current.x!==f||T.current.y!==h||T.current.dx!==m||T.current.dy!==g)&&(T.current={x:f,y:h,dx:m,dy:g},O(function(V){return Li({},V,{x:f,y:h,dx:m??0,dy:g??0})}))}),F.useEffect(function(){_!==void 0&&S.isDragging!==_&&O(function(V){return Li({},V,{isDragging:_})})},[S.isDragging,_,O]);var R=cQ(x),k=F.useCallback(function(V){V.persist(),O(function(A){var H=A.x,X=H===void 0?0:H,Q=A.y,J=Q===void 0?0:Q,j=A.dx,ue=A.dy,re=new ko({x:(X||0)+j,y:(J||0)+ue}),W=m1(V)||new ko({x:0,y:0}),oe=o?W:re,le=SA(oe,R,w);return M(kB(re,W)),{isDragging:!0,dx:r?0:A.dx,dy:r?0:A.dy,x:r?le.x:le.x-A.dx,y:r?le.y:le.y-A.dy}},c&&function(A){c(Li({},A,{event:V}))})},[c,r,w,R,O,o]),I=F.useCallback(function(V){V.persist(),O(function(A){if(!A.isDragging)return A;var H=A.x,X=H===void 0?0:H,Q=A.y,J=Q===void 0?0:Q,j=m1(V)||new ko({x:0,y:0}),ue=o?j:IB(j,$),re=SA(ue,R,w);return Li({},A,{dx:re.x-X,dy:re.y-J})},u&&function(A){A.isDragging&&u(Li({},A,{event:V}))})},[O,u,o,$,R,w]),L=F.useCallback(function(V){V.persist(),O(function(A){return Li({},A,{isDragging:!1})},s&&function(A){s(Li({},A,{event:V}))})},[s,O]);return Li({},S,{dragEnd:L,dragMove:I,dragStart:k})}function lV(t){var e=t.captureDragArea,n=e===void 0?!0:e,r=t.snapToPointer,i=r===void 0?!0:r,o=t.children,s=t.dx,u=t.dy,c=t.height,f=t.onDragEnd,h=t.onDragMove,m=t.onDragStart,g=t.resetOnStart,_=t.width,y=t.x,w=t.y,x=t.isDragging,T=t.restrict,E=t.restrictToPath,S=fQ({resetOnStart:g,snapToPointer:i,onDragEnd:f,onDragMove:h,onDragStart:m,x:y,y:w,dx:s,dy:u,isDragging:x,restrict:T,restrictToPath:E});return $e.createElement($e.Fragment,null,S.isDragging&&n&&$e.createElement("rect",{width:_,height:c,onPointerDown:S.dragStart,onPointerMove:S.dragMove,onPointerUp:S.dragEnd,fill:"transparent"}),o(S))}lV.propTypes={children:et.func.isRequired,width:et.number.isRequired,height:et.number.isRequired,captureDragArea:et.bool,isDragging:et.bool};function PA(t){return t<0?-1:1}function CA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(PA(o)+PA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function RA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Cw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Xg(t){this._context=t}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cw(this,this._t0,RA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cw(this,RA(this,n=CA(this,t,e)),n);break;default:Cw(this,this._t0,n=CA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(Xg.prototype).point=function(t,e){Xg.prototype.point.call(this,e,t)};function IA(t){return new Xg(t)}const dQ=t=>{const e=new Map;for(const{x:r,y:i}of t)if(!e.has(r))e.set(r,{sum:i,count:1});else{const o=e.get(r);o.sum+=i,o.count+=1}const n=[];for(const[r,{sum:i,count:o}]of e.entries())n.push({x:r,y:i/o});return n.sort((r,i)=>r.x-i.x),n},js=800,Ni=400,qt={top:50,right:50,bottom:50,left:50},Tt=[0,24],ai=[0,10],xf=Tt[1]-Tt[0],fl=ai[1]-ai[0];function cV({setErrors:t,currDate:e}){const[n,r]=F.useState([{x:Tt[0],y:ai[0]+Math.round(fl/2)},{x:Tt[1],y:ai[0]+Math.round(fl/2)}]),{userData:i,deleteAllGraphs:o}=F.useContext(Ng),[s,u]=F.useState([]);F.useEffect(()=>{console.log(i),u(dQ(i.map(S=>S.points).flat()))},[i]);const c=S=>{const O=[];for(const N of S)O.push({x:N.x,y:N.y});return O},f=F.useRef(c(n)),h=F.useRef(!1),m=F.useRef({x:0,y:0}),{uploadEnergyGraph:g}=F.useContext(Ng),_=(S,O=void 0)=>O===0?0:O===n.length-1?Tt[1]:(S=Math.round(S),S===Tt[0]&&!n.some(N=>N.x===Tt[0])?Tt[0]+1:S===Tt[1]&&!n.some(N=>N.x===Tt[1]-1)?Tt[1]-1:n.some((N,$)=>N.x===S&&$!==O)?S!==Tt[0]&&!n.some(N=>N.x===S-1)?S-1:S!==Tt[1]&&!n.some(N=>N.x===S+1)?S+1:-1:S),y=(S,O,N,$,M,R=!0,k=!1)=>{if(O===void 0||N===void 0)return;const I=xf*(O+$-qt.left)/(js-qt.left-qt.right),L=-fl*(N+M-Ni+qt.bottom)/(Ni-qt.top-qt.bottom);let V=Math.max(Tt[0],Math.min(Tt[1],I)),A=Math.max(ai[0],Math.min(ai[1],L));R&&(V=Math.round(V),A=Math.round(A)),V=_(V,S);const H=[...n];V!==-1&&(H[S]={x:Math.round(V),y:Math.round(A)}),R&&(H.sort((X,Q)=>X.x-Q.x),S===0?H[H.length-1].y=H[0].y:S===H.length-1&&(H[0].y=H[H.length-1].y),r(H),k&&(h.current=!1,m.current={x:0,y:0}))},w={xAccessor:S=>S.x,yAccessor:S=>S.y},x=()=>{if(console.log(n),n.length<2||n.length>xf+1){t("Invalid number of points");return}else if(n.some(S=>S.x>Tt[1]||S.x<Tt[0]||S.y>ai[1]||S.y<ai[0])){t("Invalid point coordinates");return}f.current=c(n),g==null||g(n,e||new Date,!0,!0)},T=S=>{var A;const O=S.currentTarget.childNodes[0];if(!O)return;const N=O.createSVGPoint();N.x=S.clientX,N.y=S.clientY;const $=N.matrixTransform((A=O.getScreenCTM())==null?void 0:A.inverse());if(!$)return;const M=xf*($.x-qt.left)/(js-qt.left-qt.right),R=-fl*($.y-Ni+qt.bottom)/(Ni-qt.top-qt.bottom);let k=Math.round(Math.max(Tt[0],Math.min(Tt[1],M))),I=Math.round(Math.max(ai[0],Math.min(ai[1],R)));if(k===Tt[0]&&n.some(H=>H.x===Tt[0])&&(k=Tt[0]+1),k===Tt[1]&&n.some(H=>H.x===Tt[1])&&(k=Tt[1]-1),n.some(H=>H.x===k&&H.y===I))return;const L=_(k);if(L===-1){const H=[...n];for(let X=0;X<H.length;X++)H[X].x===k&&(H[X].y=I);r(H);return}const V=[...n,{x:L,y:I}];V.sort((H,X)=>H.x-X.x),r(V)},E=(S,O)=>{S.preventDefault(),!(O===0||O===n.length-1)&&r(N=>N.filter(($,M)=>M!==O))};return ee.jsxs(ee.Fragment,{children:[ee.jsx("button",{className:"rounded-md bg-gray-200 px-2 cursor-pointer",onClick:()=>{o==null||o()},children:"Delete my data"}),ee.jsx("button",{className:"rounded-md bg-gray-200 px-2 cursor-pointer",onClick:()=>{x()},children:"UPLOAD"}),ee.jsx("div",{className:"select-none",onDoubleClick:T,children:ee.jsxs(Tl,{height:Ni,width:js,xScale:{type:"linear",domain:Tt},yScale:{type:"linear",domain:ai},captureEvents:!1,children:[ee.jsx(JR,{orientation:"bottom"}),ee.jsx(JR,{orientation:"left"}),ee.jsx(bA,{dataKey:"Line",data:n,...w,curve:IA}),ee.jsx(bA,{dataKey:"AvgLine",data:s,...w,curve:IA}),n.map((S,O)=>ee.jsx(lV,{x:S.x,y:S.y,width:js,height:Ni,onDragMove:({x:N,y:$,dx:M,dy:R})=>y(O,N,$,M,R,!1,!0),onDragEnd:({x:N,y:$,dx:M,dy:R})=>y(O,N,$,M,R,!0,!0),captureDragArea:!0,restrict:{xMin:0,xMax:js,yMin:0,yMax:Ni},children:({dragStart:N,dragEnd:$,dragMove:M,isDragging:R,dx:k,dy:I})=>{R?(k=k*xf/(js-qt.left-qt.right),I=I*fl/(Ni-qt.top-qt.bottom)):(k=0,I=0),!h.current&&R&&(m.current={x:k,y:I});const L=S.x+k-(R?m.current.x:0),V=S.y-I+(R?m.current.y:0),A=L/xf*(js-qt.left-qt.right)+qt.left,H=Ni-qt.bottom-V*(Ni-qt.top-qt.bottom)/fl;return R&&(h.current=R),ee.jsx(gG,{cx:A,cy:H,r:R?8:6,fill:"blue",onMouseMove:M,onMouseUp:$,onContextMenu:X=>{E(X,O)},onMouseDown:N,onTouchStart:N,onTouchMove:M,onTouchEnd:$},`dot-${O}`)}},O))]})})]})}function hQ(){const{userData:t,loadFirebaseUserData:e}=F.useContext(Ng);return ee.jsxs("div",{children:[ee.jsx("h1",{children:"Results"}),ee.jsx("div",{children:ee.jsx("button",{onClick:()=>{e==null||e()},children:"whats in db"})}),ee.jsx("div",{children:t?ee.jsx(cV,{setErrors:()=>{}}):ee.jsx(ee.Fragment,{})})]})}function pQ(){const t=f=>{const h=m=>String(m).padStart(2,"0");return`${f.getFullYear()}-${h(f.getMonth()+1)}-${h(f.getDate())}`},[e,n]=F.useState(new Date),[r,i]=F.useState(t(e)),[o,s]=F.useState("");F.useEffect(()=>{const f=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(f)},[]);const u=F.useCallback(()=>t(e)===r,[r,e]),c=(f,h)=>{console.log(f);const m=new Date(f+" 00:00:00.000 GMT");return console.log(m),m.setDate(m.getUTCDate()+h),console.log(m),console.log(r+e.toISOString().split("T")[1]),t(m)};return ee.jsxs("div",{children:[ee.jsx("h1",{children:"Energy Graph"}),ee.jsx("div",{className:"m-2 p-2",style:{display:"none"},children:ee.jsxs("div",{className:"flex align-middle justify-center items-center",children:[ee.jsx("span",{className:"px-1 cursor-pointer bg-gray-100 rounded-md",onClick:()=>i(f=>c(f,-1)),children:"<<"}),ee.jsx("span",{className:"rounded-md bg-gray-100 p-1 pb-2 mr-1 inline-block w-fit min-w-36 cursor-pointer",onClick:()=>i(t(e)),children:ee.jsx("span",{className:"w-[100px]",children:u()?"🕒 Today":"🕒 Back to today"})}),ee.jsx("input",{type:"date",value:r,onChange:f=>i(f.target.value)}),ee.jsx("span",{className:"px-1 cursor-pointer bg-gray-100 rounded-md",onClick:()=>i(f=>c(f,1)),children:">>"})]})}),ee.jsx("p",{className:(o?"visible":"invisible")+" text-red-500 mb-1 font-semibold",children:o||"."}),ee.jsx(cV,{setErrors:s})]})}function kA(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fV(...t){return e=>{let n=!1;const r=t.map(i=>{const o=kA(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():kA(t[i],null)}}}}function Tn(...t){return F.useCallback(fV(...t),t)}function Zf(t){const e=gQ(t),n=F.forwardRef((r,i)=>{const{children:o,...s}=r,u=F.Children.toArray(o),c=u.find(yQ);if(c){const f=c.props.children,h=u.map(m=>m===c?F.Children.count(f)>1?F.Children.only(null):F.isValidElement(f)?f.props.children:null:m);return ee.jsx(e,{...s,ref:i,children:F.isValidElement(f)?F.cloneElement(f,void 0,h):null})}return ee.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var mQ=Zf("Slot");function gQ(t){const e=F.forwardRef((n,r)=>{const{children:i,...o}=n;if(F.isValidElement(i)){const s=wQ(i),u=_Q(o,i.props);return i.type!==F.Fragment&&(u.ref=r?fV(r,s):s),F.cloneElement(i,u)}return F.Children.count(i)>1?F.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vQ=Symbol("radix.slottable");function yQ(t){return F.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vQ}function _Q(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...u)=>{o(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function wQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hV(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dV(t))&&(r&&(r+=" "),r+=e);return r}const MA=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,AA=hV,xQ=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return AA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(f=>{const h=n==null?void 0:n[f],m=o==null?void 0:o[f];if(h===null)return null;const g=MA(h)||MA(m);return i[f][g]}),u=n&&Object.entries(n).reduce((f,h)=>{let[m,g]=h;return g===void 0||(f[m]=g),f},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:m,className:g,..._}=h;return Object.entries(_).every(y=>{let[w,x]=y;return Array.isArray(x)?x.includes({...o,...u}[w]):{...o,...u}[w]===x})?[...f,m,g]:f},[]);return AA(t,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},Bb="-",bQ=t=>{const e=EQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const u=s.split(Bb);return u[0]===""&&u.length!==1&&u.shift(),pV(u,e)||TQ(s)},getConflictingClassGroupIds:(s,u)=>{const c=n[s]||[];return u&&r[s]?[...c,...r[s]]:c}}},pV=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?pV(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Bb);return(s=e.validators.find(({validator:u})=>u(o)))==null?void 0:s.classGroupId},OA=/^\[(.+)\]$/,TQ=t=>{if(OA.test(t)){const e=OA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},EQ=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)W1(n[i],r,i,e);return r},W1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:DA(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(SQ(i)){W1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{W1(s,DA(e,o),n,r)})})},DA=(t,e)=>{let n=t;return e.split(Bb).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SQ=t=>t.isThemeGetter,PQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},H1="!",G1=":",CQ=G1.length,RQ=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,u=0,c=0,f;for(let y=0;y<i.length;y++){let w=i[y];if(s===0&&u===0){if(w===G1){o.push(i.slice(c,y)),c=y+CQ;continue}if(w==="/"){f=y;continue}}w==="["?s++:w==="]"?s--:w==="("?u++:w===")"&&u--}const h=o.length===0?i:i.substring(c),m=IQ(h),g=m!==h,_=f&&f>c?f-c:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:_}};if(e){const i=e+G1,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},IQ=t=>t.endsWith(H1)?t.substring(0,t.length-1):t.startsWith(H1)?t.substring(1):t,kQ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},MQ=t=>({cache:PQ(t.cacheSize),parseClassName:RQ(t),sortModifiers:kQ(t),...bQ(t)}),AQ=/\s+/,OQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],u=t.trim().split(AQ);let c="";for(let f=u.length-1;f>=0;f-=1){const h=u[f],{isExternal:m,modifiers:g,hasImportantModifier:_,baseClassName:y,maybePostfixModifierPosition:w}=n(h);if(m){c=h+(c.length>0?" "+c:c);continue}let x=!!w,T=r(x?y.substring(0,w):y);if(!T){if(!x){c=h+(c.length>0?" "+c:c);continue}if(T=r(y),!T){c=h+(c.length>0?" "+c:c);continue}x=!1}const E=o(g).join(":"),S=_?E+H1:E,O=S+T;if(s.includes(O))continue;s.push(O);const N=i(T,x);for(let $=0;$<N.length;++$){const M=N[$];s.push(S+M)}c=h+(c.length>0?" "+c:c)}return c};function DQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=mV(e))&&(r&&(r+=" "),r+=n);return r}const mV=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=mV(t[r]))&&(n&&(n+=" "),n+=e);return n};function NQ(t,...e){let n,r,i,o=s;function s(c){const f=e.reduce((h,m)=>m(h),t());return n=MQ(f),r=n.cache.get,i=n.cache.set,o=u,u(c)}function u(c){const f=r(c);if(f)return f;const h=OQ(c,n);return i(c,h),h}return function(){return o(DQ.apply(null,arguments))}}const en=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},gV=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vV=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LQ=/^\d+\/\d+$/,VQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$Q=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dl=t=>LQ.test(t),Ze=t=>!!t&&!Number.isNaN(Number(t)),Ta=t=>!!t&&Number.isInteger(Number(t)),Rw=t=>t.endsWith("%")&&Ze(t.slice(0,-1)),Po=t=>VQ.test(t),jQ=()=>!0,zQ=t=>FQ.test(t)&&!qQ.test(t),yV=()=>!1,BQ=t=>$Q.test(t),WQ=t=>UQ.test(t),HQ=t=>!Oe(t)&&!De(t),GQ=t=>cc(t,xV,yV),Oe=t=>gV.test(t),zs=t=>cc(t,bV,zQ),Iw=t=>cc(t,JQ,Ze),NA=t=>cc(t,_V,yV),KQ=t=>cc(t,wV,WQ),Wm=t=>cc(t,TV,BQ),De=t=>vV.test(t),bf=t=>fc(t,bV),YQ=t=>fc(t,ZQ),LA=t=>fc(t,_V),QQ=t=>fc(t,xV),XQ=t=>fc(t,wV),Hm=t=>fc(t,TV,!0),cc=(t,e,n)=>{const r=gV.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fc=(t,e,n=!1)=>{const r=vV.exec(t);return r?r[1]?e(r[1]):n:!1},_V=t=>t==="position"||t==="percentage",wV=t=>t==="image"||t==="url",xV=t=>t==="length"||t==="size"||t==="bg-size",bV=t=>t==="length",JQ=t=>t==="number",ZQ=t=>t==="family-name",TV=t=>t==="shadow",eX=()=>{const t=en("color"),e=en("font"),n=en("text"),r=en("font-weight"),i=en("tracking"),o=en("leading"),s=en("breakpoint"),u=en("container"),c=en("spacing"),f=en("radius"),h=en("shadow"),m=en("inset-shadow"),g=en("text-shadow"),_=en("drop-shadow"),y=en("blur"),w=en("perspective"),x=en("aspect"),T=en("ease"),E=en("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...O(),De,Oe],$=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],R=()=>[De,Oe,c],k=()=>[dl,"full","auto",...R()],I=()=>[Ta,"none","subgrid",De,Oe],L=()=>["auto",{span:["full",Ta,De,Oe]},Ta,De,Oe],V=()=>[Ta,"auto",De,Oe],A=()=>["auto","min","max","fr",De,Oe],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...R()],J=()=>[dl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],j=()=>[t,De,Oe],ue=()=>[...O(),LA,NA,{position:[De,Oe]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",QQ,GQ,{size:[De,Oe]}],oe=()=>[Rw,bf,zs],le=()=>["","none","full",f,De,Oe],B=()=>["",Ze,bf,zs],te=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Ze,Rw,LA,NA],Pe=()=>["","none",y,De,Oe],de=()=>["none",Ze,De,Oe],me=()=>["none",Ze,De,Oe],be=()=>[Ze,De,Oe],fe=()=>[dl,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Po],breakpoint:[Po],color:[jQ],container:[Po],"drop-shadow":[Po],ease:["in","out","in-out"],font:[HQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Po],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Po],shadow:[Po],spacing:["px",Ze],text:[Po],"text-shadow":[Po],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dl,Oe,De,x]}],container:["container"],columns:[{columns:[Ze,Oe,De,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Ta,"auto",De,Oe]}],basis:[{basis:[dl,"full","auto",u,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,dl,"auto","initial","none",Oe]}],grow:[{grow:["",Ze,De,Oe]}],shrink:[{shrink:["",Ze,De,Oe]}],order:[{order:[Ta,"first","last","none",De,Oe]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[u,"screen",...J()]}],"min-w":[{"min-w":[u,"screen","none",...J()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[s]},...J()]}],h:[{h:["screen",...J()]}],"min-h":[{"min-h":["screen","none",...J()]}],"max-h":[{"max-h":["screen",...J()]}],"font-size":[{text:["base",n,bf,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,Iw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rw,Oe]}],"font-family":[{font:[YQ,Oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,De,Oe]}],"line-clamp":[{"line-clamp":[Ze,"none",De,Iw]}],leading:[{leading:[o,...R()]}],"list-image":[{"list-image":["none",De,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",De,zs]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Ze,"auto",De,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ta,De,Oe],radial:["",De,Oe],conic:[Ta,De,Oe]},XQ,KQ]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,De,Oe]}],"outline-w":[{outline:["",Ze,bf,zs]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",h,Hm,Wm]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",m,Hm,Wm]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Ze,zs]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",g,Hm,Wm]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Ze,De,Oe]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[De,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Oe]}],filter:[{filter:["","none",De,Oe]}],blur:[{blur:Pe()}],brightness:[{brightness:[Ze,De,Oe]}],contrast:[{contrast:[Ze,De,Oe]}],"drop-shadow":[{"drop-shadow":["","none",_,Hm,Wm]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Ze,De,Oe]}],"hue-rotate":[{"hue-rotate":[Ze,De,Oe]}],invert:[{invert:["",Ze,De,Oe]}],saturate:[{saturate:[Ze,De,Oe]}],sepia:[{sepia:["",Ze,De,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Oe]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,De,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,De,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,De,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,De,Oe]}],"backdrop-invert":[{"backdrop-invert":["",Ze,De,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,De,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,De,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,De,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",De,Oe]}],ease:[{ease:["linear","initial",T,De,Oe]}],delay:[{delay:[Ze,De,Oe]}],animate:[{animate:["none",E,De,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,De,Oe]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[De,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Oe]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Ze,bf,zs,Iw]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tX=NQ(eX);function Ga(...t){return tX(hV(t))}const nX=xQ("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",starting:"bg-primary text-primary-foreground shadow-xs hover:bg-neutral-700"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function EV({className:t,variant:e,size:n,asChild:r=!1,...i}){const o=r?mQ:"button";return ee.jsx(o,{"data-slot":"button",className:Ga(nX({variant:e,size:n,className:t})),...i})}function rX(){return ee.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-[25vh]",children:[ee.jsx("h1",{style:{fontSize:"200px",fontFamily:"Jacques Francois"},children:"Circa."}),ee.jsx("div",{className:"mt-25"}),ee.jsx(fx,{to:"/home",children:ee.jsx(EV,{variant:"starting",className:"cursor-pointer bg-stone-600 w-50",children:"Get Started"})})]})}function VA(t,[e,n]){return Math.min(n,Math.max(e,t))}function Gt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Wb(t,e=[]){let n=[];function r(o,s){const u=F.createContext(s),c=n.length;n=[...n,s];const f=m=>{var T;const{scope:g,children:_,...y}=m,w=((T=g==null?void 0:g[t])==null?void 0:T[c])||u,x=F.useMemo(()=>y,Object.values(y));return ee.jsx(w.Provider,{value:x,children:_})};f.displayName=o+"Provider";function h(m,g){var w;const _=((w=g==null?void 0:g[t])==null?void 0:w[c])||u,y=F.useContext(_);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,h]}const i=()=>{const o=n.map(s=>F.createContext(s));return function(u){const c=(u==null?void 0:u[t])||o;return F.useMemo(()=>({[`__scope${t}`]:{...u,[t]:c}}),[u,c])}};return i.scopeName=t,[r,iX(i,...e)]}function iX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((u,{useScope:c,scopeName:f})=>{const m=c(o)[`__scope${f}`];return{...u,...m}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function oX(t){const e=t+"CollectionProvider",[n,r]=Wb(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=w=>{const{scope:x,children:T}=w,E=$e.useRef(null),S=$e.useRef(new Map).current;return ee.jsx(i,{scope:x,itemMap:S,collectionRef:E,children:T})};s.displayName=e;const u=t+"CollectionSlot",c=Zf(u),f=$e.forwardRef((w,x)=>{const{scope:T,children:E}=w,S=o(u,T),O=Tn(x,S.collectionRef);return ee.jsx(c,{ref:O,children:E})});f.displayName=u;const h=t+"CollectionItemSlot",m="data-radix-collection-item",g=Zf(h),_=$e.forwardRef((w,x)=>{const{scope:T,children:E,...S}=w,O=$e.useRef(null),N=Tn(x,O),$=o(h,T);return $e.useEffect(()=>($.itemMap.set(O,{ref:O,...S}),()=>void $.itemMap.delete(O))),ee.jsx(g,{[m]:"",ref:N,children:E})});_.displayName=h;function y(w){const x=o(t+"CollectionConsumer",w);return $e.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const S=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort(($,M)=>S.indexOf($.ref.current)-S.indexOf(M.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:s,Slot:f,ItemSlot:_},y,r]}var aX=F.createContext(void 0);function sX(t){const e=F.useContext(aX);return t||e||"ltr"}var uX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=uX.reduce((t,e)=>{const n=Zf(`Primitive.${e}`),r=F.forwardRef((i,o)=>{const{asChild:s,...u}=i,c=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ee.jsx(c,{...u,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function lX(t,e){t&&id.flushSync(()=>t.dispatchEvent(e))}function jo(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function cX(t,e=globalThis==null?void 0:globalThis.document){const n=jo(t);F.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fX="DismissableLayer",K1="dismissableLayer.update",dX="dismissableLayer.pointerDownOutside",hX="dismissableLayer.focusOutside",FA,SV=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),PV=F.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:u,...c}=t,f=F.useContext(SV),[h,m]=F.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=F.useState({}),y=Tn(e,M=>m(M)),w=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),T=w.indexOf(x),E=h?w.indexOf(h):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,O=E>=T,N=gX(M=>{const R=M.target,k=[...f.branches].some(I=>I.contains(R));!O||k||(i==null||i(M),s==null||s(M),M.defaultPrevented||u==null||u())},g),$=vX(M=>{const R=M.target;[...f.branches].some(I=>I.contains(R))||(o==null||o(M),s==null||s(M),M.defaultPrevented||u==null||u())},g);return cX(M=>{E===f.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},g),F.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(FA=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),qA(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=FA)}},[h,g,n,f]),F.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),qA())},[h,f]),F.useEffect(()=>{const M=()=>_({});return document.addEventListener(K1,M),()=>document.removeEventListener(K1,M)},[]),ee.jsx(Yt.div,{...c,ref:y,style:{pointerEvents:S?O?"auto":"none":void 0,...t.style},onFocusCapture:Gt(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Gt(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Gt(t.onPointerDownCapture,N.onPointerDownCapture)})});PV.displayName=fX;var pX="DismissableLayerBranch",mX=F.forwardRef((t,e)=>{const n=F.useContext(SV),r=F.useRef(null),i=Tn(e,r);return F.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),ee.jsx(Yt.div,{...t,ref:i})});mX.displayName=pX;function gX(t,e=globalThis==null?void 0:globalThis.document){const n=jo(t),r=F.useRef(!1),i=F.useRef(()=>{});return F.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let c=function(){CV(dX,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vX(t,e=globalThis==null?void 0:globalThis.document){const n=jo(t),r=F.useRef(!1);return F.useEffect(()=>{const i=o=>{o.target&&!r.current&&CV(hX,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qA(){const t=new CustomEvent(K1);document.dispatchEvent(t)}function CV(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?lX(i,o):i.dispatchEvent(o)}var kw=0;function yX(){F.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$A()),document.body.insertAdjacentElement("beforeend",t[1]??$A()),kw++,()=>{kw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kw--}},[])}function $A(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mw="focusScope.autoFocusOnMount",Aw="focusScope.autoFocusOnUnmount",UA={bubbles:!1,cancelable:!0},_X="FocusScope",RV=F.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[u,c]=F.useState(null),f=jo(i),h=jo(o),m=F.useRef(null),g=Tn(e,w=>c(w)),_=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(r){let w=function(S){if(_.paused||!u)return;const O=S.target;u.contains(O)?m.current=O:Sa(m.current,{select:!0})},x=function(S){if(_.paused||!u)return;const O=S.relatedTarget;O!==null&&(u.contains(O)||Sa(m.current,{select:!0}))},T=function(S){if(document.activeElement===document.body)for(const N of S)N.removedNodes.length>0&&Sa(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const E=new MutationObserver(T);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),E.disconnect()}}},[r,u,_.paused]),F.useEffect(()=>{if(u){zA.add(_);const w=document.activeElement;if(!u.contains(w)){const T=new CustomEvent(Mw,UA);u.addEventListener(Mw,f),u.dispatchEvent(T),T.defaultPrevented||(wX(SX(IV(u)),{select:!0}),document.activeElement===w&&Sa(u))}return()=>{u.removeEventListener(Mw,f),setTimeout(()=>{const T=new CustomEvent(Aw,UA);u.addEventListener(Aw,h),u.dispatchEvent(T),T.defaultPrevented||Sa(w??document.body,{select:!0}),u.removeEventListener(Aw,h),zA.remove(_)},0)}}},[u,f,h,_]);const y=F.useCallback(w=>{if(!n&&!r||_.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,T=document.activeElement;if(x&&T){const E=w.currentTarget,[S,O]=xX(E);S&&O?!w.shiftKey&&T===O?(w.preventDefault(),n&&Sa(S,{select:!0})):w.shiftKey&&T===S&&(w.preventDefault(),n&&Sa(O,{select:!0})):T===E&&w.preventDefault()}},[n,r,_.paused]);return ee.jsx(Yt.div,{tabIndex:-1,...s,ref:g,onKeyDown:y})});RV.displayName=_X;function wX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Sa(r,{select:e}),document.activeElement!==n)return}function xX(t){const e=IV(t),n=jA(e,t),r=jA(e.reverse(),t);return[n,r]}function IV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jA(t,e){for(const n of t)if(!bX(n,{upTo:e}))return n}function bX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function TX(t){return t instanceof HTMLInputElement&&"select"in t}function Sa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&TX(t)&&e&&t.select()}}var zA=EX();function EX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=BA(t,e),t.unshift(e)},remove(e){var n;t=BA(t,e),(n=t[0])==null||n.resume()}}}function BA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function SX(t){return t.filter(e=>e.tagName!=="A")}var br=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},PX=Wq[" useId ".trim().toString()]||(()=>{}),CX=0;function Hb(t){const[e,n]=F.useState(PX());return br(()=>{n(r=>r??String(CX++))},[t]),t||(e?`radix-${e}`:"")}const RX=["top","right","bottom","left"],Ka=Math.min,_r=Math.max,Jg=Math.round,Gm=Math.floor,Wi=t=>({x:t,y:t}),IX={left:"right",right:"left",bottom:"top",top:"bottom"},kX={start:"end",end:"start"};function Y1(t,e,n){return _r(t,Ka(e,n))}function zo(t,e){return typeof t=="function"?t(e):t}function Bo(t){return t.split("-")[0]}function dc(t){return t.split("-")[1]}function Gb(t){return t==="x"?"y":"x"}function Kb(t){return t==="y"?"height":"width"}function Ya(t){return["top","bottom"].includes(Bo(t))?"y":"x"}function Yb(t){return Gb(Ya(t))}function MX(t,e,n){n===void 0&&(n=!1);const r=dc(t),i=Yb(t),o=Kb(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Zg(s)),[s,Zg(s)]}function AX(t){const e=Zg(t);return[Q1(t),e,Q1(e)]}function Q1(t){return t.replace(/start|end/g,e=>kX[e])}function OX(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function DX(t,e,n,r){const i=dc(t);let o=OX(Bo(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Q1)))),o}function Zg(t){return t.replace(/left|right|bottom|top/g,e=>IX[e])}function NX(t){return{top:0,right:0,bottom:0,left:0,...t}}function kV(t){return typeof t!="number"?NX(t):{top:t,right:t,bottom:t,left:t}}function ev(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function WA(t,e,n){let{reference:r,floating:i}=t;const o=Ya(e),s=Yb(e),u=Kb(s),c=Bo(e),f=o==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[u]/2-i[u]/2;let _;switch(c){case"top":_={x:h,y:r.y-i.height};break;case"bottom":_={x:h,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:m};break;case"left":_={x:r.x-i.width,y:m};break;default:_={x:r.x,y:r.y}}switch(dc(e)){case"start":_[s]-=g*(n&&f?-1:1);break;case"end":_[s]+=g*(n&&f?-1:1);break}return _}const LX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,u=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=WA(f,r,c),g=r,_={},y=0;for(let w=0;w<u.length;w++){const{name:x,fn:T}=u[w],{x:E,y:S,data:O,reset:N}=await T({x:h,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:_,rects:f,platform:s,elements:{reference:t,floating:e}});h=E??h,m=S??m,_={..._,[x]:{..._[x],...O}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(f=N.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:h,y:m}=WA(f,g,c)),w=-1)}return{x:h,y:m,placement:g,strategy:i,middlewareData:_}};async function ed(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:u,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:_=0}=zo(e,t),y=kV(_),x=u[g?m==="floating"?"reference":"floating":m],T=ev(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:c})),E=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),O=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},N=ev(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:S,strategy:c}):E);return{top:(T.top-N.top+y.top)/O.y,bottom:(N.bottom-T.bottom+y.bottom)/O.y,left:(T.left-N.left+y.left)/O.x,right:(N.right-T.right+y.right)/O.x}}const VX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:u,middlewareData:c}=e,{element:f,padding:h=0}=zo(t,e)||{};if(f==null)return{};const m=kV(h),g={x:n,y:r},_=Yb(i),y=Kb(_),w=await s.getDimensions(f),x=_==="y",T=x?"top":"left",E=x?"bottom":"right",S=x?"clientHeight":"clientWidth",O=o.reference[y]+o.reference[_]-g[_]-o.floating[y],N=g[_]-o.reference[_],$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let M=$?$[S]:0;(!M||!await(s.isElement==null?void 0:s.isElement($)))&&(M=u.floating[S]||o.floating[y]);const R=O/2-N/2,k=M/2-w[y]/2-1,I=Ka(m[T],k),L=Ka(m[E],k),V=I,A=M-w[y]-L,H=M/2-w[y]/2+R,X=Y1(V,H,A),Q=!c.arrow&&dc(i)!=null&&H!==X&&o.reference[y]/2-(H<V?I:L)-w[y]/2<0,J=Q?H<V?H-V:H-A:0;return{[_]:g[_]+J,data:{[_]:X,centerOffset:H-X-J,...Q&&{alignmentOffset:J}},reset:Q}}}),FX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:u,platform:c,elements:f}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...x}=zo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=Bo(i),E=Ya(u),S=Bo(u)===u,O=await(c.isRTL==null?void 0:c.isRTL(f.floating)),N=g||(S||!w?[Zg(u)]:AX(u)),$=y!=="none";!g&&$&&N.push(...DX(u,w,y,O));const M=[u,...N],R=await ed(e,x),k=[];let I=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&k.push(R[T]),m){const H=MX(i,s,O);k.push(R[H[0]],R[H[1]])}if(I=[...I,{placement:i,overflows:k}],!k.every(H=>H<=0)){var L,V;const H=(((L=o.flip)==null?void 0:L.index)||0)+1,X=M[H];if(X)return{data:{index:H,overflows:I},reset:{placement:X}};let Q=(V=I.filter(J=>J.overflows[0]<=0).sort((J,j)=>J.overflows[1]-j.overflows[1])[0])==null?void 0:V.placement;if(!Q)switch(_){case"bestFit":{var A;const J=(A=I.filter(j=>{if($){const ue=Ya(j.placement);return ue===E||ue==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(ue=>ue>0).reduce((ue,re)=>ue+re,0)]).sort((j,ue)=>j[1]-ue[1])[0])==null?void 0:A[0];J&&(Q=J);break}case"initialPlacement":Q=u;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function HA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GA(t){return RX.some(e=>t[e]>=0)}const qX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=zo(t,e);switch(r){case"referenceHidden":{const o=await ed(e,{...i,elementContext:"reference"}),s=HA(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:GA(s)}}}case"escaped":{const o=await ed(e,{...i,altBoundary:!0}),s=HA(o,n.floating);return{data:{escapedOffsets:s,escaped:GA(s)}}}default:return{}}}}};async function $X(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Bo(n),u=dc(n),c=Ya(n)==="y",f=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,m=zo(e,t);let{mainAxis:g,crossAxis:_,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof y=="number"&&(_=u==="end"?y*-1:y),c?{x:_*h,y:g*f}:{x:g*f,y:_*h}}const UX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:u}=e,c=await $X(e,t);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},jX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:x=>{let{x:T,y:E}=x;return{x:T,y:E}}},...c}=zo(t,e),f={x:n,y:r},h=await ed(e,c),m=Ya(Bo(i)),g=Gb(m);let _=f[g],y=f[m];if(o){const x=g==="y"?"top":"left",T=g==="y"?"bottom":"right",E=_+h[x],S=_-h[T];_=Y1(E,_,S)}if(s){const x=m==="y"?"top":"left",T=m==="y"?"bottom":"right",E=y+h[x],S=y-h[T];y=Y1(E,y,S)}const w=u.fn({...e,[g]:_,[m]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:o,[m]:s}}}}}},zX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:u=0,mainAxis:c=!0,crossAxis:f=!0}=zo(t,e),h={x:n,y:r},m=Ya(i),g=Gb(m);let _=h[g],y=h[m];const w=zo(u,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const S=g==="y"?"height":"width",O=o.reference[g]-o.floating[S]+x.mainAxis,N=o.reference[g]+o.reference[S]-x.mainAxis;_<O?_=O:_>N&&(_=N)}if(f){var T,E;const S=g==="y"?"width":"height",O=["top","left"].includes(Bo(i)),N=o.reference[m]-o.floating[S]+(O&&((T=s.offset)==null?void 0:T[m])||0)+(O?0:x.crossAxis),$=o.reference[m]+o.reference[S]+(O?0:((E=s.offset)==null?void 0:E[m])||0)-(O?x.crossAxis:0);y<N?y=N:y>$&&(y=$)}return{[g]:_,[m]:y}}}},BX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:u}=e,{apply:c=()=>{},...f}=zo(t,e),h=await ed(e,f),m=Bo(i),g=dc(i),_=Ya(i)==="y",{width:y,height:w}=o.floating;let x,T;m==="top"||m==="bottom"?(x=m,T=g===(await(s.isRTL==null?void 0:s.isRTL(u.floating))?"start":"end")?"left":"right"):(T=m,x=g==="end"?"top":"bottom");const E=w-h.top-h.bottom,S=y-h.left-h.right,O=Ka(w-h[x],E),N=Ka(y-h[T],S),$=!e.middlewareData.shift;let M=O,R=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=E),$&&!g){const I=_r(h.left,0),L=_r(h.right,0),V=_r(h.top,0),A=_r(h.bottom,0);_?R=y-2*(I!==0||L!==0?I+L:_r(h.left,h.right)):M=w-2*(V!==0||A!==0?V+A:_r(h.top,h.bottom))}await c({...e,availableWidth:R,availableHeight:M});const k=await s.getDimensions(u.floating);return y!==k.width||w!==k.height?{reset:{rects:!0}}:{}}}};function Xv(){return typeof window<"u"}function hc(t){return MV(t)?(t.nodeName||"").toLowerCase():"#document"}function xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function eo(t){var e;return(e=(MV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MV(t){return Xv()?t instanceof Node||t instanceof xr(t).Node:!1}function gi(t){return Xv()?t instanceof Element||t instanceof xr(t).Element:!1}function Qi(t){return Xv()?t instanceof HTMLElement||t instanceof xr(t).HTMLElement:!1}function KA(t){return!Xv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xr(t).ShadowRoot}function Td(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function WX(t){return["table","td","th"].includes(hc(t))}function Jv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Qb(t){const e=Xb(),n=gi(t)?vi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HX(t){let e=Qa(t);for(;Qi(e)&&!Gl(e);){if(Qb(e))return e;if(Jv(e))return null;e=Qa(e)}return null}function Xb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gl(t){return["html","body","#document"].includes(hc(t))}function vi(t){return xr(t).getComputedStyle(t)}function Zv(t){return gi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qa(t){if(hc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KA(t)&&t.host||eo(t);return KA(e)?e.host:e}function AV(t){const e=Qa(t);return Gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qi(e)&&Td(e)?e:AV(e)}function td(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=AV(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=xr(i);if(o){const u=X1(s);return e.concat(s,s.visualViewport||[],Td(i)?i:[],u&&n?td(u):[])}return e.concat(i,td(i,[],n))}function X1(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OV(t){const e=vi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qi(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,u=Jg(n)!==o||Jg(r)!==s;return u&&(n=o,r=s),{width:n,height:r,$:u}}function Jb(t){return gi(t)?t:t.contextElement}function kl(t){const e=Jb(t);if(!Qi(e))return Wi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=OV(e);let s=(o?Jg(n.width):n.width)/r,u=(o?Jg(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const GX=Wi(0);function DV(t){const e=xr(t);return!Xb()||!e.visualViewport?GX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KX(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xr(t)?!1:e}function au(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Jb(t);let s=Wi(1);e&&(r?gi(r)&&(s=kl(r)):s=kl(t));const u=KX(o,n,r)?DV(o):Wi(0);let c=(i.left+u.x)/s.x,f=(i.top+u.y)/s.y,h=i.width/s.x,m=i.height/s.y;if(o){const g=xr(o),_=r&&gi(r)?xr(r):r;let y=g,w=X1(y);for(;w&&r&&_!==y;){const x=kl(w),T=w.getBoundingClientRect(),E=vi(w),S=T.left+(w.clientLeft+parseFloat(E.paddingLeft))*x.x,O=T.top+(w.clientTop+parseFloat(E.paddingTop))*x.y;c*=x.x,f*=x.y,h*=x.x,m*=x.y,c+=S,f+=O,y=xr(w),w=X1(y)}}return ev({width:h,height:m,x:c,y:f})}function Zb(t,e){const n=Zv(t).scrollLeft;return e?e.left+n:au(eo(t)).left+n}function NV(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Zb(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function YX(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=eo(r),u=e?Jv(e.floating):!1;if(r===s||u&&o)return n;let c={scrollLeft:0,scrollTop:0},f=Wi(1);const h=Wi(0),m=Qi(r);if((m||!m&&!o)&&((hc(r)!=="body"||Td(s))&&(c=Zv(r)),Qi(r))){const _=au(r);f=kl(r),h.x=_.x+r.clientLeft,h.y=_.y+r.clientTop}const g=s&&!m&&!o?NV(s,c,!0):Wi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+h.x+g.x,y:n.y*f.y-c.scrollTop*f.y+h.y+g.y}}function QX(t){return Array.from(t.getClientRects())}function XX(t){const e=eo(t),n=Zv(t),r=t.ownerDocument.body,i=_r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=_r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Zb(t);const u=-n.scrollTop;return vi(r).direction==="rtl"&&(s+=_r(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:u}}function JX(t,e){const n=xr(t),r=eo(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,u=0,c=0;if(i){o=i.width,s=i.height;const f=Xb();(!f||f&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:u,y:c}}function ZX(t,e){const n=au(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Qi(t)?kl(t):Wi(1),s=t.clientWidth*o.x,u=t.clientHeight*o.y,c=i*o.x,f=r*o.y;return{width:s,height:u,x:c,y:f}}function YA(t,e,n){let r;if(e==="viewport")r=JX(t,n);else if(e==="document")r=XX(eo(t));else if(gi(e))r=ZX(e,n);else{const i=DV(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ev(r)}function LV(t,e){const n=Qa(t);return n===e||!gi(n)||Gl(n)?!1:vi(n).position==="fixed"||LV(n,e)}function eJ(t,e){const n=e.get(t);if(n)return n;let r=td(t,[],!1).filter(u=>gi(u)&&hc(u)!=="body"),i=null;const o=vi(t).position==="fixed";let s=o?Qa(t):t;for(;gi(s)&&!Gl(s);){const u=vi(s),c=Qb(s);!c&&u.position==="fixed"&&(i=null),(o?!c&&!i:!c&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Td(s)&&!c&&LV(t,s))?r=r.filter(h=>h!==s):i=u,s=Qa(s)}return e.set(t,r),r}function tJ(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Jv(e)?[]:eJ(e,this._c):[].concat(n),r],u=s[0],c=s.reduce((f,h)=>{const m=YA(e,h,i);return f.top=_r(m.top,f.top),f.right=Ka(m.right,f.right),f.bottom=Ka(m.bottom,f.bottom),f.left=_r(m.left,f.left),f},YA(e,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function nJ(t){const{width:e,height:n}=OV(t);return{width:e,height:n}}function rJ(t,e,n){const r=Qi(e),i=eo(e),o=n==="fixed",s=au(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const c=Wi(0);if(r||!r&&!o)if((hc(e)!=="body"||Td(i))&&(u=Zv(e)),r){const g=au(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=Zb(i));const f=i&&!r&&!o?NV(i,u):Wi(0),h=s.left+u.scrollLeft-c.x-f.x,m=s.top+u.scrollTop-c.y-f.y;return{x:h,y:m,width:s.width,height:s.height}}function Ow(t){return vi(t).position==="static"}function QA(t,e){if(!Qi(t)||vi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return eo(t)===n&&(n=n.ownerDocument.body),n}function VV(t,e){const n=xr(t);if(Jv(t))return n;if(!Qi(t)){let i=Qa(t);for(;i&&!Gl(i);){if(gi(i)&&!Ow(i))return i;i=Qa(i)}return n}let r=QA(t,e);for(;r&&WX(r)&&Ow(r);)r=QA(r,e);return r&&Gl(r)&&Ow(r)&&!Qb(r)?n:r||HX(t)||n}const iJ=async function(t){const e=this.getOffsetParent||VV,n=this.getDimensions,r=await n(t.floating);return{reference:rJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oJ(t){return vi(t).direction==="rtl"}const aJ={convertOffsetParentRelativeRectToViewportRelativeRect:YX,getDocumentElement:eo,getClippingRect:tJ,getOffsetParent:VV,getElementRects:iJ,getClientRects:QX,getDimensions:nJ,getScale:kl,isElement:gi,isRTL:oJ};function FV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sJ(t,e){let n=null,r;const i=eo(t);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),o();const f=t.getBoundingClientRect(),{left:h,top:m,width:g,height:_}=f;if(u||e(),!g||!_)return;const y=Gm(m),w=Gm(i.clientWidth-(h+g)),x=Gm(i.clientHeight-(m+_)),T=Gm(h),S={rootMargin:-y+"px "+-w+"px "+-x+"px "+-T+"px",threshold:_r(0,Ka(1,c))||1};let O=!0;function N($){const M=$[0].intersectionRatio;if(M!==c){if(!O)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!FV(f,t.getBoundingClientRect())&&s(),O=!1}try{n=new IntersectionObserver(N,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,S)}n.observe(t)}return s(!0),o}function uJ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Jb(t),h=i||o?[...f?td(f):[],...td(e)]:[];h.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const m=f&&u?sJ(f,n):null;let g=-1,_=null;s&&(_=new ResizeObserver(T=>{let[E]=T;E&&E.target===f&&_&&(_.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=_)==null||S.observe(e)})),n()}),f&&!c&&_.observe(f),_.observe(e));let y,w=c?au(t):null;c&&x();function x(){const T=au(t);w&&!FV(w,T)&&n(),w=T,y=requestAnimationFrame(x)}return n(),()=>{var T;h.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),m==null||m(),(T=_)==null||T.disconnect(),_=null,c&&cancelAnimationFrame(y)}}const lJ=UX,cJ=jX,fJ=FX,dJ=BX,hJ=qX,XA=VX,pJ=zX,mJ=(t,e,n)=>{const r=new Map,i={platform:aJ,...n},o={...i.platform,_c:r};return LX(t,e,{...i,platform:o})};var fg=typeof document<"u"?F.useLayoutEffect:F.useEffect;function tv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!tv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function qV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JA(t,e){const n=qV(t);return Math.round(e*n)/n}function Dw(t){const e=F.useRef(t);return fg(()=>{e.current=t}),e}function gJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:u=!0,whileElementsMounted:c,open:f}=t,[h,m]=F.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,_]=F.useState(r);tv(g,r)||_(r);const[y,w]=F.useState(null),[x,T]=F.useState(null),E=F.useCallback(j=>{j!==$.current&&($.current=j,w(j))},[]),S=F.useCallback(j=>{j!==M.current&&(M.current=j,T(j))},[]),O=o||y,N=s||x,$=F.useRef(null),M=F.useRef(null),R=F.useRef(h),k=c!=null,I=Dw(c),L=Dw(i),V=Dw(f),A=F.useCallback(()=>{if(!$.current||!M.current)return;const j={placement:e,strategy:n,middleware:g};L.current&&(j.platform=L.current),mJ($.current,M.current,j).then(ue=>{const re={...ue,isPositioned:V.current!==!1};H.current&&!tv(R.current,re)&&(R.current=re,id.flushSync(()=>{m(re)}))})},[g,e,n,L,V]);fg(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(j=>({...j,isPositioned:!1})))},[f]);const H=F.useRef(!1);fg(()=>(H.current=!0,()=>{H.current=!1}),[]),fg(()=>{if(O&&($.current=O),N&&(M.current=N),O&&N){if(I.current)return I.current(O,N,A);A()}},[O,N,A,I,k]);const X=F.useMemo(()=>({reference:$,floating:M,setReference:E,setFloating:S}),[E,S]),Q=F.useMemo(()=>({reference:O,floating:N}),[O,N]),J=F.useMemo(()=>{const j={position:n,left:0,top:0};if(!Q.floating)return j;const ue=JA(Q.floating,h.x),re=JA(Q.floating,h.y);return u?{...j,transform:"translate("+ue+"px, "+re+"px)",...qV(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:re}},[n,u,Q.floating,h.x,h.y]);return F.useMemo(()=>({...h,update:A,refs:X,elements:Q,floatingStyles:J}),[h,A,X,Q,J])}const vJ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XA({element:r.current,padding:i}).fn(n):{}:r?XA({element:r,padding:i}).fn(n):{}}}},yJ=(t,e)=>({...lJ(t),options:[t,e]}),_J=(t,e)=>({...cJ(t),options:[t,e]}),wJ=(t,e)=>({...pJ(t),options:[t,e]}),xJ=(t,e)=>({...fJ(t),options:[t,e]}),bJ=(t,e)=>({...dJ(t),options:[t,e]}),TJ=(t,e)=>({...hJ(t),options:[t,e]}),EJ=(t,e)=>({...vJ(t),options:[t,e]});var SJ="Arrow",$V=F.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return ee.jsx(Yt.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:ee.jsx("polygon",{points:"0,0 30,0 15,10"})})});$V.displayName=SJ;var PJ=$V;function CJ(t){const[e,n]=F.useState(void 0);return br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,u;if("borderBoxSize"in o){const c=o.borderBoxSize,f=Array.isArray(c)?c[0]:c;s=f.inlineSize,u=f.blockSize}else s=t.offsetWidth,u=t.offsetHeight;n({width:s,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var eT="Popper",[UV,jV]=Wb(eT),[RJ,zV]=UV(eT),BV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=F.useState(null);return ee.jsx(RJ,{scope:e,anchor:r,onAnchorChange:i,children:n})};BV.displayName=eT;var WV="PopperAnchor",HV=F.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=zV(WV,n),s=F.useRef(null),u=Tn(e,s);return F.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:ee.jsx(Yt.div,{...i,ref:u})});HV.displayName=WV;var tT="PopperContent",[IJ,kJ]=UV(tT),GV=F.forwardRef((t,e)=>{var ce,Pe,de,me,be,fe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:u=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:_="optimized",onPlaced:y,...w}=t,x=zV(tT,n),[T,E]=F.useState(null),S=Tn(e,Xe=>E(Xe)),[O,N]=F.useState(null),$=CJ(O),M=($==null?void 0:$.width)??0,R=($==null?void 0:$.height)??0,k=r+(o!=="center"?"-"+o:""),I=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},L=Array.isArray(f)?f:[f],V=L.length>0,A={padding:I,boundary:L.filter(AJ),altBoundary:V},{refs:H,floatingStyles:X,placement:Q,isPositioned:J,middlewareData:j}=gJ({strategy:"fixed",placement:k,whileElementsMounted:(...Xe)=>uJ(...Xe,{animationFrame:_==="always"}),elements:{reference:x.anchor},middleware:[yJ({mainAxis:i+R,alignmentAxis:s}),c&&_J({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?wJ():void 0,...A}),c&&xJ({...A}),bJ({...A,apply:({elements:Xe,rects:Be,availableWidth:ht,availableHeight:gt})=>{const{width:kt,height:ur}=Be.reference,Vn=Xe.floating.style;Vn.setProperty("--radix-popper-available-width",`${ht}px`),Vn.setProperty("--radix-popper-available-height",`${gt}px`),Vn.setProperty("--radix-popper-anchor-width",`${kt}px`),Vn.setProperty("--radix-popper-anchor-height",`${ur}px`)}}),O&&EJ({element:O,padding:u}),OJ({arrowWidth:M,arrowHeight:R}),g&&TJ({strategy:"referenceHidden",...A})]}),[ue,re]=QV(Q),W=jo(y);br(()=>{J&&(W==null||W())},[J,W]);const oe=(ce=j.arrow)==null?void 0:ce.x,le=(Pe=j.arrow)==null?void 0:Pe.y,B=((de=j.arrow)==null?void 0:de.centerOffset)!==0,[te,pe]=F.useState();return br(()=>{T&&pe(window.getComputedStyle(T).zIndex)},[T]),ee.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:J?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(me=j.transformOrigin)==null?void 0:me.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((fe=j.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:ee.jsx(IJ,{scope:n,placedSide:ue,onArrowChange:N,arrowX:oe,arrowY:le,shouldHideArrow:B,children:ee.jsx(Yt.div,{"data-side":ue,"data-align":re,...w,ref:S,style:{...w.style,animation:J?void 0:"none"}})})})});GV.displayName=tT;var KV="PopperArrow",MJ={top:"bottom",right:"left",bottom:"top",left:"right"},YV=F.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=kJ(KV,r),s=MJ[o.placedSide];return ee.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:ee.jsx(PJ,{...i,ref:n,style:{...i.style,display:"block"}})})});YV.displayName=KV;function AJ(t){return t!==null}var OJ=t=>({name:"transformOrigin",options:t,fn(e){var x,T,E;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,u=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[f,h]=QV(n),m={start:"0%",center:"50%",end:"100%"}[h],g=(((T=i.arrow)==null?void 0:T.x)??0)+u/2,_=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let y="",w="";return f==="bottom"?(y=s?m:`${g}px`,w=`${-c}px`):f==="top"?(y=s?m:`${g}px`,w=`${r.floating.height+c}px`):f==="right"?(y=`${-c}px`,w=s?m:`${_}px`):f==="left"&&(y=`${r.floating.width+c}px`,w=s?m:`${_}px`),{data:{x:y,y:w}}}});function QV(t){const[e,n="center"]=t.split("-");return[e,n]}var DJ=BV,NJ=HV,LJ=GV,VJ=YV,FJ="Portal",XV=F.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[i,o]=F.useState(!1);br(()=>o(!0),[]);const s=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return s?wU.createPortal(ee.jsx(Yt.div,{...r,ref:e}),s):null});XV.displayName=FJ;function ZA({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=qJ({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,u=jo(n),c=F.useCallback(f=>{if(o){const m=typeof f=="function"?f(t):f;m!==t&&u(m)}else i(f)},[o,t,i,u]);return[s,c]}function qJ({defaultProp:t,onChange:e}){const n=F.useState(t),[r]=n,i=F.useRef(r),o=jo(e);return F.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function $J(t){const e=F.useRef({value:t,previous:t});return F.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var UJ="VisuallyHidden",JV=F.forwardRef((t,e)=>ee.jsx(Yt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));JV.displayName=UJ;var jJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hl=new WeakMap,Km=new WeakMap,Ym={},Nw=0,ZV=function(t){return t&&(t.host||ZV(t.parentNode))},zJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ZV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BJ=function(t,e,n,r){var i=zJ(e,Array.isArray(t)?t:[t]);Ym[n]||(Ym[n]=new WeakMap);var o=Ym[n],s=[],u=new Set,c=new Set(i),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};i.forEach(f);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(g){if(u.has(g))h(g);else try{var _=g.getAttribute(r),y=_!==null&&_!=="false",w=(hl.get(g)||0)+1,x=(o.get(g)||0)+1;hl.set(g,w),o.set(g,x),s.push(g),w===1&&y&&Km.set(g,!0),x===1&&g.setAttribute(n,"true"),y||g.setAttribute(r,"true")}catch(T){console.error("aria-hidden: cannot operate on ",g,T)}})};return h(e),u.clear(),Nw++,function(){s.forEach(function(m){var g=hl.get(m)-1,_=o.get(m)-1;hl.set(m,g),o.set(m,_),g||(Km.has(m)||m.removeAttribute(r),Km.delete(m)),_||m.removeAttribute(n)}),Nw--,Nw||(hl=new WeakMap,hl=new WeakMap,Km=new WeakMap,Ym={})}},WJ=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=jJ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),BJ(r,i,n,"aria-hidden")):function(){return null}},dg="right-scroll-bar-position",hg="width-before-scroll-bar",HJ="with-scroll-bars-hidden",GJ="--removed-body-scroll-bar-size";function Lw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KJ(t,e){var n=F.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var YJ=typeof window<"u"?F.useLayoutEffect:F.useEffect,eO=new WeakMap;function QJ(t,e){var n=KJ(null,function(r){return t.forEach(function(i){return Lw(i,r)})});return YJ(function(){var r=eO.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(u){o.has(u)||Lw(u,null)}),o.forEach(function(u){i.has(u)||Lw(u,s)})}eO.set(n,t)},[t]),n}function XJ(t){return t}function JJ(t,e){e===void 0&&(e=XJ);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(u){return u!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var u=n;n=[],u.forEach(o),s=n}var c=function(){var h=s;s=[],h.forEach(o)},f=function(){return Promise.resolve().then(c)};f(),n={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),n}}}};return i}function ZJ(t){t===void 0&&(t={});var e=JJ(null);return e.options=Fi({async:!0,ssr:!1},t),e}var eF=function(t){var e=t.sideCar,n=hd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return F.createElement(r,Fi({},n))};eF.isSideCarExport=!0;function eZ(t,e){return t.useMedium(e),eF}var tF=ZJ(),Vw=function(){},ey=F.forwardRef(function(t,e){var n=F.useRef(null),r=F.useState({onScrollCapture:Vw,onWheelCapture:Vw,onTouchMoveCapture:Vw}),i=r[0],o=r[1],s=t.forwardProps,u=t.children,c=t.className,f=t.removeScrollBar,h=t.enabled,m=t.shards,g=t.sideCar,_=t.noIsolation,y=t.inert,w=t.allowPinchZoom,x=t.as,T=x===void 0?"div":x,E=t.gapMode,S=hd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,N=QJ([n,e]),$=Fi(Fi({},S),i);return F.createElement(F.Fragment,null,h&&F.createElement(O,{sideCar:tF,removeScrollBar:f,shards:m,noIsolation:_,inert:y,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:E}),s?F.cloneElement(F.Children.only(u),Fi(Fi({},$),{ref:N})):F.createElement(T,Fi({},$,{className:c,ref:N}),u))});ey.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ey.classNames={fullWidth:hg,zeroRight:dg};var tZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=tZ();return e&&t.setAttribute("nonce",e),t}function rZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function iZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var oZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=nZ())&&(rZ(e,n),iZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aZ=function(){var t=oZ();return function(e,n){F.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nF=function(){var t=aZ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sZ={left:0,top:0,right:0,gap:0},Fw=function(t){return parseInt(t||"",10)||0},uZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Fw(n),Fw(r),Fw(i)]},lZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sZ;var e=uZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cZ=nF(),Ml="data-scroll-locked",fZ=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(HJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dg,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hg,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hg," .").concat(hg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat(GJ,": ").concat(u,`px;
  }
`)},tO=function(){var t=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(t)?t:0},dZ=function(){F.useEffect(function(){return document.body.setAttribute(Ml,(tO()+1).toString()),function(){var t=tO()-1;t<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,t.toString())}},[])},hZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;dZ();var o=F.useMemo(function(){return lZ(i)},[i]);return F.createElement(cZ,{styles:fZ(o,!e,i,n?"":"!important")})},J1=!1;if(typeof window<"u")try{var Qm=Object.defineProperty({},"passive",{get:function(){return J1=!0,!0}});window.addEventListener("test",Qm,Qm),window.removeEventListener("test",Qm,Qm)}catch{J1=!1}var pl=J1?{passive:!1}:!1,pZ=function(t){return t.tagName==="TEXTAREA"},rF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!pZ(t)&&n[e]==="visible")},mZ=function(t){return rF(t,"overflowY")},gZ=function(t){return rF(t,"overflowX")},nO=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=iF(t,r);if(i){var o=oF(t,r),s=o[1],u=o[2];if(s>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},iF=function(t,e){return t==="v"?mZ(e):gZ(e)},oF=function(t,e){return t==="v"?vZ(e):yZ(e)},_Z=function(t,e){return t==="h"&&e==="rtl"?-1:1},wZ=function(t,e,n,r,i){var o=_Z(t,window.getComputedStyle(e).direction),s=o*r,u=n.target,c=e.contains(u),f=!1,h=s>0,m=0,g=0;do{var _=oF(t,u),y=_[0],w=_[1],x=_[2],T=w-x-o*y;(y||T)&&iF(t,u)&&(m+=T,g+=y),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!c&&u!==document.body||c&&(e.contains(u)||e===u));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(f=!0),f},Xm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},rO=function(t){return[t.deltaX,t.deltaY]},iO=function(t){return t&&"current"in t?t.current:t},xZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},TZ=0,ml=[];function EZ(t){var e=F.useRef([]),n=F.useRef([0,0]),r=F.useRef(),i=F.useState(TZ++)[0],o=F.useState(nF)[0],s=F.useRef(t);F.useEffect(function(){s.current=t},[t]),F.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=Tz([t.lockRef.current],(t.shards||[]).map(iO),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=F.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!s.current.allowPinchZoom;var T=Xm(w),E=n.current,S="deltaX"in w?w.deltaX:E[0]-T[0],O="deltaY"in w?w.deltaY:E[1]-T[1],N,$=w.target,M=Math.abs(S)>Math.abs(O)?"h":"v";if("touches"in w&&M==="h"&&$.type==="range")return!1;var R=nO(M,$);if(!R)return!0;if(R?N=M:(N=M==="v"?"h":"v",R=nO(M,$)),!R)return!1;if(!r.current&&"changedTouches"in w&&(S||O)&&(r.current=N),!N)return!0;var k=r.current||N;return wZ(k,x,w,k==="h"?S:O)},[]),c=F.useCallback(function(w){var x=w;if(!(!ml.length||ml[ml.length-1]!==o)){var T="deltaY"in x?rO(x):Xm(x),E=e.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&xZ(N.delta,T)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var S=(s.current.shards||[]).map(iO).filter(Boolean).filter(function(N){return N.contains(x.target)}),O=S.length>0?u(x,S[0]):!s.current.noIsolation;O&&x.cancelable&&x.preventDefault()}}},[]),f=F.useCallback(function(w,x,T,E){var S={name:w,delta:x,target:T,should:E,shadowParent:SZ(T)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(O){return O!==S})},1)},[]),h=F.useCallback(function(w){n.current=Xm(w),r.current=void 0},[]),m=F.useCallback(function(w){f(w.type,rO(w),w.target,u(w,t.lockRef.current))},[]),g=F.useCallback(function(w){f(w.type,Xm(w),w.target,u(w,t.lockRef.current))},[]);F.useEffect(function(){return ml.push(o),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,pl),document.addEventListener("touchmove",c,pl),document.addEventListener("touchstart",h,pl),function(){ml=ml.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,pl),document.removeEventListener("touchmove",c,pl),document.removeEventListener("touchstart",h,pl)}},[]);var _=t.removeScrollBar,y=t.inert;return F.createElement(F.Fragment,null,y?F.createElement(o,{styles:bZ(i)}):null,_?F.createElement(hZ,{gapMode:t.gapMode}):null)}function SZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const PZ=eZ(tF,EZ);var aF=F.forwardRef(function(t,e){return F.createElement(ey,Fi({},t,{ref:e,sideCar:PZ}))});aF.classNames=ey.classNames;var CZ=[" ","Enter","ArrowUp","ArrowDown"],RZ=[" ","Enter"],Ed="Select",[ty,ny,IZ]=oX(Ed),[pc,Cee]=Wb(Ed,[IZ,jV]),ry=jV(),[kZ,es]=pc(Ed),[MZ,AZ]=pc(Ed),sF=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:u,onValueChange:c,dir:f,name:h,autoComplete:m,disabled:g,required:_,form:y}=t,w=ry(e),[x,T]=F.useState(null),[E,S]=F.useState(null),[O,N]=F.useState(!1),$=sX(f),[M=!1,R]=ZA({prop:r,defaultProp:i,onChange:o}),[k,I]=ZA({prop:s,defaultProp:u,onChange:c}),L=F.useRef(null),V=x?y||!!x.closest("form"):!0,[A,H]=F.useState(new Set),X=Array.from(A).map(Q=>Q.props.value).join(";");return ee.jsx(DJ,{...w,children:ee.jsxs(kZ,{required:_,scope:e,trigger:x,onTriggerChange:T,valueNode:E,onValueNodeChange:S,valueNodeHasChildren:O,onValueNodeHasChildrenChange:N,contentId:Hb(),value:k,onValueChange:I,open:M,onOpenChange:R,dir:$,triggerPointerDownPosRef:L,disabled:g,children:[ee.jsx(ty.Provider,{scope:e,children:ee.jsx(MZ,{scope:t.__scopeSelect,onNativeOptionAdd:F.useCallback(Q=>{H(J=>new Set(J).add(Q))},[]),onNativeOptionRemove:F.useCallback(Q=>{H(J=>{const j=new Set(J);return j.delete(Q),j})},[]),children:n})}),V?ee.jsxs(AF,{"aria-hidden":!0,required:_,tabIndex:-1,name:h,autoComplete:m,value:k,onChange:Q=>I(Q.target.value),disabled:g,form:y,children:[k===void 0?ee.jsx("option",{value:""}):null,Array.from(A)]},X):null]})})};sF.displayName=Ed;var uF="SelectTrigger",lF=F.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=ry(n),s=es(uF,n),u=s.disabled||r,c=Tn(e,s.onTriggerChange),f=ny(n),h=F.useRef("touch"),[m,g,_]=OF(w=>{const x=f().filter(S=>!S.disabled),T=x.find(S=>S.value===s.value),E=DF(x,w,T);E!==void 0&&s.onValueChange(E.value)}),y=w=>{u||(s.onOpenChange(!0),_()),w&&(s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return ee.jsx(NJ,{asChild:!0,...o,children:ee.jsx(Yt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":MF(s.value)?"":void 0,...i,ref:c,onClick:Gt(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&y(w)}),onPointerDown:Gt(i.onPointerDown,w=>{h.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(y(w),w.preventDefault())}),onKeyDown:Gt(i.onKeyDown,w=>{const x=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(x&&w.key===" ")&&CZ.includes(w.key)&&(y(),w.preventDefault())})})})});lF.displayName=uF;var cF="SelectValue",fF=F.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...u}=t,c=es(cF,n),{onValueNodeHasChildrenChange:f}=c,h=o!==void 0,m=Tn(e,c.onValueNodeChange);return br(()=>{f(h)},[f,h]),ee.jsx(Yt.span,{...u,ref:m,style:{pointerEvents:"none"},children:MF(c.value)?ee.jsx(ee.Fragment,{children:s}):o})});fF.displayName=cF;var OZ="SelectIcon",dF=F.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return ee.jsx(Yt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});dF.displayName=OZ;var DZ="SelectPortal",hF=t=>ee.jsx(XV,{asChild:!0,...t});hF.displayName=DZ;var su="SelectContent",pF=F.forwardRef((t,e)=>{const n=es(su,t.__scopeSelect),[r,i]=F.useState();if(br(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?id.createPortal(ee.jsx(mF,{scope:t.__scopeSelect,children:ee.jsx(ty.Slot,{scope:t.__scopeSelect,children:ee.jsx("div",{children:t.children})})}),o):null}return ee.jsx(gF,{...t,ref:e})});pF.displayName=su;var si=10,[mF,ts]=pc(su),NZ="SelectContentImpl",LZ=Zf("SelectContent.RemoveScroll"),gF=F.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:u,sideOffset:c,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:_,sticky:y,hideWhenDetached:w,avoidCollisions:x,...T}=t,E=es(su,n),[S,O]=F.useState(null),[N,$]=F.useState(null),M=Tn(e,ce=>O(ce)),[R,k]=F.useState(null),[I,L]=F.useState(null),V=ny(n),[A,H]=F.useState(!1),X=F.useRef(!1);F.useEffect(()=>{if(S)return WJ(S)},[S]),yX();const Q=F.useCallback(ce=>{const[Pe,...de]=V().map(fe=>fe.ref.current),[me]=de.slice(-1),be=document.activeElement;for(const fe of ce)if(fe===be||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Pe&&N&&(N.scrollTop=0),fe===me&&N&&(N.scrollTop=N.scrollHeight),fe==null||fe.focus(),document.activeElement!==be))return},[V,N]),J=F.useCallback(()=>Q([R,S]),[Q,R,S]);F.useEffect(()=>{A&&J()},[A,J]);const{onOpenChange:j,triggerPointerDownPosRef:ue}=E;F.useEffect(()=>{if(S){let ce={x:0,y:0};const Pe=me=>{var be,fe;ce={x:Math.abs(Math.round(me.pageX)-(((be=ue.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(me.pageY)-(((fe=ue.current)==null?void 0:fe.y)??0))}},de=me=>{ce.x<=10&&ce.y<=10?me.preventDefault():S.contains(me.target)||j(!1),document.removeEventListener("pointermove",Pe),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",de,{capture:!0})}}},[S,j,ue]),F.useEffect(()=>{const ce=()=>j(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[j]);const[re,W]=OF(ce=>{const Pe=V().filter(be=>!be.disabled),de=Pe.find(be=>be.ref.current===document.activeElement),me=DF(Pe,ce,de);me&&setTimeout(()=>me.ref.current.focus())}),oe=F.useCallback((ce,Pe,de)=>{const me=!X.current&&!de;(E.value!==void 0&&E.value===Pe||me)&&(k(ce),me&&(X.current=!0))},[E.value]),le=F.useCallback(()=>S==null?void 0:S.focus(),[S]),B=F.useCallback((ce,Pe,de)=>{const me=!X.current&&!de;(E.value!==void 0&&E.value===Pe||me)&&L(ce)},[E.value]),te=r==="popper"?Z1:vF,pe=te===Z1?{side:u,sideOffset:c,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:_,sticky:y,hideWhenDetached:w,avoidCollisions:x}:{};return ee.jsx(mF,{scope:n,content:S,viewport:N,onViewportChange:$,itemRefCallback:oe,selectedItem:R,onItemLeave:le,itemTextRefCallback:B,focusSelectedItem:J,selectedItemText:I,position:r,isPositioned:A,searchRef:re,children:ee.jsx(aF,{as:LZ,allowPinchZoom:!0,children:ee.jsx(RV,{asChild:!0,trapped:E.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Gt(i,ce=>{var Pe;(Pe=E.trigger)==null||Pe.focus({preventScroll:!0}),ce.preventDefault()}),children:ee.jsx(PV,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:ee.jsx(te,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ce=>ce.preventDefault(),...T,...pe,onPlaced:()=>H(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Gt(T.onKeyDown,ce=>{const Pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Pe&&ce.key.length===1&&W(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let me=V().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const be=ce.target,fe=me.indexOf(be);me=me.slice(fe+1)}setTimeout(()=>Q(me)),ce.preventDefault()}})})})})})})});gF.displayName=NZ;var VZ="SelectItemAlignedPosition",vF=F.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=es(su,n),s=ts(su,n),[u,c]=F.useState(null),[f,h]=F.useState(null),m=Tn(e,M=>h(M)),g=ny(n),_=F.useRef(!1),y=F.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:T,focusSelectedItem:E}=s,S=F.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&w&&x&&T){const M=o.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),k=o.valueNode.getBoundingClientRect(),I=T.getBoundingClientRect();if(o.dir!=="rtl"){const be=I.left-R.left,fe=k.left-be,Xe=M.left-fe,Be=M.width+Xe,ht=Math.max(Be,R.width),gt=window.innerWidth-si,kt=VA(fe,[si,Math.max(si,gt-ht)]);u.style.minWidth=Be+"px",u.style.left=kt+"px"}else{const be=R.right-I.right,fe=window.innerWidth-k.right-be,Xe=window.innerWidth-M.right-fe,Be=M.width+Xe,ht=Math.max(Be,R.width),gt=window.innerWidth-si,kt=VA(fe,[si,Math.max(si,gt-ht)]);u.style.minWidth=Be+"px",u.style.right=kt+"px"}const L=g(),V=window.innerHeight-si*2,A=w.scrollHeight,H=window.getComputedStyle(f),X=parseInt(H.borderTopWidth,10),Q=parseInt(H.paddingTop,10),J=parseInt(H.borderBottomWidth,10),j=parseInt(H.paddingBottom,10),ue=X+Q+A+j+J,re=Math.min(x.offsetHeight*5,ue),W=window.getComputedStyle(w),oe=parseInt(W.paddingTop,10),le=parseInt(W.paddingBottom,10),B=M.top+M.height/2-si,te=V-B,pe=x.offsetHeight/2,ce=x.offsetTop+pe,Pe=X+Q+ce,de=ue-Pe;if(Pe<=B){const be=L.length>0&&x===L[L.length-1].ref.current;u.style.bottom="0px";const fe=f.clientHeight-w.offsetTop-w.offsetHeight,Xe=Math.max(te,pe+(be?le:0)+fe+J),Be=Pe+Xe;u.style.height=Be+"px"}else{const be=L.length>0&&x===L[0].ref.current;u.style.top="0px";const Xe=Math.max(B,X+w.offsetTop+(be?oe:0)+pe)+de;u.style.height=Xe+"px",w.scrollTop=Pe-B+w.offsetTop}u.style.margin=`${si}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=V+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[g,o.trigger,o.valueNode,u,f,w,x,T,o.dir,r]);br(()=>S(),[S]);const[O,N]=F.useState();br(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const $=F.useCallback(M=>{M&&y.current===!0&&(S(),E==null||E(),y.current=!1)},[S,E]);return ee.jsx(qZ,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:$,children:ee.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:ee.jsx(Yt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});vF.displayName=VZ;var FZ="SelectPopperPosition",Z1=F.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=si,...o}=t,s=ry(n);return ee.jsx(LJ,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Z1.displayName=FZ;var[qZ,nT]=pc(su,{}),ex="SelectViewport",yF=F.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=ts(ex,n),s=nT(ex,n),u=Tn(e,o.onViewportChange),c=F.useRef(0);return ee.jsxs(ee.Fragment,{children:[ee.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),ee.jsx(ty.Slot,{scope:n,children:ee.jsx(Yt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Gt(i.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=s;if(g!=null&&g.current&&m){const _=Math.abs(c.current-h.scrollTop);if(_>0){const y=window.innerHeight-si*2,w=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),T=Math.max(w,x);if(T<y){const E=T+_,S=Math.min(y,E),O=E-S;m.style.height=S+"px",m.style.bottom==="0px"&&(h.scrollTop=O>0?O:0,m.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});yF.displayName=ex;var _F="SelectGroup",[$Z,UZ]=pc(_F),wF=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Hb();return ee.jsx($Z,{scope:n,id:i,children:ee.jsx(Yt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});wF.displayName=_F;var xF="SelectLabel",bF=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=UZ(xF,n);return ee.jsx(Yt.div,{id:i.id,...r,ref:e})});bF.displayName=xF;var nv="SelectItem",[jZ,TF]=pc(nv),EF=F.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,u=es(nv,n),c=ts(nv,n),f=u.value===r,[h,m]=F.useState(o??""),[g,_]=F.useState(!1),y=Tn(e,E=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,E,r,i)}),w=Hb(),x=F.useRef("touch"),T=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return ee.jsx(jZ,{scope:n,value:r,disabled:i,textId:w,isSelected:f,onItemTextChange:F.useCallback(E=>{m(S=>S||((E==null?void 0:E.textContent)??"").trim())},[]),children:ee.jsx(ty.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:ee.jsx(Yt.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:y,onFocus:Gt(s.onFocus,()=>_(!0)),onBlur:Gt(s.onBlur,()=>_(!1)),onClick:Gt(s.onClick,()=>{x.current!=="mouse"&&T()}),onPointerUp:Gt(s.onPointerUp,()=>{x.current==="mouse"&&T()}),onPointerDown:Gt(s.onPointerDown,E=>{x.current=E.pointerType}),onPointerMove:Gt(s.onPointerMove,E=>{var S;x.current=E.pointerType,i?(S=c.onItemLeave)==null||S.call(c):x.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Gt(s.onPointerLeave,E=>{var S;E.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Gt(s.onKeyDown,E=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&E.key===" "||(RZ.includes(E.key)&&T(),E.key===" "&&E.preventDefault())})})})})});EF.displayName=nv;var If="SelectItemText",SF=F.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=es(If,n),u=ts(If,n),c=TF(If,n),f=AZ(If,n),[h,m]=F.useState(null),g=Tn(e,T=>m(T),c.onItemTextChange,T=>{var E;return(E=u.itemTextRefCallback)==null?void 0:E.call(u,T,c.value,c.disabled)}),_=h==null?void 0:h.textContent,y=F.useMemo(()=>ee.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=f;return br(()=>(w(y),()=>x(y)),[w,x,y]),ee.jsxs(ee.Fragment,{children:[ee.jsx(Yt.span,{id:c.textId,...o,ref:g}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?id.createPortal(o.children,s.valueNode):null]})});SF.displayName=If;var PF="SelectItemIndicator",CF=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return TF(PF,n).isSelected?ee.jsx(Yt.span,{"aria-hidden":!0,...r,ref:e}):null});CF.displayName=PF;var tx="SelectScrollUpButton",RF=F.forwardRef((t,e)=>{const n=ts(tx,t.__scopeSelect),r=nT(tx,t.__scopeSelect),[i,o]=F.useState(!1),s=Tn(e,r.onScrollButtonChange);return br(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=c.scrollTop>0;o(f)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?ee.jsx(kF,{...t,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop-c.offsetHeight)}}):null});RF.displayName=tx;var nx="SelectScrollDownButton",IF=F.forwardRef((t,e)=>{const n=ts(nx,t.__scopeSelect),r=nT(nx,t.__scopeSelect),[i,o]=F.useState(!1),s=Tn(e,r.onScrollButtonChange);return br(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<f;o(h)};const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?ee.jsx(kF,{...t,ref:s,onAutoScroll:()=>{const{viewport:u,selectedItem:c}=n;u&&c&&(u.scrollTop=u.scrollTop+c.offsetHeight)}}):null});IF.displayName=nx;var kF=F.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=ts("SelectScrollButton",n),s=F.useRef(null),u=ny(n),c=F.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return F.useEffect(()=>()=>c(),[c]),br(()=>{var h;const f=u().find(m=>m.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[u]),ee.jsx(Yt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Gt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Gt(i.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Gt(i.onPointerLeave,()=>{c()})})}),zZ="SelectSeparator",BZ=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ee.jsx(Yt.div,{"aria-hidden":!0,...r,ref:e})});BZ.displayName=zZ;var rx="SelectArrow",WZ=F.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ry(n),o=es(rx,n),s=ts(rx,n);return o.open&&s.position==="popper"?ee.jsx(VJ,{...i,...r,ref:e}):null});WZ.displayName=rx;function MF(t){return t===""||t===void 0}var AF=F.forwardRef((t,e)=>{const{value:n,...r}=t,i=F.useRef(null),o=Tn(e,i),s=$J(n);return F.useEffect(()=>{const u=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==n&&h){const m=new Event("change",{bubbles:!0});h.call(u,n),u.dispatchEvent(m)}},[s,n]),ee.jsx(JV,{asChild:!0,children:ee.jsx("select",{...r,ref:o,defaultValue:n})})});AF.displayName="BubbleSelect";function OF(t){const e=jo(t),n=F.useRef(""),r=F.useRef(0),i=F.useCallback(s=>{const u=n.current+s;e(u),function c(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(u)},[e]),o=F.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function DF(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=HZ(t,Math.max(o,0));i.length===1&&(s=s.filter(f=>f!==n));const c=s.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function HZ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GZ=sF,KZ=lF,YZ=fF,QZ=dF,XZ=hF,JZ=pF,ZZ=yF,eee=wF,tee=bF,nee=EF,ree=SF,iee=CF,oee=RF,aee=IF;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uee=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),oO=t=>{const e=uee(t);return e.charAt(0).toUpperCase()+e.slice(1)},NF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...u},c)=>F.createElement("svg",{ref:c,...lee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NF("lucide",i),...u},[...s.map(([f,h])=>F.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=(t,e)=>{const n=F.forwardRef(({className:r,...i},o)=>F.createElement(cee,{ref:o,iconNode:e,className:NF(`lucide-${see(oO(t))}`,`lucide-${t}`,r),...i}));return n.displayName=oO(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dee=rT("check",fee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LF=rT("chevron-down",hee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mee=rT("chevron-up",pee);function gee({...t}){return ee.jsx(GZ,{"data-slot":"select",...t})}function vee({...t}){return ee.jsx(eee,{"data-slot":"select-group",...t})}function yee({...t}){return ee.jsx(YZ,{"data-slot":"select-value",...t})}function _ee({className:t,size:e="default",children:n,...r}){return ee.jsxs(KZ,{"data-slot":"select-trigger","data-size":e,className:Ga("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,ee.jsx(QZ,{asChild:!0,children:ee.jsx(LF,{className:"size-4 opacity-50"})})]})}function wee({className:t,children:e,position:n="popper",...r}){return ee.jsx(XZ,{children:ee.jsxs(JZ,{"data-slot":"select-content",className:Ga("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[ee.jsx(bee,{}),ee.jsx(ZZ,{className:Ga("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),ee.jsx(Tee,{})]})})}function xee({className:t,...e}){return ee.jsx(tee,{"data-slot":"select-label",className:Ga("text-muted-foreground px-2 py-1.5 text-xs",t),...e})}function oi({className:t,children:e,...n}){return ee.jsxs(nee,{"data-slot":"select-item",className:Ga("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[ee.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:ee.jsx(iee,{children:ee.jsx(dee,{className:"size-4"})})}),ee.jsx(ree,{children:e})]})}function bee({className:t,...e}){return ee.jsx(oee,{"data-slot":"select-scroll-up-button",className:Ga("flex cursor-default items-center justify-center py-1",t),...e,children:ee.jsx(mee,{className:"size-4"})})}function Tee({className:t,...e}){return ee.jsx(aee,{"data-slot":"select-scroll-down-button",className:Ga("flex cursor-default items-center justify-center py-1",t),...e,children:ee.jsx(LF,{className:"size-4"})})}function Eee(){return ee.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-[25vh]",children:[ee.jsxs(gee,{children:[ee.jsx(_ee,{children:ee.jsx(yee,{placeholder:"Select"})}),ee.jsx(wee,{children:ee.jsxs(vee,{className:"flex flex-col items-center",children:[ee.jsx(xee,{children:"Mood"}),ee.jsx(oi,{value:"0",children:"0"}),ee.jsx(oi,{value:"1",children:"1"}),ee.jsx(oi,{value:"2",children:"2"}),ee.jsx(oi,{value:"3",children:"3"}),ee.jsx(oi,{value:"4",children:"4"}),ee.jsx(oi,{value:"5",children:"5"}),ee.jsx(oi,{value:"6",children:"6"}),ee.jsx(oi,{value:"7",children:"7"}),ee.jsx(oi,{value:"8",children:"8"}),ee.jsx(oi,{value:"9",children:"9"}),ee.jsx(oi,{value:"10",children:"10"})]})})]}),ee.jsx(EV,{className:"mt-100",children:"Enter"})]})}function See(){return ee.jsx("div",{className:"min-h-screen w-full flex flex-col text-center items-center justify-center",children:ee.jsx(P6,{loadData:!0,children:ee.jsxs(U$,{children:[ee.jsx(gl,{index:!0,element:ee.jsx(rX,{})}),ee.jsx(gl,{path:"add",element:ee.jsx(Eee,{})}),ee.jsx(gl,{path:"home",element:ee.jsx(pQ,{})}),ee.jsx(gl,{path:"results",element:ee.jsx(hQ,{})}),ee.jsx(gl,{path:"/*",element:ee.jsx(q$,{to:"/"})})]})})})}Qq.createRoot(document.getElementById("root")).render(ee.jsx(F.StrictMode,{children:ee.jsx(cU,{children:ee.jsx(S6,{children:ee.jsx(See,{})})})}));
